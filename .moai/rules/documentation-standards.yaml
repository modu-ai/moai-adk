# MoAI-ADK Documentation Standards
# Single Source of Truth for documentation formatting and structure
# Version: 1.0.0
# Last Updated: 2026-01-22

---
standards:
  version: "1.0.0"
  description: "Documentation formatting and structure standards"
  purpose: "Consistent, clear, and maintainable documentation"

# Required Practices
required_practices:
  formatting_requirements:
    markdown:
      - "Use detailed markdown formatting for explanations"
      - "Use headers (##, ###) for section organization"
      - "Use bold (**text**) for emphasis"
      - "Use code blocks (```) for examples"
      - "Use inline code (`text`) for technical terms"

    procedures:
      - "Document step-by-step procedures in text form"
      - "Number steps sequentially (1., 2., 3.)"
      - "Provide clear action verbs for each step"
      - "Include expected outcomes where relevant"

    concepts:
      - "Describe concepts and logic in narrative style"
      - "Provide context before technical details"
      - "Use examples to illustrate concepts"
      - "Explain the 'why' not just the 'how'"

    workflows:
      - "Present workflows with clear textual descriptions"
      - "Describe flow from start to finish"
      - "Identify decision points in text"
      - "Explain branching conditions narratively"

    organization:
      - "Organize information using list format"
      - "Use bullet points for non-ordered items"
      - "Use numbered lists for sequences"
      - "Group related information together"

# Content Restrictions (HARD Rules)
content_restrictions:
  hard_rules:
    prohibited:
      conceptual_as_code:
        rule: "[HARD] Conceptual explanations expressed as code examples"
        reason: "Code examples can be misinterpreted as executable commands"
        correction: "Use narrative text for conceptual explanations"

      flow_control_as_code:
        rule: "[HARD] Flow control logic expressed as code syntax"
        reason: "Flow control must use narrative text format"
        correction: "Describe flow control using descriptive text"

      decision_trees_as_code:
        rule: "[HARD] Decision trees shown as code structures"
        reason: "Code structures are not readable for decision logic"
        correction: "Use narrative text to describe decision paths"

      tables_in_instructions:
        rule: "[HARD] Table format in instructions"
        reason: "Tables are not parseable by agents"
        correction: "Use lists or narrative text instead"

      emoji_in_instructions:
        rule: "[HARD] Emoji characters in instructions"
        reason: "Emoji are visual branding, not instructional content"
        correction: "Use text descriptions only"

      time_estimates:
        rule: "[HARD] Time estimates or duration predictions"
        reason: "Time estimates are unreliable and context-dependent"
        correction: "Focus on task complexity, not duration"

# Scope of Application
scope:
  applies_to:
    instruction_documents:
      - "CLAUDE.md"
      - "Agent definitions (.claude/agents/**/*.md)"
      - "Slash commands (.claude/commands/**/*.md)"
      - "Skill definitions (.claude/skills/**/*.md)"
      - "Hook definitions (.claude/hooks/**/*.py)"
      - "Configuration files (.moai/config/**/*.yaml)"

    reason: "These files are read by Claude Code and must follow agent-readable standards"

  does_not_apply_to:
    user_facing:
      - "Output styles (.claude/output-styles/**/*.md)"
      - "User-facing documentation (README.md, docs/)"
      - "Release notes (CHANGELOG.md)"
      - "Contributing guides (CONTRIBUTING.md)"

    code_files:
      - "Source code (*.py, *.ts, *.js, etc.)"
      - "Test files (test_*.py, *.test.ts)"
      - "Configuration files (.env, .gitignore)"

    reason: "These files are intended for human readers and have different standards"

# Formatting Guidelines
formatting_guidelines:
  markdown:
    headers:
      - "Use ## for main sections"
      - "Use ### for subsections"
      - "Use #### for nested sections"
      - "Skip level 1 (#) as it's reserved for document title"

    emphasis:
      - "Use **bold** for important terms"
      - "Use *italic* for secondary emphasis"
      - "Use `inline code` for technical terms"
      - "Use ***bold italic*** for critical emphasis"

    code_blocks:
      - "Use ``` for multi-line code blocks"
      - "Specify language for syntax highlighting (```python)"
      - "Use ` for inline code references"

    lists:
      - "Use - for bullet points"
      - "Use 1., 2., 3. for numbered lists"
      - "Indent nested lists with 2 spaces"
      - "Use - for nested bullet points"

    links:
      - "Use [text](url) for markdown links"
      - "Provide descriptive link text"
      - "Include https:// for external links"
      - "Use relative paths for internal links"

  structure:
    document_organization:
      - "Start with brief introduction"
      - "Group related content in sections"
      - "Use subsections for detailed content"
      - "Include summary or conclusion for long documents"

    section_organization:
      - "Each section should have single focus"
      - "Sections should be 2-5 paragraphs"
      - "Use bullet points for lists of items"
      - "Include examples for complex concepts"

# Language Standards
language_standards:
  code:
    source_code:
      language: "English"
      reason: "Code is language-independent and English is universal"
      conventions:
        - "All code in English"
        - "Comments in English"
        - "Variable names in English"
        - "Function names in English"

    configuration_files:
      language: "English"
      applies_to:
        - "Command files (.claude/commands/**/*.md)"
        - "Agent definitions (.claude/agents/**/*.md)"
        - "Skill definitions (.claude/skills/**/*.md)"
        - "Hook scripts (.claude/hooks/**/*.py)"
        - "CLAUDE.md"
      reason: "These are code, not user-facing content"

  user_facing:
    documentation:
      language: "Multi-language support"
      applies_to:
        - "README.md"
        - "CHANGELOG.md"
        - "User guides"
        - "API documentation"
      reason: "Users prefer documentation in their native language"

# Best Practices
best_practices:
  clarity:
    - "Write in clear, simple language"
    - "Avoid jargon unless necessary"
    - "Define technical terms on first use"
    - "Provide examples for complex concepts"

  conciseness:
    - "Be brief but complete"
    - "Avoid redundancy"
    - "Focus on essential information"
    - "Use lists to reduce text density"

  consistency:
    - "Use consistent terminology"
    - "Follow established patterns"
    - "Maintain uniform formatting"
    - "Apply standards uniformly"

  accessibility:
    - "Use descriptive link text"
    - "Provide alt text for images"
    - "Use sufficient contrast"
    - "Structure documents logically"

# Examples
examples:
  good_documentation:
    description: "Clear narrative explanation"
    content: |
      ## Authentication Flow

      The authentication process begins when the user submits their credentials. First, the system validates the email format. If valid, the system checks if the user exists in the database. When found, the system verifies the password hash. Upon successful verification, the system generates a JWT token valid for 24 hours.

  bad_documentation:
    description: "Conceptual explanation as code (prohibited)"
    content: |
      ## Authentication Flow

      ```python
      if user.exists():
        if user.verify_password(password):
          token = generate_jwt()
          return token
      ```
      [DO NOT DO THIS - use narrative text instead]

  good_procedure:
    description: "Step-by-step text procedure"
    content: |
      ## Creating a New Skill

      1. Create a new directory in .claude/skills/
      2. Create a SKILL.md file with YAML frontmatter
      3. Define the skill name, description, and version
      4. Add progressive disclosure configuration
      5. Document the skill purpose and use cases
      6. Add implementation examples if needed

  bad_procedure:
    description: "Decision tree as table (prohibited)"
    content: |
      ## Creating a New Skill

      | Step | Action | Next |
      |------|--------|------|
      | 1 | Create directory | Step 2 |
      | 2 | Create SKILL.md | Step 3 |
      [DO NOT DO THIS - use numbered list instead]

# Validation Checklist
validation_checklist:
  format_check:
    - "Document uses markdown formatting"
    - "Headers use ##, ### format"
    - "Code blocks use ``` with language specifier"
    - "Lists use proper markdown syntax"

  content_check:
    - "No conceptual explanations as code"
    - "No flow control as code syntax"
    - "No decision trees as code structures"
    - "No tables in instruction sections"
    - "No emoji characters in instructions"
    - "No time estimates in procedures"

  language_check:
    - "Code and comments are in English"
    - "Technical terms are consistent"
    - "Jargon is defined on first use"
    - "User-facing text follows language preferences"

  structure_check:
    - "Document has clear introduction"
    - "Sections are logically organized"
    - "Related content is grouped"
    - "Examples illustrate key concepts"

# Migration Guide
migration:
  from_code_heavy:
    description: "Converting code-heavy documentation to narrative style"
    steps:
      1: "Identify code examples used for conceptual explanations"
      2: "Rewrite explanations in narrative text"
      3: "Preserve actual executable code examples"
      4: "Add context and reasoning to procedures"
      5: "Convert tables to lists or narrative text"
      6: "Remove all emoji from instruction sections"
      7: "Remove time estimates from procedures"

  from_inconsistent:
    description: "Standardizing inconsistent documentation"
    steps:
      1: "Review all documentation files"
      2: "Identify format inconsistencies"
      3: "Apply markdown formatting standards"
      4: "Ensure consistent terminology"
      5: "Verify English language usage in code"
      6: "Validate against content restrictions"
      7: "Test with agent parsing"
