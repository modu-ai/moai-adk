# MoAI-ADK v0.5.0 Essential Pack 확장 계획

> **v0.4.0 → v0.5.0 로드맵**
>
> 작성일: 2025-10-20
> 작성자: Alfred SuperAgent
> 목표: Essential Pack 확장 (Skills 마켓 제외)

---

## 📋 Executive Summary

### 🎯 목표

**"Alfred 에이전트 전용 Skills 추가"**

v0.4.0의 44개 Skills에서 **Alfred 전용 Skills 2개 추가**하여 에이전트 자동화 강화.

**핵심 차별점**:
- ❌ **Skills 마켓플레이스**: 제외 (커뮤니티 기여 불필요)
- ✅ **Alfred 전용 Skills**: 에이전트가 자동으로 호출하는 전문 Skills
- ✅ **기존 Skills 활용**: 중복 최소화, 기존 모듈과 통합

---

## 📊 현재 상태 (v0.4.0)

### 기존 Skills 현황 (44개)

| 카테고리 | Skills 수 | 대표 Skills |
|---------|----------|------------|
| **Foundation** | 6개 | git, langs, ears, specs, tags, trust |
| **Essentials** | 4개 | debug, perf, refactor, review |
| **Language** | 23개 | python, typescript, java, go, rust, dart, swift, kotlin... |
| **Domain** | 10개 | backend, frontend, mobile-app, web-api, database, devops... |
| **Claude Code** | 1개 | moai-claude-code |

### 기존 Essentials Skills 분석

| Skill | 역할 | 호출 방법 | 한계 |
|-------|------|----------|------|
| `moai-essentials-review` | 코드 리뷰 (SOLID, Code Smells) | 사용자 명시 호출 | Alfred 자동 호출 불가 |
| `moai-essentials-debug` | 디버깅 (Stack Trace) | 사용자 명시 호출 | 런타임 에러 자동 분석 불가 |
| `moai-essentials-refactor` | 리팩토링 가이드 | 사용자 명시 호출 | - |
| `moai-essentials-perf` | 성능 최적화 | 사용자 명시 호출 | - |

**문제점**:
- 기존 Essentials Skills는 사용자가 명시적으로 호출해야 함
- Alfred 에이전트가 자동으로 호출할 수 없음
- 런타임 에러 발생 시 자동 분석 불가능

---

## 🚀 v0.5.0 추가 Skills (2개)

### 1. moai-alfred-code-reviewer

**역할**: PR 생성 시 Alfred가 자동으로 코드 리뷰 수행

**차별점**:
- ✅ Alfred가 `/alfred:3-sync` 완료 후 자동 호출
- ✅ PR 생성 전 자동 품질 검증
- ✅ TRUST 5원칙 + SPEC 준수 통합 검증

**기능**:
```markdown
## Auto-invoked by Alfred

1. **TRUST 5원칙 검증**
   - Test First: 커버리지 ≥85%
   - Readable: 파일 ≤300 LOC, 함수 ≤50 LOC
   - Unified: SPEC 준수 확인
   - Secured: 보안 취약점 스캔
   - Trackable: @TAG 체인 완전성

2. **Code Quality Check**
   - SOLID 원칙 위반 탐지
   - Code Smells 탐지
   - 언어별 Best Practice 확인

3. **Auto-fix Suggestions**
   - 자동 수정 가능한 이슈는 즉시 제안
   - Critical 이슈는 PR 생성 차단
   - Warning 이슈는 경고만 표시
```

**vs moai-essentials-review**:
- `moai-essentials-review`: 사용자가 명시적 호출 ("코드 리뷰해줘")
- `moai-alfred-code-reviewer`: Alfred가 자동 호출 (/alfred:3-sync 후)

---

### 2. moai-alfred-error-explainer

**역할**: 런타임 에러 발생 시 Alfred가 자동으로 원인 분석 및 해결 방법 제시

**차별점**:
- ✅ Python traceback, TypeScript stack trace 자동 파싱
- ✅ SPEC 기반 원인 분석 (해당 @CODE:ID의 SPEC 참조)
- ✅ 언어별 일반적인 에러 패턴 DB 활용

**기능**:
```markdown
## Auto-invoked on Runtime Errors

1. **Error Context Collection**
   - Stack trace parsing
   - 관련 @CODE:ID → @SPEC:ID 추적
   - 최근 변경 이력 (Git log)

2. **Root Cause Analysis**
   - SPEC 요구사항 vs 실제 구현 비교
   - 일반적인 에러 패턴 매칭
   - 의존성 버전 충돌 확인

3. **Fix Suggestions**
   - 즉시 수정 가능한 코드 제시
   - SPEC 수정 필요 여부 판단
   - 관련 문서/Stack Overflow 링크
```

**vs moai-essentials-debug**:
- `moai-essentials-debug`: 사용자가 명시적 호출 ("에러 해결해줘")
- `moai-alfred-error-explainer`: Alfred가 자동 호출 (에러 발생 시)

---

## 📁 디렉토리 구조

```
.claude/skills/
├── moai-alfred-code-reviewer/
│   └── SKILL.md
├── moai-alfred-error-explainer/
│   └── SKILL.md
├── moai-essentials-review/       # 기존 (사용자 명시 호출)
│   └── SKILL.md
└── moai-essentials-debug/        # 기존 (사용자 명시 호출)
    └── SKILL.md
```

**명명 규칙**:
- `moai-alfred-*`: Alfred 에이전트 전용 (자동 호출)
- `moai-essentials-*`: 사용자 명시 호출

---

## 🎯 성공 기준

### 정량적 지표

- [ ] Skills 수: 44개 → 46개 (2개 추가)
- [ ] Alfred 자동 호출 성공률: ≥95%
- [ ] 에러 해결 시간 단축: 평균 20% 이상

### 정성적 지표

- [ ] PR 생성 시 자동 품질 검증 동작 확인
- [ ] 런타임 에러 발생 시 자동 분석 동작 확인
- [ ] 기존 Essentials Skills와 충돌 없음

---

## 📅 구현 순서

### Phase 1: moai-alfred-code-reviewer 구현 (Week 1)

1. ✅ SKILL.md 작성 (YAML Front Matter + 본문)
2. ✅ `/alfred:3-sync` 커맨드와 통합
3. ✅ TRUST 5원칙 자동 검증 로직
4. ✅ 테스트 및 검증

### Phase 2: moai-alfred-error-explainer 구현 (Week 2)

1. ✅ SKILL.md 작성
2. ✅ debug-helper 에이전트와 통합
3. ✅ 언어별 에러 패턴 DB 구축
4. ✅ SPEC 기반 원인 분석 로직

### Phase 3: 통합 테스트 (Week 3)

1. ✅ v0.5.0-alpha 릴리즈
2. ✅ 내부 테스트 (MoAI-ADK 자체 프로젝트)
3. ✅ 피드백 수집 및 개선
4. ✅ v0.5.0 정식 릴리즈

---

## 🔄 기존 에이전트와 통합

### `/alfred:3-sync` 커맨드 개선

**Before (v0.4.0)**:
```bash
/alfred:3-sync
→ TAG 체인 검증
→ 문서 동기화
→ PR Ready 전환
```

**After (v0.5.0)**:
```bash
/alfred:3-sync
→ TAG 체인 검증
→ 문서 동기화
→ **moai-alfred-code-reviewer 자동 호출** ⭐ NEW
   ├─ TRUST 5원칙 검증
   ├─ Code Quality Check
   └─ Critical Issue 발견 시 PR 생성 차단
→ PR Ready 전환 (Issue 없을 때만)
```

### `debug-helper` 에이전트 개선

**Before (v0.4.0)**:
```bash
# 에러 발생
→ 사용자가 수동으로 "에러 해결해줘" 입력
→ moai-essentials-debug 호출
```

**After (v0.5.0)**:
```bash
# 에러 발생
→ **moai-alfred-error-explainer 자동 호출** ⭐ NEW
   ├─ Stack trace 자동 파싱
   ├─ SPEC 기반 원인 분석
   └─ Fix Suggestion 제시
→ 사용자에게 해결 방법 보고
```

---

## 🚧 제외 사항

### ❌ Skills 마켓플레이스

**제외 이유**:
- 커뮤니티 기여 불필요 (현재 단계)
- 품질 관리 부담
- 현재 44개 Skills로 충분

**대신 집중**:
- Alfred 에이전트 자동화 강화
- 기존 Skills 최적화
- SPEC-First TDD 워크플로우 개선

---

## 다음 단계 (v0.6.0)

v0.5.0 완료 후 다음 방향:

1. **Alfred 에이전트 추가 Skills** (선택적)
   - moai-alfred-test-generator (자동 테스트 생성)
   - moai-alfred-doc-generator (자동 문서 생성)

2. **기존 Skills 최적화**
   - Language Skills 통합 (중복 제거)
   - Progressive Disclosure 강화

3. **SPEC 기반 워크플로우 개선**
   - SPEC 버전 관리 강화
   - TAG 추적성 시각화

---

**작성자**: Alfred SuperAgent
**승인**: 사용자 확인 대기
**다음 단계**: moai-alfred-code-reviewer Skill 구현 시작
