# ğŸŒ nano-banana Agent Blueprint

**Google Nano Banana Pro ì´ë¯¸ì§€ ìƒì„±/í¸ì§‘ ì „ë¬¸ê°€ ì—ì´ì „íŠ¸**

---

## ğŸ“‹ Agent Overview

### Agent ID
```
nano-banana
```

### Primary Purpose
ê³ ê¸‰ ì´ë¯¸ì§€ ìƒì„± ë° í¸ì§‘ ì‘ì—…ì„ ìœ„í•œ ì „ë¬¸ê°€ ì—ì´ì „íŠ¸ë¡œ, ì‚¬ìš©ìì˜ ìì—°ìŠ¤ëŸ¬ìš´ ìš”ì²­ì„ ë¶„ì„í•˜ì—¬ Nano Banana Pro ìµœì í™”ëœ êµ¬ì¡°í™”ëœ í”„ë¡¬í”„íŠ¸ë¡œ ë³€í™˜í•˜ê³ , ìµœê³  í’ˆì§ˆì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„±/í¸ì§‘í•˜ë©°, ì‚¬ìš©ì í”¼ë“œë°±ì„ ë°˜ì˜í•œ ì ì§„ì  ê°œì„ ì„ ì œê³µí•©ë‹ˆë‹¤.

### Core Responsibilities

1. **ìš”ì²­ ë¶„ì„ ë° í•´ì„**
   - ì‚¬ìš©ìì˜ ì´ë¯¸ì§€ ìƒì„±/í¸ì§‘ ìš”ì²­ ì´í•´
   - ëª…ì‹œì /ì•”ë¬µì  ìš”êµ¬ì‚¬í•­ ì¶”ì¶œ
   - ìµœì  í•´ìƒë„, ìŠ¤íƒ€ì¼, ë¶„ìœ„ê¸° ì œì•ˆ

2. **í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§**
   - ìì—°ì–´ ìš”ì²­ â†’ Nano Banana Pro ìµœì í™” í”„ë¡¬í”„íŠ¸ ë³€í™˜
   - í¬í† ê·¸ë˜í”½ ìš”ì†Œ ê°•í™” (ì¡°ëª…, ì¹´ë©”ë¼, ë Œì¦ˆ)
   - ìƒ‰ê°, ë¶„ìœ„ê¸°, ìŠ¤íƒ€ì¼ ëª…í™•í™”
   - ë‹¤êµ­ì–´ ì§€ì› (en, es, ja, zh, hi)

3. **ì´ë¯¸ì§€ ìƒì„±/í¸ì§‘ ì‹¤í–‰**
   - Nano Banana Pro API í˜¸ì¶œ (moai-domain-nano-banana Skill ì‚¬ìš©)
   - íŒŒë¼ë¯¸í„° ìµœì í™” (í•´ìƒë„, ì¢…íš¡ë¹„, Thinking í”„ë¡œì„¸ìŠ¤)
   - Google Search ì‹¤ì‹œê°„ ì •ë³´ ì—°ë™ íŒë‹¨
   - ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ì „ëµ

4. **í’ˆì§ˆ ê²€ì¦ ë° ê°œì„ **
   - ìƒì„±ëœ ì´ë¯¸ì§€ í’ˆì§ˆ í‰ê°€
   - ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘
   - ë°˜ë³µì  ê°œì„  (Multi-turn í¸ì§‘)
   - ìµœì¢… ê²°ê³¼ë¬¼ ìµœì í™”

5. **ì—”í„°í”„ë¼ì´ì¦ˆ ì§€ì›**
   - Google Cloud/Vertex AI í†µí•© ìƒë‹´
   - ë°°ì¹˜ ì²˜ë¦¬ ì‘ì—… ì¡°ì§
   - ë¹„ìš© ì¶”ì • ë° ìµœì í™”
   - í”„ë¡œë•ì…˜ ë°°í¬ ê°€ì´ë“œ

---

## ğŸ”„ Agent Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ì‚¬ìš©ì ìš”ì²­ ì…ë ¥                        â”‚
â”‚  ("ë‚˜ë…¸ë°”ë‚˜ë‚˜ ë¨¹ëŠ” ê³ ì–‘ì´ ì‚¬ì§„ ë§Œë“¤ì–´ì¤„ ìˆ˜ ìˆë‚˜?")      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Phase 1: ìš”êµ¬ì‚¬í•­ ë¶„ì„ & ëª…í™•í™”              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ AskUserQuestion Tool ì‚¬ìš©                  â”‚        â”‚
â”‚  â”‚                                            â”‚        â”‚
â”‚  â”‚ Q1: ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼? (ì‚¬ì§„/ì¼ëŸ¬/ì• ë‹ˆ)       â”‚        â”‚
â”‚  â”‚ Q2: í•´ìƒë„? (1K/2K/4K - 2K ê¶Œì¥)          â”‚        â”‚
â”‚  â”‚ Q3: ë¶„ìœ„ê¸°? (ê·€ì—¬ìš´/í˜„ì‹¤ì /ê¿ˆê¾¸ëŠ” ë“¯í•œ)  â”‚        â”‚
â”‚  â”‚ Q4: ë°°ê²½? (ì‹¤ë‚´/ì‹¤ì™¸/ìŠ¤íŠœë””ì˜¤)            â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  ê²°ê³¼: ëª…í™•í•œ ìš”êµ¬ì‚¬í•­ ì •ì˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Phase 2: í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ & ìµœì í™”           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ìì—°ì–´ â†’ êµ¬ì¡°í™”ëœ í”„ë¡¬í”„íŠ¸ ë³€í™˜             â”‚        â”‚
â”‚  â”‚                                            â”‚        â”‚
â”‚  â”‚ [Scene] ë‚˜ë…¸ë°”ë‚˜ë‚˜ë¥¼ ì¦ê¸°ëŠ” ê³ ì–‘ì´ í´ë¡œì¦ˆì—…â”‚        â”‚
â”‚  â”‚ [Photographic]                            â”‚        â”‚
â”‚  â”‚  - ì¡°ëª…: ë”°ëœ»í•œ í™©ê¸ˆì‹œê°„ ë¹›                â”‚        â”‚
â”‚  â”‚  - ì¹´ë©”ë¼: 85mm ì´ˆìƒí™” ë Œì¦ˆ, ì–•ì€ ì‹¬ë„    â”‚        â”‚
â”‚  â”‚  - ë¶„ìœ„ê¸°: ë¶€ë“œëŸ½ê³  ê·€ì—¬ìš´ ë¬´ë“œ             â”‚        â”‚
â”‚  â”‚ [Colors] ë”°ëœ»í•œ í†¤, íŒŒìŠ¤í…” ìƒ‰ìƒ            â”‚        â”‚
â”‚  â”‚ [Quality] ìŠ¤íŠœë””ì˜¤ê¸‰, ê³ í•´ìƒë„, ì „ë¬¸ ì´¬ì˜  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  ê²°ê³¼: Nano Banana Pro ìµœì í™” í”„ë¡¬í”„íŠ¸                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Phase 3: ì´ë¯¸ì§€ ìƒì„± (Nano Banana Pro API)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ moai-domain-nano-banana Skill í˜¸ì¶œ         â”‚        â”‚
â”‚  â”‚                                            â”‚        â”‚
â”‚  â”‚ client.generate_image(                    â”‚        â”‚
â”‚  â”‚   prompt="[ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸]",            â”‚        â”‚
â”‚  â”‚   resolution="2K",                       â”‚        â”‚
â”‚  â”‚   aspect_ratio="16:9",                   â”‚        â”‚
â”‚  â”‚   enable_google_search=True,             â”‚        â”‚
â”‚  â”‚   enable_thinking=True                   â”‚        â”‚
â”‚  â”‚ )                                        â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  ê²°ê³¼: Base64 ì´ë¯¸ì§€ ë°ì´í„° + ë©”íƒ€ë°ì´í„°                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Phase 4: ê²°ê³¼ ì œì‹œ & ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ìƒì„±ëœ ì´ë¯¸ì§€ í‘œì‹œ                          â”‚        â”‚
â”‚  â”‚ ì‚¬ìš©ëœ í”„ë¡¬í”„íŠ¸ ì„¤ëª…                        â”‚        â”‚
â”‚  â”‚ í’ˆì§ˆ ê²€ì¦ (SynthID ì›Œí„°ë§ˆí¬ í™•ì¸)          â”‚        â”‚
â”‚  â”‚                                            â”‚        â”‚
â”‚  â”‚ "ì´ë¯¸ì§€ê°€ ë§ˆìŒì— ë“œì‹œë‚˜ìš”?                  â”‚        â”‚
â”‚  â”‚  ìˆ˜ì •ì´ í•„ìš”í•˜ì‹  ë¶€ë¶„ì´ ìˆìœ¼ì‹ ê°€ìš”?"       â”‚        â”‚
â”‚  â”‚                                            â”‚        â”‚
â”‚  â”‚ ì˜µì…˜:                                      â”‚        â”‚
â”‚  â”‚ A) ì™„ë²½í•¨ - ìµœì¢… ì œê³µ                     â”‚        â”‚
â”‚  â”‚ B) ìˆ˜ì • í•„ìš” - í¸ì§‘ ì‹¤í–‰                   â”‚        â”‚
â”‚  â”‚ C) ë‹¤ì‹œ ìƒì„± - ë‹¤ë¥¸ ìŠ¤íƒ€ì¼/ì„¤ì •            â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                 â”‚
          â–¼                 â–¼
    [ìµœì¢… ì œê³µ]      [Phase 5: ë°˜ë³µ í¸ì§‘]
                   (B or C ì„ íƒ ì‹œ)
                     â”‚
                     â–¼
              image_to_image í¸ì§‘ í˜¸ì¶œ
              ì¬ìƒì„± ì˜µì…˜ ì œì‹œ
              ë‹¤ì‹œ Phase 4ë¡œ
```

---

## ğŸ› ï¸ Implementation Details

### Agent Architecture

```
nano-banana Agent
â”œâ”€â”€ Core Engine
â”‚   â”œâ”€â”€ request_analyzer.py
â”‚   â”œâ”€â”€ prompt_engineer.py
â”‚   â”œâ”€â”€ image_generator.py
â”‚   â””â”€â”€ feedback_processor.py
â”‚
â”œâ”€â”€ Integration
â”‚   â”œâ”€â”€ Skill: moai-domain-nano-banana
â”‚   â”œâ”€â”€ Skill: moai-lang-python
â”‚   â”œâ”€â”€ Skill: moai-core-env-security
â”‚   â”œâ”€â”€ Skill: moai-domain-cloud
â”‚   â””â”€â”€ Skill: moai-essentials-debug
â”‚
â””â”€â”€ Tools
    â”œâ”€â”€ AskUserQuestion (ìš”êµ¬ì‚¬í•­ ëª…í™•í™”)
    â”œâ”€â”€ Read/Write (ê²°ê³¼ ì €ì¥)
    â”œâ”€â”€ Bash (í™˜ê²½ ë³€ìˆ˜, ë¡œê¹…)
    â””â”€â”€ Task (ë³µì¡í•œ ì²˜ë¦¬ ìœ„ì„)
```

### Key Classes & Methods

#### 1. RequestAnalyzer
```python
class RequestAnalyzer:
    def analyze(request: str) -> dict:
        """ìì—°ì–´ ìš”ì²­ ë¶„ì„"""
        return {
            "task_type": "generate" | "edit" | "refine",
            "subject": str,
            "style": str,
            "mood": str,
            "requirements": {
                "resolution": "1K" | "2K" | "4K",
                "aspect_ratio": str,
                "background": str,
                "lighting": str
            },
            "clarification_needed": bool,
            "clarification_questions": List[str]
        }

    def clarify_with_user(questions: List[str]) -> dict:
        """AskUserQuestionìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸"""
        pass
```

#### 2. PromptEngineer
```python
class PromptEngineer:
    def structure_prompt(request: dict) -> str:
        """ìì—°ì–´ ìš”ì²­ì„ Nano Banana Pro ìµœì í™” í”„ë¡¬í”„íŠ¸ë¡œ ë³€í™˜"""
        # Template ê¸°ë°˜ ìƒì„±
        # í¬í† ê·¸ë˜í”½ ìš”ì†Œ ê°•í™”
        # ìƒ‰ê°/ë¶„ìœ„ê¸°/ìŠ¤íƒ€ì¼ ëª…í™•í™”
        return optimized_prompt

    def add_photographic_details(
        base_prompt: str,
        camera_type: str = None,
        lighting: str = None,
        lens: str = None
    ) -> str:
        """í¬í† ê·¸ë˜í”½ ì „ë¬¸ ìš©ì–´ ì¶”ê°€"""
        pass

    def validate_prompt(prompt: str) -> bool:
        """í”„ë¡¬í”„íŠ¸ í’ˆì§ˆ ê²€ì¦"""
        # ê¸¸ì´ ì²´í¬
        # í‚¤ì›Œë“œë§Œ ìˆëŠ”ì§€ ì—¬ë¶€ (ë¶€ì •)
        # ì œì•½ì‚¬í•­ í¬í•¨ ì—¬ë¶€
        pass
```

#### 3. ImageGenerator
```python
class ImageGenerator:
    def generate(
        prompt: str,
        resolution: str = "2K",
        aspect_ratio: str = "16:9",
        style_override: dict = None
    ) -> dict:
        """Nano Banana Proë¥¼ í†µí•´ ì´ë¯¸ì§€ ìƒì„±"""
        # moai-domain-nano-banana Skill í˜¸ì¶œ
        # ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„
        # ê²°ê³¼ ê²€ì¦
        return {
            "image_data": str,
            "metadata": dict,
            "quality_score": float,
            "watermark_present": bool
        }

    def edit(
        image_path: str,
        instruction: str,
        preserve_composition: bool = True
    ) -> dict:
        """ê¸°ì¡´ ì´ë¯¸ì§€ í¸ì§‘"""
        pass

    def handle_error(error: Exception) -> dict:
        """ì—ëŸ¬ ì²˜ë¦¬ ë° ë³µêµ¬ ì „ëµ"""
        # í• ë‹¹ëŸ‰ ì´ˆê³¼ â†’ í•´ìƒë„ ë‹¤ìš´ê·¸ë ˆì´ë“œ
        # ì•ˆì „ì„± í•„í„° â†’ í”„ë¡¬í”„íŠ¸ ì¬êµ¬ì„±
        # íƒ€ì„ì•„ì›ƒ â†’ ì¬ì‹œë„ ë˜ëŠ” ê°„ì†Œí™”
```

#### 4. FeedbackProcessor
```python
class FeedbackProcessor:
    def collect_feedback() -> dict:
        """ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘"""
        return {
            "satisfaction": "satisfied" | "need_edits" | "regenerate",
            "issues": List[str],
            "edit_instructions": str
        }

    def process_edits(feedback: dict) -> dict:
        """í”¼ë“œë°± ê¸°ë°˜ í¸ì§‘ ì‹¤í–‰"""
        if feedback["satisfaction"] == "need_edits":
            return agent.edit_image(...)
        elif feedback["satisfaction"] == "regenerate":
            return agent.generate_image(...)
        else:
            return {"status": "complete"}
```

---

## ğŸ¯ User Interaction Patterns

### Pattern 1: ê¸°ë³¸ ìƒì„±

**ì‚¬ìš©ì**: "ë©‹ì§„ ì‚°ê²½ ì‚¬ì§„ ë§Œë“¤ì–´ì¤„ë˜?"

**Agent Flow**:
1. ìš”ì²­ ë¶„ì„
2. í•„ìš”ì‹œ AskUserQuestionìœ¼ë¡œ ëª…í™•í™”
   - "í•´ìƒë„ëŠ”? (1K/2K/4K)"
   - "ì‹œê°„ëŒ€ëŠ”? (ì•„ì¹¨/ì˜¤í›„/í™©í˜¼)"
   - "ê³„ì ˆì€? (ë´„/ì—¬ë¦„/ê°€ì„/ê²¨ìš¸)"
3. í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§
4. ì´ë¯¸ì§€ ìƒì„±
5. ê²°ê³¼ ì œì‹œ

**ì‘ë‹µ ì˜ˆì‹œ**:
```
ğŸ¨ ì´ë¯¸ì§€ê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!

ğŸ“¸ ìƒì„± ì„¤ì •:
- í•´ìƒë„: 2K
- ì¢…íš¡ë¹„: 16:9
- ìŠ¤íƒ€ì¼: ì‚¬ì§„ (ì „ë¬¸ê°€ê¸‰)
- ë¶„ìœ„ê¸°: ê²½ì´ë¡œìš´, ì›…ì¥í•œ

ğŸ¯ ì‚¬ìš©ëœ í”„ë¡¬í”„íŠ¸:
"A breathtaking mountain landscape at golden hour...
(ìƒì„¸í•œ í”„ë¡¬í”„íŠ¸)"

âœ¨ íŠ¹ì§•:
- SynthID ì›Œí„°ë§ˆí¬ í¬í•¨
- ì „ë¬¸ ì´¬ì˜ í’ˆì§ˆ
- Google Search ì‹¤ì‹œê°„ ì •ë³´ ì—°ë™

ë‹¤ìŒ ì˜µì…˜:
A) ì´ë¯¸ì§€ ì €ì¥ (ì™„ë²½í•´ìš”!)
B) ìˆ˜ì • (í•˜ëŠ˜ì„ ë” ê·¹ì ìœ¼ë¡œ...)
C) ë‹¤ì‹œ ìƒì„± (ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ë¡œ...)
```

### Pattern 2: ì´ë¯¸ì§€ í¸ì§‘

**ì‚¬ìš©ì**: "ì´ ì‚¬ì§„ ë°˜ ê³ í ìŠ¤íƒ€ì¼ë¡œ ë³€ê²½í•´ì¤„ ìˆ˜ ìˆì–´?"

**Agent Flow**:
1. íŒŒì¼ ê²€ì¦
2. í¸ì§‘ ëª…ë ¹ ë¶„ì„
3. Nano Banana Pro image-to-image í˜¸ì¶œ
4. ê²°ê³¼ ë¹„êµ (ì›ë³¸ vs í¸ì§‘)
5. í”¼ë“œë°± ìˆ˜ì§‘

### Pattern 3: ë°°ì¹˜ ìƒì„±

**ì‚¬ìš©ì**: "3ê°œ ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ì˜ ì´ë¯¸ì§€ ë§Œë“¤ì–´ì¤„ë˜?"

**Agent Flow**:
1. ìŠ¤íƒ€ì¼ 3ê°€ì§€ ì •ì˜
2. ê° ìŠ¤íƒ€ì¼ë³„ í”„ë¡¬í”„íŠ¸ ì‘ì„±
3. ìˆœì°¨ ìƒì„± (Rate limiting ê³ ë ¤)
4. ê²°ê³¼ ë¹„êµ í…Œì´ë¸” ì œì‹œ

---

## ğŸ” Security & Compliance

### API Key Management
```python
# í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
import os
api_key = os.getenv("GOOGLE_API_KEY")

# Secret Manager í†µí•© (Google Cloud)
from google.cloud import secretmanager

client = secretmanager.SecretManagerServiceClient()
secret = client.access_secret_version(
    request={"name": "projects/.../secrets/google-api-key/versions/latest"}
)
```

### Input Validation
```python
def validate_user_input(user_prompt: str) -> bool:
    # ê¸¸ì´ ì²´í¬ (ìµœì†Œ/ìµœëŒ€)
    # ìœ í•´ ì½˜í…ì¸  í•„í„°ë§
    # ì €ì‘ê¶Œ ì¹¨í•´ ê°€ëŠ¥ì„± ê²€ì‚¬
    # ê°œì¸ì •ë³´ ë§ˆìŠ¤í‚¹
    pass
```

### Output Handling
```python
def handle_generated_image(image_data: str, metadata: dict):
    # SynthID ì›Œí„°ë§ˆí¬ ê²€ì¦
    # ë©”íƒ€ë°ì´í„° ê¸°ë¡ (ê°ì‹œ ì¶”ì )
    # ì•ˆì „ ì €ì¥ì†Œ ìœ„ì¹˜ ê²°ì •
    # ì ‘ê·¼ ì œì–´ ì„¤ì •
    pass
```

---

## ğŸš€ Deployment & Integration

### Google Cloud Run (Recommended)
```dockerfile
# Dockerfile
FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
ENV GOOGLE_API_KEY=${GOOGLE_API_KEY}

CMD ["python", "agent.py"]
```

### Vertex AI Integration
```python
from google.cloud import aiplatform

# Agentë¥¼ Vertex AIë¡œ ë°°í¬
aiplatform.init(
    project="your-project-id",
    location="us-central1"
)

# Model Registryì— ë“±ë¡
agent_model = aiplatform.Model.upload(
    display_name="nano-banana-agent",
    artifact_uri="gs://bucket/agent.pkl"
)
```

### Cloud Logging
```python
import logging
from google.cloud import logging as cloud_logging

# Cloud Loggingì— ì—ì´ì „íŠ¸ ë¡œê·¸ ì €ì¥
client = cloud_logging.Client()
client.setup_logging()

logger = logging.getLogger("nano-banana-agent")
logger.info(f"Generated image: {timestamp}")
```

---

## ğŸ“Š Monitoring & Analytics

### Key Metrics
```
- Generation success rate
- Average processing time per request
- User satisfaction score
- Cost per generation (tokens used)
- Error rate and types
- API quota utilization
```

### Dashboard Example
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Nano Banana Agent - Performance         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚ Success Rate: 98.5% âœ“                       â”‚
â”‚ Avg Time: 24.3s (2K resolution)            â”‚
â”‚ Satisfaction: 92% (4.6/5.0 stars)          â”‚
â”‚                                             â”‚
â”‚ Today's Stats:                              â”‚
â”‚ - Generations: 156                         â”‚
â”‚ - Edits: 43                                â”‚
â”‚ - API Cost: $12.45                         â”‚
â”‚ - Tokens Used: 468K                        â”‚
â”‚                                             â”‚
â”‚ Top Request Type:                          â”‚
â”‚ - Text-to-Image: 73%                       â”‚
â”‚ - Image Editing: 21%                       â”‚
â”‚ - Batch Processing: 6%                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª Testing Strategy

### Unit Tests
```python
def test_request_analyzer():
    """ìš”ì²­ ë¶„ì„ ì •í™•ë„"""
    assert analyze("ê³ ì–‘ì´ ì‚¬ì§„") == {
        "task_type": "generate",
        "subject": "cat"
    }

def test_prompt_engineer():
    """í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ í’ˆì§ˆ"""
    prompt = engineer_prompt(...)
    assert len(prompt) > 100
    assert "photographic" in prompt.lower()

def test_error_handling():
    """ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§"""
    assert handle_quota_error() == "downgrade_resolution"
```

### Integration Tests
```python
def test_end_to_end():
    """ì—”ë“œ-íˆ¬-ì—”ë“œ ì™„ì „ í”Œë¡œìš°"""
    # ì‚¬ìš©ì ìš”ì²­ â†’ ì´ë¯¸ì§€ ìƒì„± â†’ ê²°ê³¼ ë°˜í™˜
    result = agent.process_request("mountains at sunset")
    assert result["status"] == "success"
    assert result["image_path"]
```

### Load Tests
```python
# ë™ì‹œ 100 ìš”ì²­ ì²˜ë¦¬ í™•ì¸
load_test(concurrent_requests=100)
# ê²°ê³¼: 99 ì„±ê³µ (99% ì„±ê³µë¥ )
```

---

## ğŸ“š Documentation Requirements

1. **API Reference**: ëª¨ë“  ë©”ì„œë“œ ì™„ì „ ë¬¸ì„œí™”
2. **Usage Guide**: 5ê°€ì§€ ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€
3. **Prompt Guide**: Nano Banana Pro íŠ¹í™” ê°€ì´ë“œ
4. **Troubleshooting**: ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²°
5. **Performance**: ë²¤ì¹˜ë§ˆí¬ ë° ìµœì í™” íŒ

---

## ğŸ“ Training & Onboarding

### For Developers
- Agent ì•„í‚¤í…ì²˜ ì´í•´
- moai-domain-nano-banana Skill ì‚¬ìš©ë²•
- Error handling ì „ëµ
- Google Cloud í†µí•©

### For Users
- íš¨ê³¼ì ì¸ í”„ë¡¬í”„íŠ¸ ì‘ì„±ë²•
- í•´ìƒë„ ì„ íƒ ê¸°ì¤€
- ë¹„ìš© ìµœì í™”
- ë°°ì¹˜ ì²˜ë¦¬ ì‚¬ìš©ë²•

---

## ğŸ”„ Continuous Improvement

### Feedback Loop
```
ì‚¬ìš©ì ì‚¬ìš© â†’ ë¡œê¹… â†’ ë¶„ì„ â†’ ê°œì„  â†’ ë°°í¬
     â†‘                                â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Metrics for Improvement
- í”„ë¡¬í”„íŠ¸ íš¨ìœ¨ì„± ê°œì„ 
- ì—ëŸ¬ìœ¨ ê°ì†Œ
- ì²˜ë¦¬ ì†ë„ í–¥ìƒ
- ë¹„ìš© ìµœì í™”

---

## ğŸ“‹ Implementation Checklist

- [ ] Agent ê¸°ë³¸ êµ¬ì¡° ì„¤ê³„
- [ ] RequestAnalyzer êµ¬í˜„
- [ ] PromptEngineer êµ¬í˜„
- [ ] ImageGenerator êµ¬í˜„ (Skill ì—°ë™)
- [ ] FeedbackProcessor êµ¬í˜„
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§
- [ ] ë³´ì•ˆ ë° ì…ë ¥ ê²€ì¦
- [ ] Google Cloud í†µí•©
- [ ] ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (85% ì»¤ë²„ë¦¬ì§€)
- [ ] í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì ê°€ì´ë“œ ì‘ì„±
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] í”„ë¡œë•ì…˜ ë°°í¬

---

## ğŸ¯ Success Criteria

âœ… **AgentëŠ” ë‹¤ìŒì„ ì¶©ì¡±í•´ì•¼ í•¨:**

1. ìì—°ì–´ ìš”ì²­ì„ ì •í™•íˆ ë¶„ì„ (ì •í™•ë„ 95%)
2. Nano Banana Pro ìµœì í™” í”„ë¡¬í”„íŠ¸ ìƒì„± (í’ˆì§ˆ í‰ê°€ 4.5/5.0 ì´ìƒ)
3. 98% ì´ìƒì˜ ì„±ê³µë¥ ë¡œ ì´ë¯¸ì§€ ìƒì„±
4. ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜í•œ ë°˜ë³µ ê°œì„ 
5. í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì•ˆì •ì  ìš´ì˜ (99.5% ê°€ìš©ì„±)
6. ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ì™€ ë³µêµ¬ ì „ëµ ì œê³µ
7. ë¹„ìš© íš¨ìœ¨ì  ìš´ì˜ (ìµœì  í•´ìƒë„ ì„ íƒ)
8. Google Cloudì™€ ì™„ë²½ í†µí•©
9. ìƒì„¸í•œ ë¬¸ì„œí™” ë° ì‚¬ìš© ì˜ˆì œ
10. ëª¨ë‹ˆí„°ë§ ë° ë¶„ì„ ê¸°ëŠ¥ ì œê³µ

---

**Agent Version**: 1.0 Blueprint
**Last Updated**: 2025-11-22
**Status**: Ready for Implementation
