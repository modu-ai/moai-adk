---
title: doc-syncer - Living Document ë™ê¸°í™” ì—ì´ì „íŠ¸
description: ì½”ë“œì™€ ë¬¸ì„œì˜ ì‹¤ì‹œê°„ ë™ê¸°í™” ë° @TAG ì¶”ì ì„±ì„ ë³´ì¥í•˜ëŠ” ì „ë¬¸ ì—ì´ì „íŠ¸
---

# doc-syncer - Living Document ë™ê¸°í™” ì—ì´ì „íŠ¸

## ê°œìš”

doc-syncerëŠ” MoAI-ADKì˜ 3ë‹¨ê³„ ì›Œí¬í”Œë¡œìš° ì¤‘ **3ë‹¨ê³„(/moai:3-sync)**ë¥¼ ë‹´ë‹¹í•˜ëŠ” í•µì‹¬ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤. Living Document ê°œë…ì„ êµ¬í˜„í•˜ì—¬ ì½”ë“œ ë³€ê²½ì‚¬í•­ì´ ë¬¸ì„œì— ìë™ ë°˜ì˜ë˜ê³ , @TAG ì‹œìŠ¤í…œì„ í†µí•œ ì™„ì „í•œ ì¶”ì ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤. TDD êµ¬í˜„ ì™„ë£Œ í›„ ë°˜ë“œì‹œ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” í•„ìˆ˜ ë‹¨ê³„ì…ë‹ˆë‹¤.

### ì—­í• ê³¼ ì±…ì„

**í•µì‹¬ ì—­í• **: ì¶”ì ì„± ì—†ì´ëŠ” ì™„ì„± ì—†ìŒ (No Traceability, No Done) ì›ì¹™ êµ¬í˜„

doc-syncerì˜ ì£¼ìš” ì±…ì„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì²«ì§¸, Living Document ë™ê¸°í™”ë¥¼ í†µí•´ ì½”ë“œì™€ ë¬¸ì„œì˜ ì¼ì¹˜ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤. ì½”ë“œ ë³€ê²½ ì‹œ ê´€ë ¨ ë¬¸ì„œ(API ë¬¸ì„œ, README, ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨)ë¥¼ ìë™ìœ¼ë¡œ ê°±ì‹ í•˜ê³ , SPEC ë¬¸ì„œì™€ ì‹¤ì œ êµ¬í˜„ì˜ ì¼ì¹˜ ì—¬ë¶€ë¥¼ ê²€ì¦í•˜ë©°, ë¬¸ì„œ ë©”íƒ€ë°ì´í„°(Last Updated, Version)ë¥¼ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ë‘˜ì§¸, @TAG ì²´ì¸ ê²€ì¦ ë° ë³µêµ¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì½”ë“œ ì „ì²´ë¥¼ ìŠ¤ìº”í•˜ì—¬ TAG ë¬´ê²°ì„±ì„ í™•ì¸í•˜ê³ , Primary Chain(@REQ â†’ @DESIGN â†’ @TASK â†’ @TEST) ì™„ì „ì„±ì„ ê²€ì¦í•˜ë©°, ê³ ì•„ TAGì™€ ëŠì–´ì§„ ë§í¬ë¥¼ ìë™ ê°ì§€í•˜ì—¬ ìˆ˜ì • ì œì•ˆì„ ì œê³µí•©ë‹ˆë‹¤. ì…‹ì§¸, PR ìƒíƒœ ì „í™˜ ë° ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤. Draft PRì„ Ready for Review ìƒíƒœë¡œ ìë™ ì „í™˜í•˜ê³ (ì‚¬ìš©ì í™•ì¸ í•„ìš”), Team ëª¨ë“œì—ì„œ ì ì ˆí•œ ë¼ë²¨ì„ ìë™ìœ¼ë¡œ ë¶€ì—¬í•˜ë©°, ë¦¬ë·°ì–´ í• ë‹¹ì„ ì œì•ˆí•©ë‹ˆë‹¤(gh CLI ì‚¬ìš© ì‹œ). ë„·ì§¸, ë¬¸ì„œ ì™„ì „ì„± ì²´í¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. SPEC ë¬¸ì„œì˜ ëª¨ë“  ì„¹ì…˜ì´ ì‘ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê³ , í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ì™€ ë¬¸ì„œì˜ ì¼ì¹˜ì„±ì„ ê²€ì¦í•˜ë©°, TODO ë° FIXME ì£¼ì„ì„ ë¬¸ì„œí™”í•©ë‹ˆë‹¤.

doc-syncerëŠ” **CODE-FIRST ì² í•™**ì„ ë”°ë¦…ë‹ˆë‹¤. ë¬¸ì„œëŠ” ì½”ë“œì˜ ë³µì‚¬ë³¸ì´ ì•„ë‹ˆë¼ ì½”ë“œë¥¼ ì„¤ëª…í•˜ëŠ” ë³´ì¡° ìë£Œì…ë‹ˆë‹¤. ë”°ë¼ì„œ ì½”ë“œê°€ ì§„ì‹¤ì˜ ì›ì²œ(Single Source of Truth)ì´ë©°, ë¬¸ì„œëŠ” ì½”ë“œë¡œë¶€í„° ìë™ ìƒì„±ë˜ê±°ë‚˜ ìˆ˜ë™ ì‘ì„± ì‹œ ì½”ë“œì™€ ë™ê¸°í™”ë©ë‹ˆë‹¤. @TAG ì‹œìŠ¤í…œë„ ì¤‘ê°„ ì¸ë±ìŠ¤ íŒŒì¼ ì—†ì´ ì½”ë“œë¥¼ ì§ì ‘ ìŠ¤ìº”í•˜ì—¬ ì‹¤ì‹œê°„ ê²€ì¦í•©ë‹ˆë‹¤.

### 3ë‹¨ê³„ ì›Œí¬í”Œë¡œìš°ì—ì„œì˜ ìœ„ì¹˜

```mermaid
graph LR
    A[/moai:1-spec] -->|SPEC ìƒì„±| B[/moai:2-build]
    B -->|ì½”ë“œ êµ¬í˜„| C[/moai:3-sync]
    C -->|ë¬¸ì„œ ë™ê¸°í™”| D[ì™„ë£Œ]

    style A fill:#e9ecef,stroke:#adb5bd
    style B fill:#e9ecef,stroke:#adb5bd
    style C fill:#ff6b6b,stroke:#c92a2a,color:#fff
    style D fill:#51cf66,stroke:#2f9e44
```

**doc-syncer í™œì„±í™” ì‹œì **: ì‚¬ìš©ìê°€ `/moai:3-sync` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ TDD êµ¬í˜„ ì™„ë£Œ í›„

### ë‹¤ë¥¸ ì—ì´ì „íŠ¸ì™€ì˜ í˜‘ë ¥

**ì…ë ¥**:
- code-builderê°€ ìƒì„±í•œ êµ¬í˜„ íŒŒì¼ ë° í…ŒìŠ¤íŠ¸ íŒŒì¼
- SPEC ë¬¸ì„œ (`.moai/specs/SPEC-XXX/`)
- í”„ë¡œì íŠ¸ ë¬¸ì„œ (`.moai/project/`)
- ê¸°ì¡´ ë¬¸ì„œ (README.md, API.md, docs/ ë“±)

**ì¶œë ¥**:
- ê°±ì‹ ëœ ë¬¸ì„œ (README, API ë¬¸ì„œ, ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨)
- ë™ê¸°í™” ë¦¬í¬íŠ¸ (`.moai/reports/sync-report-{timestamp}.md`)
- TAG ê²€ì¦ ê²°ê³¼
- PR ìƒíƒœ ì „í™˜ ìš”ì²­ (git-managerì—ê²Œ ìœ„ì„)

**ì—°ê³„**:
- code-builder: êµ¬í˜„ ì™„ë£Œ í›„ doc-syncer í˜¸ì¶œ
- tag-agent: TAG ì²´ì¸ ê²€ì¦ ë° ë¬´ê²°ì„± í™•ì¸ ìš”ì²­
- git-manager: PR ìƒíƒœ ì „í™˜, ë¼ë²¨ ê´€ë¦¬, ì»¤ë°‹ ì‘ì—… ìœ„ì„
- trust-checker: ë¬¸ì„œ í’ˆì§ˆ ê²€ì¦ ìš”ì²­

**ì¤‘ìš”**: doc-syncerëŠ” Git ì‘ì—…(ì»¤ë°‹, í‘¸ì‹œ, PR ê´€ë¦¬)ì„ ì§ì ‘ ìˆ˜í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëª¨ë“  Git ì‘ì—…ì€ git-managerì—ê²Œ ìœ„ì„í•©ë‹ˆë‹¤.

---

## í•µì‹¬ ê¸°ëŠ¥

### 1. Living Document ë™ê¸°í™”

Living DocumentëŠ” ì½”ë“œ ë³€ê²½ê³¼ í•¨ê»˜ ìë™ìœ¼ë¡œ ê°±ì‹ ë˜ëŠ” ë¬¸ì„œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. doc-syncerëŠ” ì½”ë“œì™€ ë¬¸ì„œì˜ ì¼ì¹˜ì„±ì„ ìœ ì§€í•˜ëŠ” í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤.

#### ì½”ë“œ â†’ ë¬¸ì„œ ë™ê¸°í™”

ì½”ë“œ ë³€ê²½ ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ê´€ë ¨ ë¬¸ì„œë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.

**API ë¬¸ì„œ ìë™ ìƒì„±**:

```mermaid
sequenceDiagram
    participant DS as doc-syncer
    participant Code as Codebase
    participant API as API.md
    participant User

    User->>DS: /moai:3-sync ì‹¤í–‰
    DS->>Code: ì½”ë“œ ìŠ¤ìº” (AST ë¶„ì„)
    Code-->>DS: í•¨ìˆ˜/í´ë˜ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ì¶”ì¶œ

    DS->>DS: ê¸°ì¡´ API.mdì™€ ë¹„êµ
    DS->>DS: ë³€ê²½ì‚¬í•­ ê°ì§€

    alt ìƒˆë¡œìš´ API ì¶”ê°€ë¨
        DS->>API: ìƒˆ ì„¹ì…˜ ì¶”ê°€
    else ê¸°ì¡´ API ìˆ˜ì •ë¨
        DS->>API: í•´ë‹¹ ì„¹ì…˜ ê°±ì‹ 
    else API ì‚­ì œë¨
        DS->>API: Deprecated í‘œì‹œ
    end

    DS->>User: ë™ê¸°í™” ì™„ë£Œ ë³´ê³ 
```

**ì˜ˆì‹œ: Python API ë¬¸ì„œ ìë™ ìƒì„±**

```python
# src/auth/service.py
# @FEATURE:AUTH-001 | Chain: @REQ:AUTH-001 -> @DESIGN:AUTH-001 -> @TASK:AUTH-001 -> @TEST:AUTH-001
# Related: @API:AUTH-001

class AuthenticationService:
    """ì‚¬ìš©ì ì¸ì¦ ì„œë¹„ìŠ¤"""

    def authenticate(self, username: str, password: str) -> AuthenticationResult:
        """
        ì‚¬ìš©ì ì¸ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

        Args:
            username (str): ì‚¬ìš©ì ì´ë©”ì¼ ì£¼ì†Œ
            password (str): í‰ë¬¸ ë¹„ë°€ë²ˆí˜¸

        Returns:
            AuthenticationResult: ì¸ì¦ ê²°ê³¼ ê°ì²´

        Raises:
            ValueError: ì˜ëª»ëœ ì…ë ¥ í˜•ì‹
            DatabaseError: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜

        Examples:
            >>> service = AuthenticationService()
            >>> result = service.authenticate("user@example.com", "password123")
            >>> print(result.is_authenticated)
            True

        Note:
            @API:AUTH-001: JWT í† í° ê¸°ë°˜ ì¸ì¦ êµ¬í˜„
        """
        pass
```

**doc-syncerê°€ ìë™ ìƒì„±í•˜ëŠ” API.md**:

```markdown
# API Reference

## Authentication API

### `AuthenticationService.authenticate`

**@API:AUTH-001** | [Source](../src/auth/service.py#L15)

ì‚¬ìš©ì ì¸ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**Signature**:
```python
def authenticate(username: str, password: str) -> AuthenticationResult
```

**Parameters**:
| ì´ë¦„ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `username` | `str` | ì‚¬ìš©ì ì´ë©”ì¼ ì£¼ì†Œ |
| `password` | `str` | í‰ë¬¸ ë¹„ë°€ë²ˆí˜¸ |

**Returns**:
- `AuthenticationResult`: ì¸ì¦ ê²°ê³¼ ê°ì²´

**Raises**:
- `ValueError`: ì˜ëª»ëœ ì…ë ¥ í˜•ì‹
- `DatabaseError`: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜

**Example**:
```python
service = AuthenticationService()
result = service.authenticate("user@example.com", "password123")
print(result.is_authenticated)  # True
```

**Related SPEC**: [SPEC-AUTH-001](../.moai/specs/SPEC-AUTH-001/spec.md)

**Last Updated**: 2025-01-20 14:30:00
```

#### README ìë™ ê°±ì‹ 

í”„ë¡œì íŠ¸ ë³€ê²½ì‚¬í•­ì„ READMEì— ìë™ ë°˜ì˜í•©ë‹ˆë‹¤.

**ê°ì§€ ëŒ€ìƒ**:
- ìƒˆë¡œìš´ CLI ëª…ë ¹ì–´ ì¶”ê°€ â†’ Usage ì„¹ì…˜ ì—…ë°ì´íŠ¸
- ì˜ì¡´ì„± ë³€ê²½ (package.json, requirements.txt) â†’ Installation ì„¹ì…˜ ì—…ë°ì´íŠ¸
- í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€ (.env.example) â†’ Configuration ì„¹ì…˜ ì—…ë°ì´íŠ¸
- ìƒˆë¡œìš´ ê¸°ëŠ¥ êµ¬í˜„ (@FEATURE TAG) â†’ Features ì„¹ì…˜ ì—…ë°ì´íŠ¸

```typescript
// doc-syncerì˜ README ë™ê¸°í™” ë¡œì§
interface ReadmeSection {
  title: string;
  detector: (codebase: Codebase) => boolean;
  generator: (codebase: Codebase) => string;
}

const readmeSections: ReadmeSection[] = [
  {
    title: '## Installation',
    detector: (codebase) => codebase.hasChangedFile(['package.json', 'requirements.txt']),
    generator: (codebase) => generateInstallationSection(codebase.dependencies)
  },
  {
    title: '## Usage',
    detector: (codebase) => codebase.hasNewCLICommands(),
    generator: (codebase) => generateUsageSection(codebase.cliCommands)
  },
  {
    title: '## Features',
    detector: (codebase) => codebase.hasNewFeatureTags(),
    generator: (codebase) => generateFeaturesSection(codebase.features)
  }
];
```

#### ì•„í‚¤í…ì²˜ ë¬¸ì„œ ë™ê¸°í™”

ì½”ë“œ êµ¬ì¡° ë³€ê²½ ì‹œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ì„ ìë™ ê°±ì‹ í•©ë‹ˆë‹¤.

```mermaid
flowchart TD
    A[ì½”ë“œ ìŠ¤ìº”] --> B{ë””ë ‰í† ë¦¬<br/>êµ¬ì¡° ë³€ê²½?}
    B -->|Yes| C[Mermaid ë‹¤ì´ì–´ê·¸ë¨ ì¬ìƒì„±]
    B -->|No| D{ëª¨ë“ˆ ì˜ì¡´ì„±<br/>ë³€ê²½?}

    D -->|Yes| E[ì˜ì¡´ì„± ê·¸ë˜í”„ ì—…ë°ì´íŠ¸]
    D -->|No| F[ë³€ê²½ ì—†ìŒ]

    C --> G[structure.md ê°±ì‹ ]
    E --> G

    G --> H[ì‚¬ìš©ìì—ê²Œ ë³´ê³ ]

    style C fill:#fab005
    style E fill:#fab005
    style G fill:#51cf66
```

**ì˜ˆì‹œ: ìë™ ìƒì„±ë˜ëŠ” ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨**

```markdown
# Project Structure

Last Updated: 2025-01-20 14:35:00 (Auto-generated by doc-syncer)

## Directory Layout

\`\`\`
project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ auth/          # @FEATURE:AUTH-001 (3 modules)
â”‚   â”œâ”€â”€ api/           # @API:REST-001 (5 endpoints)
â”‚   â”œâ”€â”€ models/        # @DATA:USER-001 (2 models)
â”‚   â””â”€â”€ utils/         # Common utilities
â”œâ”€â”€ tests/             # 26 test files, 94% coverage
â””â”€â”€ docs/              # Living Documents
\`\`\`

## Module Dependencies

\`\`\`mermaid
graph TD
    API[api/] --> AUTH[auth/]
    API --> MODELS[models/]
    AUTH --> MODELS
    AUTH --> UTILS[utils/]

    style AUTH fill:#ff6b6b
    style API fill:#fab005
    style MODELS fill:#51cf66
\`\`\`

## @TAG Distribution

| Module | Primary Chain | Implementation | Total |
|--------|---------------|----------------|-------|
| auth/  | 4 (REQ, DESIGN, TASK, TEST) | 3 (FEATURE, API, DATA) | 7 |
| api/   | 4 | 2 (API, UI) | 6 |
| models/| 2 | 1 (DATA) | 3 |

Total: 16 TAG chains
```

### 2. @TAG ì²´ì¸ ê²€ì¦ ë° ë³µêµ¬

doc-syncerëŠ” tag-agentì™€ í˜‘ë ¥í•˜ì—¬ @TAG ì‹œìŠ¤í…œì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

#### TAG ìŠ¤ìº” ë° ê²€ì¦

```mermaid
sequenceDiagram
    participant DS as doc-syncer
    participant TA as tag-agent
    participant Code as Codebase
    participant User

    DS->>TA: TAG ê²€ì¦ ìš”ì²­
    TA->>Code: rg '@TAG' -n ì‹¤í–‰
    Code-->>TA: TAG ëª©ë¡ ë°˜í™˜

    TA->>TA: Primary Chain ê²€ì¦
    TA->>TA: Implementation TAG ê²€ì¦
    TA->>TA: ê³ ì•„ TAG ê°ì§€

    alt ê²€ì¦ ì„±ê³µ
        TA-->>DS: âœ… TAG ë¬´ê²°ì„± í™•ì¸
        DS->>User: ë™ê¸°í™” ì™„ë£Œ
    else ê²€ì¦ ì‹¤íŒ¨
        TA-->>DS: âŒ TAG ì˜¤ë¥˜ ë°œê²¬
        DS->>User: ì˜¤ë¥˜ ë¦¬í¬íŠ¸ + ìˆ˜ì • ì œì•ˆ
        User->>DS: ìˆ˜ì • ìŠ¹ì¸
        DS->>Code: TAG ìë™ ìˆ˜ì •
        DS->>TA: ì¬ê²€ì¦ ìš”ì²­
    end
```

#### Primary Chain ê²€ì¦

**ê²€ì¦ ê·œì¹™**:
1. ëª¨ë“  @TASKëŠ” @DESIGNì„ ë¶€ëª¨ë¡œ ê°€ì ¸ì•¼ í•¨
2. ëª¨ë“  @TESTëŠ” @TASKë¥¼ ì°¸ì¡°í•´ì•¼ í•¨
3. @REQ â†’ @DESIGN â†’ @TASK â†’ @TEST ìˆœì„œ ì¤€ìˆ˜
4. ë™ì¼í•œ DOMAIN-ID ì‚¬ìš© (ì˜ˆ: AUTH-001)

**ê²€ì¦ ì˜ˆì‹œ**:

```bash
# doc-syncer ì‹¤í–‰
/moai:3-sync

# TAG ê²€ì¦ ê³¼ì •:
> ğŸ” ì½”ë“œë² ì´ìŠ¤ ìŠ¤ìº” ì¤‘...
> ë°œê²¬ëœ TAG: 43ê°œ
>
> âœ… Primary Chain ê²€ì¦:
>   - @REQ:AUTH-001 âœ“
>   - @DESIGN:AUTH-001 âœ“
>   - @TASK:AUTH-001 âœ“
>   - @TEST:AUTH-001 âœ“
>
> âœ… Implementation TAG ê²€ì¦:
>   - @FEATURE:AUTH-001 âœ“
>   - @API:AUTH-001 âœ“
>   - @DATA:AUTH-001 âœ“
>
> âŒ ë¬¸ì œ ë°œê²¬:
>   - @TASK:PAYMENT-002 has no @DESIGN parent
>   - @TEST:NOTIF-003 references non-existent @TASK:NOTIF-003
>
> ğŸ’¡ ìë™ ìˆ˜ì • ì œì•ˆ:
>   1. src/payment/service.pyì— @DESIGN:PAYMENT-002 ì¶”ê°€
>   2. tests/notif/test_service.pyì˜ @TASK:NOTIF-003ì„ @TASK:NOTIF-004ë¡œ ë³€ê²½
>
> ìˆ˜ì •ì„ ì ìš©í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n):
```

#### ê³ ì•„ TAG ê°ì§€ ë° ì²˜ë¦¬

**ê³ ì•„ TAG**: ë¶€ëª¨ë‚˜ ìì‹ ì—†ì´ ë…ë¦½ì ìœ¼ë¡œ ì¡´ì¬í•˜ëŠ” TAG

```typescript
interface OrphanTag {
  tag: string;
  file: string;
  line: number;
  reason: 'no_parent' | 'no_child' | 'invalid_reference';
  suggestion: string;
}

function detectOrphanTags(tags: TagIndex[]): OrphanTag[] {
  const orphans: OrphanTag[] = [];

  for (const tag of tags) {
    if (tag.type === 'TASK' && !hasParent(tag, 'DESIGN')) {
      orphans.push({
        tag: tag.id,
        file: tag.file,
        line: tag.line,
        reason: 'no_parent',
        suggestion: `Add @DESIGN:${tag.domainId} in design document`
      });
    }

    if (tag.type === 'TEST' && !references(tag, 'TASK')) {
      orphans.push({
        tag: tag.id,
        file: tag.file,
        line: tag.line,
        reason: 'invalid_reference',
        suggestion: `Add @TASK:${tag.domainId} reference in TAG BLOCK`
      });
    }
  }

  return orphans;
}
```

#### TAG ì¶”ì ì„± ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±

ëª¨ë“  TAG ì²´ì¸ì„ ì‹œê°í™”í•œ ì¶”ì ì„± ë§¤íŠ¸ë¦­ìŠ¤ë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤.

```markdown
# TAG Traceability Matrix

Generated: 2025-01-20 14:40:00 by doc-syncer

## Complete Chains

| DOMAIN-ID | @REQ | @DESIGN | @TASK | @TEST | @FEATURE | @API | @DATA |
|-----------|------|---------|-------|-------|----------|------|-------|
| AUTH-001  | âœ“ spec.md:45 | âœ“ design/auth.md:20 | âœ“ src/auth/service.py:15 | âœ“ tests/auth/test_service.py:10 | âœ“ | âœ“ | âœ“ |
| PAYMENT-002 | âœ“ spec.md:120 | âŒ **MISSING** | âœ“ src/payment/service.py:10 | âœ“ tests/payment/test_service.py:8 | âœ“ | âœ“ | - |
| NOTIF-003 | âœ“ spec.md:200 | âœ“ design/notif.md:15 | âœ“ src/notif/sender.py:12 | âŒ **BROKEN LINK** | âœ“ | - | - |

## Statistics

- Total Chains: 3
- Complete Chains: 1 (33%)
- Incomplete Chains: 2 (67%)
- Total TAGs: 18
- Orphan TAGs: 2

## Issues to Fix

1. **PAYMENT-002**: Missing @DESIGN:PAYMENT-002
   - Action: Create design document at design/payment.md
   - Priority: High

2. **NOTIF-003**: @TEST references non-existent @TASK:NOTIF-003
   - Action: Update tests/notif/test_sender.py TAG reference
   - Priority: Critical
```

### 3. PR ìƒíƒœ ì „í™˜ ë° ê´€ë¦¬

doc-syncerëŠ” ë¬¸ì„œ ë™ê¸°í™” ì™„ë£Œ í›„ PRì„ Ready for Review ìƒíƒœë¡œ ì „í™˜í•˜ë„ë¡ git-managerì—ê²Œ ìš”ì²­í•©ë‹ˆë‹¤.

#### Draft â†’ Ready ìë™ ì „í™˜

```mermaid
flowchart TD
    A[/moai:3-sync ì‹¤í–‰] --> B[ë¬¸ì„œ ë™ê¸°í™” ì™„ë£Œ]
    B --> C[TAG ê²€ì¦ ì™„ë£Œ]
    C --> D{ëª¨ë“  ê²€ì¦<br/>í†µê³¼?}

    D -->|No| E[ì˜¤ë¥˜ ë¦¬í¬íŠ¸ ìƒì„±]
    E --> F[ì‚¬ìš©ìì—ê²Œ ìˆ˜ì • ìš”ì²­]
    F --> A

    D -->|Yes| G[PR ìƒíƒœ ì „í™˜ ì œì•ˆ]
    G --> H{ì‚¬ìš©ì<br/>ìŠ¹ì¸?}

    H -->|No| I[ë™ê¸°í™”ë§Œ ì™„ë£Œ]

    H -->|Yes| J[git-manager í˜¸ì¶œ]
    J --> K[Draft â†’ Ready]
    K --> L[ë¼ë²¨ ìë™ ì¶”ê°€]
    L --> M[ë¦¬ë·°ì–´ í• ë‹¹ ì œì•ˆ]

    M --> N[ì™„ë£Œ ë³´ê³ ]

    style D fill:#fab005
    style K fill:#51cf66
    style N fill:#51cf66
```

**PR ìƒíƒœ ì „í™˜ ì˜ˆì‹œ**:

```bash
/moai:3-sync

> âœ… ë¬¸ì„œ ë™ê¸°í™” ì™„ë£Œ
> âœ… TAG ê²€ì¦ í†µê³¼ (43/43)
> âœ… ì»¤ë²„ë¦¬ì§€ ëª©í‘œ ë‹¬ì„± (94%)
>
> ğŸ“‹ PR ìƒíƒœ ì „í™˜ ì¤€ë¹„:
>   í˜„ì¬: Draft
>   ë³€ê²½: Ready for Review
>
> ğŸ·ï¸  ì¶”ê°€í•  ë¼ë²¨:
>   - documentation
>   - tested
>   - ready-for-review
>
> ğŸ‘¥ ì œì•ˆ ë¦¬ë·°ì–´:
>   - @tech-lead (ì½”ë“œ ë¦¬ë·°)
>   - @doc-team (ë¬¸ì„œ ë¦¬ë·°)
>
> PRì„ Ready ìƒíƒœë¡œ ì „í™˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): y
>
> git-managerì—ê²Œ ìš”ì²­ ì „ë‹¬ ì¤‘...
> âœ… PR #123 ìƒíƒœ ì „í™˜ ì™„ë£Œ
```

#### ë¼ë²¨ ìë™ ê´€ë¦¬ (Team ëª¨ë“œ)

Personal ëª¨ë“œì—ì„œëŠ” ë¼ë²¨ ê´€ë¦¬ê°€ ìƒëµë˜ë©°, Team ëª¨ë“œì—ì„œë§Œ ìë™ ë¼ë²¨ë§ì´ ì ìš©ë©ë‹ˆë‹¤.

**ìë™ ì¶”ê°€ ë¼ë²¨**:
- `documentation`: ë¬¸ì„œ ë³€ê²½ í¬í•¨
- `tested`: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 85% ì´ìƒ
- `tag-verified`: TAG ê²€ì¦ í†µê³¼
- `ready-for-review`: ëª¨ë“  ê²€ì¦ í†µê³¼

**ì¡°ê±´ë¶€ ë¼ë²¨**:
- `breaking-change`: API ì‹œê·¸ë‹ˆì²˜ ë³€ê²½ ê°ì§€
- `needs-migration`: ë°ì´í„° ëª¨ë¸ ë³€ê²½ ê°ì§€
- `security`: ë³´ì•ˆ ê´€ë ¨ ë³€ê²½ ê°ì§€

### 4. ë¬¸ì„œ ì™„ì „ì„± ì²´í¬

doc-syncerëŠ” SPEC ë¬¸ì„œì™€ ê´€ë ¨ ë¬¸ì„œì˜ ì™„ì „ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.

#### SPEC ì™„ì „ì„± ê²€ì¦

```typescript
interface SpecCompleteness {
  hasEnvironment: boolean;
  hasAssumptions: boolean;
  hasRequirements: boolean;
  hasSpecifications: boolean;
  hasTagCatalog: boolean;
  hasAcceptanceCriteria: boolean;
  completenessScore: number;
}

function checkSpecCompleteness(specPath: string): SpecCompleteness {
  const spec = parseMarkdown(specPath);

  const checks = {
    hasEnvironment: spec.hasSection('Environment'),
    hasAssumptions: spec.hasSection('Assumptions'),
    hasRequirements: spec.hasSection('Requirements'),
    hasSpecifications: spec.hasSection('Specifications'),
    hasTagCatalog: spec.hasSection('@TAG Catalog'),
    hasAcceptanceCriteria: spec.hasSection('Acceptance Criteria')
  };

  const completenessScore = Object.values(checks).filter(Boolean).length / 6 * 100;

  return { ...checks, completenessScore };
}
```

**ì™„ì „ì„± ë¦¬í¬íŠ¸**:

```markdown
# SPEC Completeness Report

## SPEC-AUTH-001

- âœ… Environment (Present)
- âœ… Assumptions (Present)
- âœ… Requirements (EARS format, 15 items)
- âœ… Specifications (Detailed)
- âœ… @TAG Catalog (7 TAGs)
- âŒ Acceptance Criteria (Missing)

**Completeness Score**: 83% (5/6)

**Action Required**: Add Given-When-Then scenarios to acceptance.md
```

#### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¬¸ì„œ ë™ê¸°í™”

í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ë¥¼ ë¬¸ì„œì— ìë™ ë°˜ì˜í•©ë‹ˆë‹¤.

```markdown
# Test Coverage Report

Last Updated: 2025-01-20 14:45:00 (Auto-generated)

## Overall Coverage

- **Total Coverage**: 94%
- **Target**: 85% âœ…
- **Trend**: +5% from last sync

## Module Breakdown

| Module | Coverage | Status | Tests |
|--------|----------|--------|-------|
| auth/  | 98% | âœ… | 26 tests |
| api/   | 92% | âœ… | 18 tests |
| models/| 89% | âœ… | 12 tests |
| utils/ | 85% | âœ… | 8 tests |

## Uncovered Lines

### src/auth/service.py
- Line 145-148: Error handling for edge case
- Suggestion: Add test for DatabaseError exception

### src/api/handler.py
- Line 67-70: Fallback logic
- Suggestion: Add integration test for API failure
```

#### TODO ë° FIXME ë¬¸ì„œí™”

ì½”ë“œ ë‚´ TODO/FIXME ì£¼ì„ì„ ìë™ìœ¼ë¡œ ì¶”ì¶œí•˜ì—¬ ë¬¸ì„œí™”í•©ë‹ˆë‹¤.

```markdown
# TODO & FIXME Tracker

Generated: 2025-01-20 14:50:00

## High Priority

### FIXME: Security vulnerability
- **File**: src/auth/token.py:45
- **Description**: Token expiration not validated properly
- **@TAG**: @API:AUTH-001
- **Assigned**: @security-team
- **Created**: 2025-01-15

### TODO: Performance optimization
- **File**: src/api/handler.py:120
- **Description**: Add caching layer for repeated queries
- **@TAG**: @PERF:API-001
- **Assigned**: Unassigned
- **Created**: 2025-01-18

## Medium Priority

... (continues)
```

---

## ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‚¬ìš©

#### ì „ì²´ ë¬¸ì„œ ë™ê¸°í™”

```bash
# TDD êµ¬í˜„ ì™„ë£Œ í›„ ì‹¤í–‰
/moai:3-sync

# ì‹¤í–‰ ê³¼ì •:
# 1. ì½”ë“œë² ì´ìŠ¤ ìŠ¤ìº”
# 2. ë¬¸ì„œ ë³€ê²½ì‚¬í•­ ê°ì§€
# 3. API ë¬¸ì„œ ìë™ ìƒì„±/ê°±ì‹ 
# 4. README ì—…ë°ì´íŠ¸
# 5. TAG ì²´ì¸ ê²€ì¦
# 6. ë™ê¸°í™” ë¦¬í¬íŠ¸ ìƒì„±
# 7. PR ìƒíƒœ ì „í™˜ ì œì•ˆ
```

**ì¶œë ¥ ì˜ˆì‹œ**:

```
ğŸ”„ Living Document ë™ê¸°í™” ì‹œì‘...

ğŸ“‚ ì½”ë“œë² ì´ìŠ¤ ìŠ¤ìº”:
  - ë°œê²¬ëœ íŒŒì¼: 45ê°œ
  - ë³€ê²½ëœ íŒŒì¼: 8ê°œ
  - ìƒˆë¡œìš´ TAG: 7ê°œ

ğŸ“ ë¬¸ì„œ ê°±ì‹ :
  âœ… API.md ì—…ë°ì´íŠ¸ (3ê°œ API ì¶”ê°€)
  âœ… README.md ì—…ë°ì´íŠ¸ (Installation, Features)
  âœ… structure.md ì—…ë°ì´íŠ¸ (ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨)
  âœ… coverage-report.md ìƒì„±

ğŸ” TAG ê²€ì¦:
  âœ… Primary Chain: ì™„ì „ (7/7)
  âœ… Implementation TAG: ì™„ì „ (5/5)
  âœ… ê³ ì•„ TAG: ì—†ìŒ
  âœ… ëŠì–´ì§„ ë§í¬: ì—†ìŒ

ğŸ“Š í†µê³„:
  - ë™ê¸°í™”ëœ ë¬¸ì„œ: 4ê°œ
  - ìƒì„±ëœ ë‹¤ì´ì–´ê·¸ë¨: 2ê°œ
  - TAG ê²€ì¦: 43ê°œ (100%)
  - ì»¤ë²„ë¦¬ì§€: 94% (ëª©í‘œ ë‹¬ì„±)

âœ… ë™ê¸°í™” ì™„ë£Œ!

ğŸš€ ë‹¤ìŒ ë‹¨ê³„:
  1. PRì„ Ready for Reviewë¡œ ì „í™˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n)
  2. ë¦¬ë·°ì–´ë¥¼ í• ë‹¹í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n)
```

#### SPEC ê¸°ë°˜ ë™ê¸°í™”

```bash
# íŠ¹ì • SPECë§Œ ë™ê¸°í™”
/moai:3-sync SPEC-AUTH-001

# ì‹¤í–‰ ê³¼ì •:
# 1. SPEC-AUTH-001 ê´€ë ¨ íŒŒì¼ë§Œ ìŠ¤ìº”
# 2. AUTH-001 ë„ë©”ì¸ TAGë§Œ ê²€ì¦
# 3. ê´€ë ¨ ë¬¸ì„œë§Œ ê°±ì‹ 
```

### ê³ ê¸‰ ì‚¬ìš©

#### ì„ íƒì  ë™ê¸°í™”

```bash
# API ë¬¸ì„œë§Œ ê°±ì‹ 
/moai:3-sync --only-api

# TAG ê²€ì¦ë§Œ ìˆ˜í–‰
/moai:3-sync --only-tags

# READMEë§Œ ì—…ë°ì´íŠ¸
/moai:3-sync --only-readme

# ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ë§Œ ìƒì„±
/moai:3-sync --only-coverage
```

#### Dry-run ëª¨ë“œ

```bash
# ë³€ê²½ì‚¬í•­ ë¯¸ë¦¬ë³´ê¸° (ì‹¤ì œ ë³€ê²½ ì—†ìŒ)
/moai:3-sync --dry-run

# ì¶œë ¥:
> ğŸ“‹ ë³€ê²½ ì˜ˆì • íŒŒì¼:
>   - API.md (3 sections to update)
>   - README.md (2 sections to update)
>   - structure.md (1 diagram to regenerate)
>
> ğŸ’¡ ì‹¤ì œ ì ìš©í•˜ë ¤ë©´ --dry-run ì—†ì´ ì‹¤í–‰í•˜ì„¸ìš”
```

#### ê°•ì œ ì¬ìƒì„±

```bash
# ëª¨ë“  ë¬¸ì„œë¥¼ ê°•ì œë¡œ ì¬ìƒì„±
/moai:3-sync --force-regenerate

# ì‚¬ìš© ì‚¬ë¡€:
# - ë¬¸ì„œ í˜•ì‹ ë³€ê²½ í›„ ì „ì²´ ì¬ìƒì„±
# - ë¬¸ì„œê°€ ì†ìƒëœ ê²½ìš° ë³µêµ¬
# - TAG ì‹œìŠ¤í…œ ì „ë©´ ê°œí¸ í›„
```

### ì˜µì…˜ ë° í”Œë˜ê·¸

| ì˜µì…˜ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| `--only-api` | API ë¬¸ì„œë§Œ ê°±ì‹  | `/moai:3-sync --only-api` |
| `--only-tags` | TAG ê²€ì¦ë§Œ ìˆ˜í–‰ | `/moai:3-sync --only-tags` |
| `--only-readme` | READMEë§Œ ì—…ë°ì´íŠ¸ | `/moai:3-sync --only-readme` |
| `--only-coverage` | ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ë§Œ ìƒì„± | `/moai:3-sync --only-coverage` |
| `--dry-run` | ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œ (ë³€ê²½ ì—†ìŒ) | `/moai:3-sync --dry-run` |
| `--force-regenerate` | ì „ì²´ ë¬¸ì„œ ê°•ì œ ì¬ìƒì„± | `/moai:3-sync --force-regenerate` |
| `--no-pr-transition` | PR ìƒíƒœ ì „í™˜ ìƒëµ | `/moai:3-sync --no-pr-transition` |
| `--skip-tag-validation` | TAG ê²€ì¦ ê±´ë„ˆë›°ê¸° | `/moai:3-sync --skip-tag-validation` |

### ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1: í‘œì¤€ TDD ì‚¬ì´í´ ì™„ë£Œ

```bash
# 1. SPEC ì‘ì„±
/moai:1-spec "ì‚¬ìš©ì ì¸ì¦"

# 2. TDD êµ¬í˜„
/moai:2-build SPEC-AUTH-001

# 3. ë¬¸ì„œ ë™ê¸°í™” (ì´ ë‹¨ê³„!)
/moai:3-sync

# ëŒ€í™”í˜• ì§„í–‰:
> âœ… ì½”ë“œë² ì´ìŠ¤ ìŠ¤ìº” ì™„ë£Œ
> âœ… API.md ì—…ë°ì´íŠ¸ ì™„ë£Œ
> âœ… TAG ê²€ì¦ í†µê³¼
>
> ğŸ“‹ ë™ê¸°í™” ë¦¬í¬íŠ¸:
>   - ìƒˆë¡œìš´ API: 3ê°œ
>   - ê°±ì‹ ëœ ë¬¸ì„œ: 4ê°œ
>   - TAG ì²´ì¸: ì™„ì „ (7/7)
>
> ğŸš€ PR ìƒíƒœ ì „í™˜:
>   í˜„ì¬: Draft PR #123
>   ì œì•ˆ: Ready for Review
>
> PRì„ ì „í™˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): y
>
> git-managerì—ê²Œ ìš”ì²­ ì „ë‹¬...
> âœ… PR #123 â†’ Ready for Review
> âœ… ë¼ë²¨ ì¶”ê°€: documentation, tested, tag-verified
>
> ğŸ‰ ë™ê¸°í™” ì™„ë£Œ! ë‹¤ìŒ ê¸°ëŠ¥ìœ¼ë¡œ ì§„í–‰í•˜ì„¸ìš”.
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: TAG ê²€ì¦ ì‹¤íŒ¨ ì‹œ ë³µêµ¬

```bash
/moai:3-sync

# ì‹¤í–‰ ê²°ê³¼:
> âŒ TAG ê²€ì¦ ì‹¤íŒ¨
>
> ğŸ” ë°œê²¬ëœ ë¬¸ì œ:
>   1. @TASK:PAYMENT-002 has no @DESIGN parent
>      File: src/payment/service.py:15
>      Suggestion: Add @DESIGN:PAYMENT-002 in design/payment.md
>
>   2. @TEST:NOTIF-003 references broken @TASK:NOTIF-004
>      File: tests/notif/test_sender.py:10
>      Expected: @TASK:NOTIF-003
>
> ğŸ’¡ ìë™ ìˆ˜ì • ì˜µì…˜:
>   1. design/payment.md ìƒì„± ë° @DESIGN:PAYMENT-002 ì¶”ê°€
>   2. tests/notif/test_sender.pyì˜ TAG ì°¸ì¡° ìˆ˜ì •
>
> ìë™ ìˆ˜ì •ì„ ì ìš©í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): y
>
> [1/2] design/payment.md ìƒì„± ì¤‘...
> âœ… @DESIGN:PAYMENT-002 ì¶”ê°€ ì™„ë£Œ
>
> [2/2] TAG ì°¸ì¡° ìˆ˜ì • ì¤‘...
> âœ… @TASK:NOTIF-004 â†’ @TASK:NOTIF-003 ìˆ˜ì • ì™„ë£Œ
>
> ğŸ”„ ì¬ê²€ì¦ ì¤‘...
> âœ… ëª¨ë“  TAG ê²€ì¦ í†µê³¼!
>
> ê³„ì† ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): y
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3: ë¬¸ì„œ ë¶ˆì¼ì¹˜ ê°ì§€ ë° í•´ê²°

```bash
/moai:3-sync

# ì‹¤í–‰ ê²°ê³¼:
> âš ï¸  ë¬¸ì„œ-ì½”ë“œ ë¶ˆì¼ì¹˜ ê°ì§€
>
> ğŸ“‹ ë¶ˆì¼ì¹˜ í•­ëª©:
>
>   1. API.md vs src/auth/service.py
>      - API.md: authenticate(email, password)
>      - Code: authenticate(username, password)
>      - Action: API.md ê°±ì‹  í•„ìš”
>
>   2. README.md vs package.json
>      - README: "Requires Node.js 18+"
>      - package.json: "engines": { "node": ">=20.0.0" }
>      - Action: README ë²„ì „ ì •ë³´ ê°±ì‹  í•„ìš”
>
>   3. SPEC-AUTH-001 vs tests/auth/test_service.py
>      - SPEC: í† í° ë§Œë£Œì‹œê°„ 15ë¶„
>      - Code: TOKEN_EXPIRY = 30 (ë¶„)
>      - Action: âš ï¸ CRITICAL - SPEC ë˜ëŠ” ì½”ë“œ ìˆ˜ì • í•„ìš”
>
> ğŸ’¡ ìë™ ìˆ˜ì • ê°€ëŠ¥ í•­ëª©: 1, 2
> âš ï¸  ìˆ˜ë™ í™•ì¸ í•„ìš” í•­ëª©: 3
>
> ìë™ ìˆ˜ì • ê°€ëŠ¥ í•­ëª©ì„ ê°±ì‹ í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): y
>
> [1/2] API.md ê°±ì‹  ì¤‘...
> âœ… email â†’ username ìˆ˜ì •
>
> [2/2] README.md ê°±ì‹  ì¤‘...
> âœ… Node.js ë²„ì „ 18+ â†’ 20+ ìˆ˜ì •
>
> âš ï¸  CRITICAL í•­ëª© ì²˜ë¦¬:
>   SPEC-AUTH-001ê³¼ ì½”ë“œì˜ í† í° ë§Œë£Œì‹œê°„ ë¶ˆì¼ì¹˜
>
>   ì˜µì…˜:
>   a) SPEC ìˆ˜ì • (15ë¶„ â†’ 30ë¶„)
>   b) ì½”ë“œ ìˆ˜ì • (30ë¶„ â†’ 15ë¶„)
>   c) ë‚˜ì¤‘ì— ìˆ˜ë™ í•´ê²°
>
> ì„ íƒ (a/b/c): b
>
> src/auth/service.py ìˆ˜ì • ì¤‘...
> âœ… TOKEN_EXPIRY = 30 â†’ 15
>
> ğŸ”„ í…ŒìŠ¤íŠ¸ ì¬ì‹¤í–‰ ì¤‘...
> âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
>
> âœ… ë¬¸ì„œ ë™ê¸°í™” ì™„ë£Œ!
```

---

## ì›Œí¬í”Œë¡œìš°

### ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ ìƒì„¸ íë¦„

<!--
```mermaid
flowchart TD
    A["moai:3-sync ì‹¤í–‰"] --> B[1. ì½”ë“œë² ì´ìŠ¤ ìŠ¤ìº”]
    B --> C[2. ë³€ê²½ì‚¬í•­ ê°ì§€]

    C --> D{ë³€ê²½ì‚¬í•­<br/>ì¡´ì¬?}
    D -->|No| E[ë³€ê²½ ì—†ìŒ ë³´ê³ ]
    E --> Z[ì¢…ë£Œ]

    D -->|Yes| F[3. API ë¬¸ì„œ ìƒì„±]
    F --> G[4. README ê°±ì‹ ]
    G --> H[5. ì•„í‚¤í…ì²˜ ë¬¸ì„œ ê°±ì‹ ]

    H --> I[6. TAG ê²€ì¦ ì‹œì‘]
    I --> J{TAG<br/>ë¬´ê²°ì„±?}

    J -->|Fail| K[TAG ì˜¤ë¥˜ ë¦¬í¬íŠ¸]
    K --> L{ìë™ ìˆ˜ì •<br/>ê°€ëŠ¥?}

    L -->|Yes| M[ìë™ ìˆ˜ì • ì œì•ˆ]
    M --> N{ì‚¬ìš©ì<br/>ìŠ¹ì¸?}
    N -->|Yes| O[TAG ìë™ ìˆ˜ì •]
    O --> I

    N -->|No| P[ìˆ˜ë™ ìˆ˜ì • ì•ˆë‚´]
    P --> Z

    L -->|No| P

    J -->|Pass| Q[7. ë¬¸ì„œ-ì½”ë“œ ì¼ì¹˜ì„± ê²€ì¦]
    Q --> R{ë¶ˆì¼ì¹˜<br/>ë°œê²¬?}

    R -->|Yes| S[ë¶ˆì¼ì¹˜ ë¦¬í¬íŠ¸ ìƒì„±]
    S --> T[ìë™ ê°±ì‹  ì œì•ˆ]
    T --> U{ì‚¬ìš©ì<br/>ìŠ¹ì¸?}
    U -->|Yes| V[ë¬¸ì„œ ê°±ì‹ ]
    V --> Q

    U -->|No| W[ìˆ˜ë™ í•´ê²° ì•ˆë‚´]
    W --> Z

    R -->|No| X[8. ë™ê¸°í™” ë¦¬í¬íŠ¸ ìƒì„±]
    X --> Y[9. PR ìƒíƒœ ì „í™˜ ì œì•ˆ]

    Y --> AA{ì‚¬ìš©ì<br/>ìŠ¹ì¸?}
    AA -->|Yes| AB[git-manager í˜¸ì¶œ]
    AB --> AC[Draft â†’ Ready]
    AC --> AD[ë¼ë²¨ ì¶”ê°€]
    AD --> AE[ì™„ë£Œ ë³´ê³ ]

    AA -->|No| AE
    AE --> Z

    style B fill:#fab005
    style I fill:#fab005
    style J fill:#ff6b6b
    style O fill:#51cf66
    style AC fill:#51cf66
    style AE fill:#51cf66
```
-->

### ì…ë ¥ ë°ì´í„°

**ì½”ë“œë² ì´ìŠ¤**:
- êµ¬í˜„ íŒŒì¼ (src í•˜ìœ„ ëª¨ë“  ì†ŒìŠ¤ íŒŒì¼)
- í…ŒìŠ¤íŠ¸ íŒŒì¼ (tests í•˜ìœ„ ëª¨ë“  í…ŒìŠ¤íŠ¸ íŒŒì¼)
- ì„¤ì • íŒŒì¼ (package.json, requirements.txt, go.mod)

**SPEC ë¬¸ì„œ**:
- `.moai/specs/SPEC-XXX/spec.md`
- `.moai/specs/SPEC-XXX/plan.md`
- `.moai/specs/SPEC-XXX/acceptance.md`

**í”„ë¡œì íŠ¸ ë¬¸ì„œ**:
- `.moai/project/product.md`
- `.moai/project/structure.md`
- `.moai/project/tech.md`

**ê¸°ì¡´ ë¬¸ì„œ**:
- `README.md`
- `docs/API.md`
- `docs/architecture.md`

### ì¶œë ¥ ê²°ê³¼

#### ì„±ê³µ ì‹œ

ë™ê¸°í™” ì„±ê³µ ì‹œ ìƒì„¸í•œ í†µê³„ì™€ ë‹¤ìŒ ë‹¨ê³„ê°€ í‘œì‹œë©ë‹ˆë‹¤.

#### ì‹¤íŒ¨ ì‹œ

```
âŒ ë™ê¸°í™” ì‹¤íŒ¨

ğŸ“Š ì§„í–‰ ìƒí™©:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì™„ë£Œëœ ì‘ì—…:
  âœ… ì½”ë“œë² ì´ìŠ¤ ìŠ¤ìº”
  âœ… API.md ê°±ì‹  (ë¶€ë¶„ ì™„ë£Œ)
  âš ï¸  TAG ê²€ì¦ (ì‹¤íŒ¨)
  âŒ ë¬¸ì„œ-ì½”ë“œ ì¼ì¹˜ì„± (ë¯¸ì‹¤í–‰)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âŒ ì‹¤íŒ¨ ì›ì¸:
  TAG ë¬´ê²°ì„± ê²€ì¦ ì‹¤íŒ¨ (2ê°œ ì˜¤ë¥˜)

ğŸ” ë°œê²¬ëœ ë¬¸ì œ:
  1. @TASK:PAYMENT-002 has no @DESIGN parent
     File: src/payment/service.py:15
     Impact: ì¶”ì ì„± ì²´ì¸ ëŠê¹€

  2. @TEST:NOTIF-003 references non-existent @TASK:NOTIF-004
     File: tests/notif/test_sender.py:10
     Impact: í…ŒìŠ¤íŠ¸-êµ¬í˜„ ì—°ê²° ëŠê¹€

ğŸ’¡ í•´ê²° ë°©ë²•:
  Option 1 (ìë™):
    /moai:3-sync --auto-fix-tags

  Option 2 (ìˆ˜ë™):
    1. design/payment.md ìƒì„± ë° @DESIGN:PAYMENT-002 ì¶”ê°€
    2. tests/notif/test_sender.py:10ì˜ TAG ì°¸ì¡° ìˆ˜ì •

  Option 3 (ì—ì´ì „íŠ¸):
    @agent-tag-agent "PAYMENT-002ì™€ NOTIF-003 TAG ì²´ì¸ ìˆ˜ì •"

ğŸ”„ ì¬ì‹œë„:
  ë¬¸ì œ í•´ê²° í›„ ë‹¤ì‹œ ì‹¤í–‰í•˜ì„¸ìš”:
    /moai:3-sync
```

---

## ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ì„¤ì • ì˜µì…˜

doc-syncerëŠ” `.moai/config.json`ì—ì„œ ë‹¤ìŒ ì˜µì…˜ì„ ì§€ì›í•©ë‹ˆë‹¤:

```json
{
  "doc_syncer": {
    "auto_sync": true,
    "sync_on_build_complete": true,
    "generate_api_docs": true,
    "update_readme": true,
    "update_architecture": true,
    "tag_validation": {
      "strict_mode": true,
      "auto_fix_simple_errors": false,
      "orphan_tag_tolerance": 0
    },
    "pr_management": {
      "auto_transition": false,
      "auto_label": true,
      "suggest_reviewers": true
    },
    "documentation": {
      "api_doc_path": "docs/API.md",
      "architecture_doc_path": "docs/architecture.md",
      "coverage_report_path": "docs/coverage.md",
      "todo_tracker_path": "docs/TODO.md"
    },
    "reporting": {
      "generate_sync_report": true,
      "report_directory": ".moai/reports",
      "verbose": false
    }
  }
}
```

| ì„¤ì • | ì„¤ëª… | ê¸°ë³¸ê°’ |
|------|------|--------|
| `auto_sync` | ì½”ë“œ ë³€ê²½ ì‹œ ìë™ ë™ê¸°í™” | `true` |
| `sync_on_build_complete` | /moai:2-build ì™„ë£Œ í›„ ìë™ ì‹¤í–‰ | `true` |
| `tag_validation.strict_mode` | ì—„ê²©í•œ TAG ê²€ì¦ ëª¨ë“œ | `true` |
| `tag_validation.auto_fix_simple_errors` | ê°„ë‹¨í•œ TAG ì˜¤ë¥˜ ìë™ ìˆ˜ì • | `false` |
| `pr_management.auto_transition` | PR ìë™ ì „í™˜ (ì‚¬ìš©ì í™•ì¸ ì—†ìŒ) | `false` |
| `pr_management.auto_label` | ìë™ ë¼ë²¨ ì¶”ê°€ | `true` |

### ì»¤ìŠ¤í…€ ë¬¸ì„œ í…œí”Œë¦¿

í”„ë¡œì íŠ¸ë³„ë¡œ ë¬¸ì„œ í…œí”Œë¦¿ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í…œí”Œë¦¿ ìœ„ì¹˜**: `.moai/templates/docs/`

**API.md í…œí”Œë¦¿ ì˜ˆì‹œ**:

```markdown
<!-- .moai/templates/docs/api_template.md -->
# API Reference

> Last Updated: \{\{LAST_UPDATED\}\} (Auto-generated by doc-syncer)
> Version: \{\{PROJECT_VERSION\}\}

## Overview

\{\{PROJECT_DESCRIPTION\}\}

---

\{\{#each modules\}\}
## \{\{moduleName\}\} API

\{\{#each apis\}\}
### `\{\{signature\}\}`

**\{\{tag\}\}** | [Source](\{\{sourceLink\}\})

\{\{description\}\}

**Parameters**:
\{\{#each parameters\}\}
- `\{\{name\}\}` (\{\{type\}\}): \{\{description\}\}
\{\{/each\}\}

**Returns**: `\{\{returnType\}\}` - \{\{returnDescription\}\}

\{\{#if raises\}\}
**Raises**:
\{\{#each raises\}\}
- `\{\{exceptionType\}\}`: \{\{description\}\}
\{\{/each\}\}
\{\{/if\}\}

**Example**:
```\{\{language\}\}
\{\{example\}\}
```

**Related SPEC**: [\{\{specId\}\}](\{\{specLink\}\})

---

\{\{/each\}\}
\{\{/each\}\}

## See Also

- [Architecture Documentation](./architecture.md)
- [Test Coverage Report](./coverage.md)
- [SPEC Index](../.moai/specs/README.md)
```

### í™•ì¥ ë°©ë²•

#### ìƒˆë¡œìš´ ë¬¸ì„œ íƒ€ì… ì¶”ê°€

```typescript
// .moai/scripts/doc-syncer-extension.ts
interface DocumentGenerator {
  name: string;
  filePattern: string;
  outputPath: string;
  generate: (codebase: Codebase) => string;
}

const changelogGenerator: DocumentGenerator = {
  name: 'CHANGELOG',
  filePattern: 'CHANGELOG.md',
  outputPath: './CHANGELOG.md',
  generate: (codebase) => {
    const commits = codebase.getCommitsSinceLastSync();
    const grouped = groupByType(commits); // feat, fix, docs, etc.

    return `
# Changelog

## [Unreleased] - ${new Date().toISOString().split('T')[0]}

${generateChangelogSections(grouped)}

Auto-generated by doc-syncer
    `.trim();
  }
};

// ë“±ë¡
registerDocumentGenerator(changelogGenerator);
```

#### ì»¤ìŠ¤í…€ TAG ê²€ì¦ ê·œì¹™

```typescript
// .moai/scripts/custom-tag-rules.ts
import { TagValidationRule } from '@moai-adk/doc-syncer';

export const customTagRule: TagValidationRule = {
  name: 'require-perf-tag-for-loops',
  description: 'for/while ë£¨í”„ê°€ ìˆëŠ” í•¨ìˆ˜ëŠ” @PERF TAG í•„ìš”',
  validator: (file, tags) => {
    // ì •ê·œì‹ íŒ¨í„´: /for\s*\(|while\s*\(/
    const loopPattern = new RegExp('for\\s*\\(|while\\s*\\(');
    const hasLoop = file.content.match(loopPattern);
    const hasPerfTag = tags.some(tag => tag.type === 'PERF');

    if (hasLoop && !hasPerfTag) {
      return {
        valid: false,
        message: `File ${file.path} contains loop but missing @PERF tag`,
        suggestion: 'Add @PERF:DOMAIN_ID to document performance characteristics'
      };
    }

    return { valid: true };
  }
};
```

---

## ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. API ë¬¸ì„œ ìƒì„± ì‹¤íŒ¨

**ì¦ìƒ**: "Failed to generate API.md" ì˜¤ë¥˜

**ì›ì¸**:
- Docstring/JSDoc ëˆ„ë½
- í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ íŒŒì‹± ì˜¤ë¥˜
- íƒ€ì… ì •ë³´ ë¶€ì¡±

**í•´ê²°**:

```bash
# 1. Docstring ì™„ì „ì„± í™•ì¸
# Python
grep -r "def " src/ | grep -v '"""'

# TypeScript
grep -r "export function" src/ | grep -v "/**"

# 2. ìˆ˜ë™ API ë¬¸ì„œ ìƒì„± í›„ ì¬ì‹œë„
/moai:3-sync --force-regenerate --only-api

# 3. ë””ë²„ê·¸ ëª¨ë“œ ì‹¤í–‰
export MOAI_DEBUG=1
/moai:3-sync --only-api

# 4. ë¡œê·¸ í™•ì¸
cat .moai/logs/doc-syncer.log
```

#### 2. TAG ê²€ì¦ ë¬´í•œ ë£¨í”„

**ì¦ìƒ**: TAG ìë™ ìˆ˜ì •ì´ ë°˜ë³µì ìœ¼ë¡œ ì‹¤íŒ¨

**ì›ì¸**:
- TAG ìˆœí™˜ ì°¸ì¡°
- ì˜ëª»ëœ DOMAIN-ID í˜•ì‹

**í•´ê²°**:

```bash
# 1. ìˆœí™˜ ì°¸ì¡° ê°ì§€
@agent-tag-agent "ìˆœí™˜ ì°¸ì¡° ê²€ì‚¬"

# ì¶œë ¥:
# âŒ Circular reference detected:
#   @TASK:AUTH-001 -> @TEST:AUTH-002 -> @TASK:AUTH-001

# 2. TAG ì²´ì¸ ìˆ˜ë™ í™•ì¸
rg "@TASK:AUTH-001" -A 2 -B 2

# 3. ì˜ëª»ëœ ì°¸ì¡° ìˆ˜ì •
# src/auth/service.py:15
# Before: @TASK:AUTH-001 -> @TEST:AUTH-002 (ì˜ëª»ë¨)
# After: @TASK:AUTH-001 -> @TEST:AUTH-001 (ì˜¬ë°”ë¦„)

# 4. ì¬ê²€ì¦
/moai:3-sync --only-tags
```

#### 3. PR ìƒíƒœ ì „í™˜ ì‹¤íŒ¨

**ì¦ìƒ**: "Failed to transition PR to Ready" ì˜¤ë¥˜

**ì›ì¸**:
- gh CLI ë¯¸ì„¤ì¹˜ ë˜ëŠ” ì¸ì¦ ì‹¤íŒ¨
- PRì´ ì´ë¯¸ Ready ìƒíƒœ
- í•„ìˆ˜ ê²€ì¦ ë¯¸í†µê³¼

**í•´ê²°**:

```bash
# 1. gh CLI ì„¤ì¹˜ í™•ì¸
gh --version

# ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ë‹¤ë©´:
# macOS
brew install gh

# Linux
sudo apt install gh

# 2. gh ì¸ì¦ í™•ì¸
gh auth status

# ì¸ì¦ í•„ìš” ì‹œ:
gh auth login

# 3. PR ìƒíƒœ ìˆ˜ë™ í™•ì¸
gh pr view

# 4. í•„ìˆ˜ ê²€ì¦ í™•ì¸
gh pr checks

# 5. doc-syncer ì¬ì‹œë„
/moai:3-sync --no-pr-transition  # PR ì „í™˜ ìƒëµ
```

#### 4. ë¬¸ì„œ-ì½”ë“œ ë¶ˆì¼ì¹˜ ê°ì§€ ì‹¤íŒ¨

**ì¦ìƒ**: ëª…ë°±í•œ ë¶ˆì¼ì¹˜ê°€ ìˆëŠ”ë° doc-syncerê°€ ê°ì§€ ëª»í•¨

**ì›ì¸**:
- ì»¤ìŠ¤í…€ ë¬¸ì„œ í˜•ì‹ ë¯¸ì§€ì›
- íŒŒì‹± ê·œì¹™ ë¶€ì¡±

**í•´ê²°**:

```bash
# 1. ìˆ˜ë™ ë¶ˆì¼ì¹˜ ê²€ì‚¬
# API.mdì™€ ì½”ë“œ ë¹„êµ
diff <(grep "def authenticate" src/auth/service.py) \
     <(grep "authenticate" docs/API.md)

# 2. ê°•ì œ ì¬ìƒì„±
/moai:3-sync --force-regenerate

# 3. ì»¤ìŠ¤í…€ íŒŒì‹± ê·œì¹™ ì¶”ê°€
# .moai/config.json
{
  "doc_syncer": {
    "custom_parsers": [
      {
        "file_pattern": "**/*.custom.md",
        "parser": ".moai/scripts/custom-parser.ts"
      }
    ]
  }
}
```

### ë””ë²„ê¹… íŒ

#### ë™ê¸°í™” ê³¼ì • ì¶”ì 

```bash
# ìƒì„¸ ë¡œê¹… í™œì„±í™”
export MOAI_DEBUG=1
export MOAI_VERBOSE=1
/moai:3-sync

# ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
tail -f .moai/logs/doc-syncer.log
```

#### TAG ê²€ì¦ ì‹œê°í™”

```bash
# TAG ì²´ì¸ ê·¸ë˜í”„ ìƒì„±
@agent-tag-agent "TAG ì²´ì¸ ì‹œê°í™” ìƒì„±"

# ì¶œë ¥: .moai/reports/tag-graph.svg
open .moai/reports/tag-graph.svg
```

#### ë¬¸ì„œ diff ë¹„êµ

```bash
# ë™ê¸°í™” ì „í›„ ë¹„êµ
cp docs/API.md docs/API.md.backup
/moai:3-sync
diff docs/API.md.backup docs/API.md
```

---

## ê´€ë ¨ ë¬¸ì„œ ë§í¬

### MoAI-ADK ê³µì‹ ë¬¸ì„œ
- [3ë‹¨ê³„ ì›Œí¬í”Œë¡œìš°](/guide/workflow)
- [Living Document ê°œë…](/concepts/living-document)
- [@TAG ì‹œìŠ¤í…œ](/concepts/tag-system)

### ì—ì´ì „íŠ¸ ì—°ê³„
- [spec-builder - SPEC ì‘ì„±](/claude/agents/spec-builder)
- [code-builder - TDD êµ¬í˜„](/claude/agents/code-builder)
- [tag-agent - TAG ê´€ë¦¬](/claude/agents/tag-agent)
- [git-manager - Git ì‘ì—…](/claude/agents/git-manager)

### ê³ ê¸‰ ê°€ì´ë“œ
- [ì»¤ìŠ¤í…€ ë¬¸ì„œ í…œí”Œë¦¿](/advanced/custom-doc-templates)
- [TAG ê²€ì¦ ê·œì¹™ í™•ì¥](/advanced/tag-validation-rules)
- [PR ìë™í™” ì „ëµ](/advanced/pr-automation)

### ì‹¤ì „ ì˜ˆì œ
- [API ë¬¸ì„œ ìë™ ìƒì„±](/examples/api-doc-generation)
- [TAG ì²´ì¸ ë³µêµ¬ ì‚¬ë¡€](/examples/tag-chain-recovery)
- [ë¬¸ì„œ-ì½”ë“œ ë™ê¸°í™”](/examples/doc-code-sync)

---

## ìš”ì•½

doc-syncerëŠ” MoAI-ADKì˜ "ì¶”ì ì„± ì—†ì´ëŠ” ì™„ì„± ì—†ìŒ" ì›ì¹™ì„ êµ¬í˜„í•˜ëŠ” í•µì‹¬ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤. Living Document ë™ê¸°í™”, @TAG ê²€ì¦, PR ìƒíƒœ ì „í™˜ì„ í†µí•´ ì½”ë“œì™€ ë¬¸ì„œì˜ ì™„ì „í•œ ì¼ì¹˜ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

### í•µì‹¬ íŠ¹ì§•
- CODE-FIRST ì² í•™: ì½”ë“œê°€ ì§„ì‹¤ì˜ ì›ì²œ
- ì‹¤ì‹œê°„ TAG ê²€ì¦: ì¤‘ê°„ ì¸ë±ìŠ¤ ì—†ì´ ì½”ë“œ ì§ì ‘ ìŠ¤ìº”
- ìë™ ë¬¸ì„œ ê°±ì‹ : API, README, ì•„í‚¤í…ì²˜ ë¬¸ì„œ
- PR ìƒíƒœ ê´€ë¦¬: Draft â†’ Ready ìë™ ì „í™˜ ì œì•ˆ
- ì¶”ì ì„± ë§¤íŠ¸ë¦­ìŠ¤: TAG ì²´ì¸ ì‹œê°í™”

### ë‹¤ìŒ ë‹¨ê³„
ë¬¸ì„œ ë™ê¸°í™” ì™„ë£Œ í›„:
1. ì½”ë“œ ë¦¬ë·° ì§„í–‰ (git-manager í™œìš©)
2. ë‹¤ìŒ ê¸°ëŠ¥ ê°œë°œ: `/moai:1-spec` ì‹¤í–‰
3. ë°˜ë³µ: SPEC â†’ BUILD â†’ SYNC ì‚¬ì´í´

**ì¤‘ìš”**: doc-syncerëŠ” TDD êµ¬í˜„ ì™„ë£Œ í›„ í•„ìˆ˜ë¡œ ì‹¤í–‰í•´ì•¼ í•˜ë©°, ëª¨ë“  Git ì‘ì—…ì€ git-managerì—ê²Œ ìœ„ì„í•©ë‹ˆë‹¤.