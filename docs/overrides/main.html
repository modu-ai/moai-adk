{% extends "base.html" %}

{% block extrahead %}
  <!-- Font Loading Strategy for Multilingual Support -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Pretendard for Korean -->
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.css" rel="stylesheet">

  <!-- Google Fonts for multilingual support -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Hack monospace font for code blocks -->
  <link href="https://fonts.googleapis.com/css2?family=Hack:wght@400;700&display=swap" rel="stylesheet">

  <style>
    /* Neutral Color Palette - Direct Material Theme Override */
    :root {
      /* Light theme - Primary palette colors */
      --md-primary-fg-color: #000000;           /* Pure Black */
      --md-primary-fg-color--light: #333333;    /* Dark Gray */
      --md-primary-fg-color--dark: #000000;     /* Pure Black */
      --md-primary-bg-color: #EBEBEB;           /* Light Gray Background */
      --md-primary-bg-color--light: #F5F5F5;    /* Lighter Gray */

      /* Accent palette colors */
      --md-accent-fg-color: #666666;            /* Medium Gray */
      --md-accent-fg-color--transparent: rgba(102, 102, 102, 0.1);

      /* Background colors */
      --md-bg-color: #EBEBEB;                   /* Light Gray Background */
      --md-bg-color--light: #F5F5F5;            /* Lighter Gray */
      --md-bg-color--dark: #E0E0E0;             /* Darker Gray */

      /* Surface colors */
      --md-surface-color: #F5F5F5;              /* Light Surface */
      --md-surface-color--light: #FAFAFA;       /* Very Light Surface */
      --md-surface-color--dark: #E0E0E0;        /* Dark Surface */

      /* Text colors */
      --md-text-color: #000000;                 /* Pure Black Text */
      --md-text-color--secondary: #666666;      /* Medium Gray Text */
      --md-text-color--disabled: #999999;       /* Light Gray Text */

      /* Border colors */
      --md-border-color: #CCCCCC;               /* Light Border */
      --md-border-color--light: #DDDDDD;        /* Lighter Border */
      --md-border-color--dark: #BBBBBB;         /* Darker Border */

      /* Code block colors */
      --md-code-bg-color: #F5F5F5;              /* Light Code Background */
      --md-code-fg-color: #000000;              /* Black Code Text */
      --md-code-border-color: #CCCCCC;          /* Light Code Border */

      /* Font variables */
      --font-ko-text: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
      --font-en-text: 'Inter', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
      --font-ja-text: 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
      --font-zh-text: 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;

      /* Transitions and shadows */
      --transition-normal: 250ms ease-in-out;
      --shadow-sm: 0 1px 2px 0 rgba(23, 22, 18, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(23, 22, 18, 0.1), 0 2px 4px -1px rgba(23, 22, 18, 0.06);
    }

    /* Dark Theme Neutral Colors - Material Theme Override */
    [data-md-color-scheme="slate"] {
      /* Primary palette colors for dark theme */
      --md-primary-fg-color: #F2F1ED;           /* Light variant for dark theme */
      --md-primary-fg-color--light: #FFFFFF;    /* Even lighter variant */
      --md-primary-fg-color--dark: #D0CFCA;     /* Darker variant */
      --md-primary-bg-color: #171612;           /* Dark background */
      --md-primary-bg-color--light: #1A1916;    /* Lighter dark background */

      /* Accent palette colors for dark theme */
      --md-accent-fg-color: #C9C8C4;            /* Light neutral for dark theme */
      --md-accent-fg-color--transparent: rgba(201, 200, 196, 0.1);

      /* Background colors for dark theme */
      --md-bg-color: #12110F;                   /* Dark variant of Bg Warm Off-White */
      --md-bg-color--light: #1A1916;            /* Dark variant of Surface Very Light */
      --md-bg-color--dark: #0A0908;             /* Even darker background */

      /* Surface colors for dark theme */
      --md-surface-color: #1A1916;              /* Dark variant of Surface Very Light */
      --md-surface-color--light: #22211E;       /* Dark variant of Muted Surface */
      --md-surface-color--dark: #0A0908;        /* Dark surface */

      /* Text colors for dark theme */
      --md-text-color: #EEEDE8;                 /* Light variant of Ink/Accent */
      --md-text-color--secondary: #C9C8C4;      /* Light variant of Text Secondary */
      --md-text-color--disabled: #AEADA9;       /* Light variant of Neutral Mid */

      /* Border colors for dark theme */
      --md-border-color: #2E2D29;               /* Dark variant of Border Light Gray */
      --md-border-color--light: #3A3935;        /* Lighter dark border */
      --md-border-color--dark: #22211E;         /* Darker border */

      /* Code block colors for dark theme */
      --md-code-bg-color: #1A1916;              /* Dark code background */
      --md-code-fg-color: #EEEDE8;              /* Light code text */
      --md-code-border-color: #2E2D29;          /* Dark code border */

      /* Adjusted shadows for dark theme */
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    }

    /* CRITICAL: Dark theme color overrides */
    [data-md-color-scheme="slate"] body,
    [data-md-color-scheme="slate"] .md-typeset,
    [data-md-color-scheme="slate"] .md-content,
    [data-md-color-scheme="slate"] .md-main__inner {
      background-color: #12110F !important;     /* Dark Bg Warm Off-White */
      color: #EEEDE8 !important;               /* Light variant of Ink/Accent */
    }

    [data-md-color-scheme="slate"] .md-header {
      background-color: #1A1916 !important;     /* Dark Surface Very Light */
      color: #EEEDE8 !important;               /* Light variant of Ink/Accent */
      border-bottom: 1px solid #2E2D29 !important; /* Dark Border Light Gray */
    }

    [data-md-color-scheme="slate"] .md-nav {
      background-color: #1A1916 !important;     /* Dark Surface Very Light */
      color: #EEEDE8 !important;               /* Light variant of Ink/Accent */
    }

    [data-md-color-scheme="slate"] .md-nav__item {
      color: #C9C8C4 !important;               /* Light Text Secondary */
    }

    [data-md-color-scheme="slate"] .md-nav__item--active {
      color: #F2F1ED !important;               /* Light accent for dark theme */
      font-weight: 600 !important;
    }

    /* Core typography and layout */
    body {
      font-family: var(--font-ko-text), system-ui, -apple-system, sans-serif !important;
    }

    * {
      font-style: normal !important;
    }

    /* Language-specific fonts */
    html[lang="en"] .md-typeset {
      font-family: var(--font-en-text) !important;
    }

    html[lang="ja"] .md-typeset {
      font-family: var(--font-ja-text) !important;
    }

    html[lang="zh"] .md-typeset {
      font-family: var(--font-zh-text) !important;
    }
  </style>
{% endblock %}
