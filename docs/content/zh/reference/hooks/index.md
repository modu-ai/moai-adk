# Hooksç³»ç»Ÿå‚è€ƒ

é€šè¿‡Claude Codeçš„Hookç³»ç»Ÿè¿›è¡Œè‡ªåŠ¨é˜²æŠ¤å’Œä¸Šä¸‹æ–‡ç®¡ç†ã€‚

## æ¦‚è¿°

**Hooks**æ˜¯åœ¨ç‰¹å®šäº‹ä»¶å‘ç”Ÿæ—¶è‡ªåŠ¨æ‰§è¡Œçš„è„šæœ¬ã€‚MoAI-ADKæä¾›4ä¸ªä¸»è¦Hookã€‚

### Hookç±»å‹

| Hook                 | æ—¶æœº           | ç”¨é€”               | è¶…æ—¶ |
| -------------------- | -------------- | ------------------ | ---- |
| **SessionStart**     | ä¼šè¯å¼€å§‹       | é¡¹ç›®çŠ¶æ€æ£€æŸ¥       | 5ç§’  |
| **PreToolUse**       | å·¥å…·æ‰§è¡Œå‰     | é˜»æ­¢å±é™©å‘½ä»¤       | 5ç§’  |
| **UserPromptSubmit** | ç”¨æˆ·è¾“å…¥å     | è¾“å…¥éªŒè¯           | 5ç§’  |
| **PostToolUse**      | å·¥å…·æ‰§è¡Œå     | ç»“æœåˆ†æ           | 5ç§’  |

## Hookä½ç½®

```
.claude/
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ session_start.sh       # SessionStart Hook
â”‚   â”œâ”€â”€ pre_tool_use.sh        # PreToolUse Hook
â”‚   â”œâ”€â”€ post_tool_use.sh       # PostToolUse Hook
â”‚   â””â”€â”€ user_prompt_submit.sh  # UserPromptSubmit Hook
â”œâ”€â”€ settings.json              # Hookè®¾ç½®
â””â”€â”€ permissions.json           # æƒé™è®¾ç½®
```

## Hookæ‰§è¡Œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude Codeä¼šè¯å¼€å§‹                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
            â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ SessionStart    â”‚ï¼ˆé¡¹ç›®çŠ¶æ€æ£€æŸ¥ï¼‰
            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ ç”¨æˆ·å‘½ä»¤è¾“å…¥         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
            â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚PreToolUse       â”‚ï¼ˆæ‰§è¡Œå‰éªŒè¯ï¼‰
            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ å·¥å…·æ‰§è¡Œ         â”‚
          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
            â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚PostToolUse      â”‚ï¼ˆç»“æœåˆ†æï¼‰
            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  å‘ç”¨æˆ·ä¼ é€’ç»“æœ      â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Hooké…ç½®

### .claude/settings.json

```json
{
  "hooks": {
    "enabled": true,
    "timeout": 5000,
    "session_start": ".claude/hooks/session_start.sh",
    "pre_tool_use": ".claude/hooks/pre_tool_use.sh",
    "post_tool_use": ".claude/hooks/post_tool_use.sh",
    "user_prompt_submit": ".claude/hooks/user_prompt_submit.sh"
  }
}
```

## ğŸ†˜ Hooké”™è¯¯å¤„ç†

### Hookæ‰§è¡Œå¤±è´¥

```
:x: Hookå¤±è´¥
â”‚
â”œâ”€ è¶…æ—¶ï¼ˆè¶…è¿‡5ç§’ï¼‰
â”‚  â””â”€â†’ é˜»æ­¢å·¥å…·æ‰§è¡Œ
â”‚
â”œâ”€ è„šæœ¬é”™è¯¯
â”‚  â””â”€â†’ ä¿å­˜é”™è¯¯æ—¥å¿—
â”‚
â””â”€ æƒé™é”™è¯¯
   â””â”€â†’ éœ€è¦è°ƒæ•´æƒé™
```

### è°ƒè¯•

```bash
# æ£€æŸ¥Hookæ—¥å¿—
cat ~/.claude/projects/*/hook-logs/*.log

# æ‰‹åŠ¨æ‰§è¡ŒHook
bash .claude/hooks/session_start.sh

# ç¦ç”¨Hooks
# åœ¨settings.jsonä¸­è®¾ç½®"hooks.enabled" â†’ false
```

## <span class="material-icons">library_books</span> è¯¦ç»†æŒ‡å—

- **[SessionStart Hook](session.md)** - ä¼šè¯å¼€å§‹æ—¶è‡ªåŠ¨æ‰§è¡Œ
- **[Tool Hooks](tool.md)** - å·¥å…·æ‰§è¡Œå‰åå¤„ç†

______________________________________________________________________

**ä¸‹ä¸€æ­¥**: [SessionStart Hook](session.md)æˆ–[Tool Hooks](tool.md)



