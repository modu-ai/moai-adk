# doc-syncer: í…Œí¬ë‹ˆì»¬ ë¼ì´í„° ì—ì´ì „íŠ¸

`doc-syncer`ëŠ” MoAI-ADK ìƒíƒœê³„ì—ì„œ Living Document ë™ê¸°í™”ì™€ TAG ì²´ì¸ ê²€ì¦ì„ ì „ë‹´í•˜ëŠ” ì „ë¬¸ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

## ê°œìš”

### ì—ì´ì „íŠ¸ ì •ì²´ì„±

- **ì•„ì´ì½˜**: ğŸ“–
- **ì§ë¬´**: í…Œí¬ë‹ˆì»¬ ë¼ì´í„° (Technical Writer)
- **ì „ë¬¸ ì˜ì—­**: ë¬¸ì„œ-ì½”ë“œ ë™ê¸°í™” ë° API ë¬¸ì„œí™” ì „ë¬¸ê°€
- **í˜ë¥´ì†Œë‚˜**: Living Document ì² í•™ì— ë”°ë¼ ì½”ë“œì™€ ë¬¸ì„œì˜ ì™„ë²½í•œ ì¼ì¹˜ì„±ì„ ë³´ì¥í•˜ëŠ” ë¬¸ì„œí™” ì „ë¬¸ê°€
- **í•µì‹¬ ì—­í• **: ì‹¤ì‹œê°„ ë¬¸ì„œ-ì½”ë“œ ë™ê¸°í™” ë° @TAG ê¸°ë°˜ ì™„ì „í•œ ì¶”ì ì„± ë¬¸ì„œ ê´€ë¦¬

### ì „ë¬¸ê°€ íŠ¹ì„±

**ì‚¬ê³  ë°©ì‹**:
- ì½”ë“œ ë³€ê²½ê³¼ ë¬¸ì„œ ê°±ì‹ ì„ í•˜ë‚˜ì˜ ì›ìì  ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬
- CODE-FIRST ìŠ¤ìº” ê¸°ë°˜: ì¤‘ê°„ ìºì‹œ ì—†ì´ ì½”ë“œë¥¼ ì§ì ‘ ìŠ¤ìº”í•˜ì—¬ TAG ì¶”ì ì„± ë³´ì¥
- 3ë‹¨ê³„ Phase ì²´ê³„: ë¶„ì„ â†’ ì‹¤í–‰ â†’ ê²€ì¦

**ì˜ì‚¬ê²°ì • ê¸°ì¤€**:
- ë¬¸ì„œ-ì½”ë“œ ì¼ì¹˜ì„± ìš°ì„ 
- @TAG ë¬´ê²°ì„± ë³´ì¥
- ì¶”ì ì„± ì™„ì „ì„± ìœ ì§€
- í”„ë¡œì íŠ¸ ìœ í˜•ë³„ ì¡°ê±´ë¶€ ë¬¸ì„œí™”

**ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ìŠ¤íƒ€ì¼**:
- ë™ê¸°í™” ë²”ìœ„ì™€ ì˜í–¥ë„ë¥¼ ëª…í™•íˆ ë¶„ì„í•˜ì—¬ ë³´ê³ 
- ì‹¬ê°ë„ë³„ ì•„ì´ì½˜ (âŒ Critical / âš ï¸ Warning / â„¹ï¸ Info) í™œìš©
- êµ¬ì²´ì ì¸ ê¶Œì¥ ì¡°ì¹˜ ì œì‹œ

---

## Living Documentë€?

### ê°œë…

**Living Document**ëŠ” ì½”ë“œì™€ í•¨ê»˜ ì‚´ì•„ ìˆ¨ì‰¬ëŠ” ë¬¸ì„œì…ë‹ˆë‹¤. ì½”ë“œ ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ë™ê¸°í™”ë˜ë©°, í•­ìƒ ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜

1. **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ì½”ë“œ ë³€ê²½ ì¦‰ì‹œ ë¬¸ì„œ ì—…ë°ì´íŠ¸
2. **ì¶”ì ì„± ë³´ì¥**: @TAG ì‹œìŠ¤í…œìœ¼ë¡œ ì½”ë“œ-ë¬¸ì„œ ê°„ ì™„ë²½í•œ ì—°ê²°
3. **ìë™í™”**: ìˆ˜ë™ ë¬¸ì„œ ì‘ì„±/ê´€ë¦¬ ë¶ˆí•„ìš”
4. **ì‹ ë¢°ì„±**: í•­ìƒ ìµœì‹ , í•­ìƒ ì •í™•

### ì „í†µì  ë¬¸ì„œí™” vs Living Document

| ì „í†µì  ë¬¸ì„œí™” | Living Document |
|-------------|----------------|
| ìˆ˜ë™ ì‘ì„± ë° ì—…ë°ì´íŠ¸ | ìë™ ìƒì„± ë° ë™ê¸°í™” |
| ì½”ë“œì™€ ë¬¸ì„œ ë¶ˆì¼ì¹˜ ê°€ëŠ¥ | ì½”ë“œ-ë¬¸ì„œ ì¼ì¹˜ ë³´ì¥ |
| ë¬¸ì„œ ì‘ì„± ë¶€ë‹´ í° | ë¬¸ì„œ ì‘ì„± ë¶€ë‹´ ì—†ìŒ |
| ì˜¤ë˜ëœ ë¬¸ì„œ ë°©ì¹˜ë¨ | í•­ìƒ ìµœì‹  ìƒíƒœ |
| ì¶”ì ì„± ë¶€ì¡± | @TAG ì™„ë²½í•œ ì¶”ì ì„± |

### Living Documentì˜ ì´ì 

**ê°œë°œì ê´€ì **:
- ë¬¸ì„œ ì‘ì„± ë¶€ë‹´ ì œë¡œ
- ì½”ë“œì— ì§‘ì¤‘ ê°€ëŠ¥
- TAG ì£¼ì„ë§Œ ì¶”ê°€í•˜ë©´ ë¬¸ì„œ ìë™ ìƒì„±

**íŒ€ ê´€ì **:
- ì˜¨ë³´ë”© ì‹œê°„ ë‹¨ì¶• (ì •í™•í•œ ë¬¸ì„œ)
- ì½”ë“œ ë¦¬ë·° íš¨ìœ¨ì„± ì¦ê°€
- ì§€ì‹ ê³µìœ  ìš©ì´

**í”„ë¡œì íŠ¸ ê´€ì **:
- ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- ê¸°ìˆ  ë¶€ì±„ ê°ì†Œ
- í’ˆì§ˆ ì¼ê´€ì„± ìœ ì§€

---

## í•µì‹¬ ì±…ì„

### 1. Living Document ë™ê¸°í™”

**ì½”ë“œ â†’ ë¬¸ì„œ ë™ê¸°í™”**:
- API ë¬¸ì„œ ìë™ ìƒì„±/ê°±ì‹ 
- í•¨ìˆ˜/í´ë˜ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ì¶”ì¶œ
- README ë° ì•„í‚¤í…ì²˜ ë¬¸ì„œ ì—…ë°ì´íŠ¸
- @CODE TAG ì—°ê²° í™•ì¸

**ë¬¸ì„œ â†’ ì½”ë“œ ë™ê¸°í™”**:
- SPEC ë³€ê²½ ì¶”ì 
- TAG ì¶”ì ì„± ì—…ë°ì´íŠ¸
- ëŠì–´ì§„ TAG ì²´ì¸ ë³µêµ¬

### 2. @TAG ì²´ì¸ ê´€ë¦¬

**Primary Chain ê´€ë¦¬**:
```
@SPEC:ID â†’ @TEST:ID â†’ @CODE:ID â†’ @DOC:ID
```

**TAG ì²´ì¸ ê²€ì¦**:
- ì™„ì „í•œ ì²´ì¸ í™•ì¸ (SPEC â†’ TEST â†’ CODE)
- ê³ ì•„ TAG íƒì§€ (SPEC ì—†ëŠ” CODE/TEST)
- ëŠì–´ì§„ ë§í¬ ê°ì§€ ë° ìˆ˜ì • ì œì•ˆ
- ì¤‘ë³µ TAG ë³‘í•©/ë¶„ë¦¬

### 3. ë¬¸ì„œ í’ˆì§ˆ ê´€ë¦¬

**TRUST ì›ì¹™ ê²€ì¦**:
- **T** - Test First: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ â‰¥85%
- **R** - Readable: ë¦°í„° í†µê³¼ (0 issues)
- **U** - Unified: íƒ€ì… ì²´í¬ í†µê³¼
- **S** - Secured: ë³´ì•ˆ ìŠ¤ìº” í†µê³¼ (0 vulnerabilities)
- **T** - Trackable: TAG ì²´ì¸ ë¬´ê²°ì„± í™•ì¸

**í’ˆì§ˆ ë©”íŠ¸ë¦­ ìˆ˜ì§‘**:
- ì½”ë“œ ë³µì¡ë„
- íŒŒì¼/í•¨ìˆ˜ í¬ê¸°
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
- ë³´ì•ˆ ì·¨ì•½ì 

---

## í”„ë¡œì íŠ¸ ìœ í˜•ë³„ ì¡°ê±´ë¶€ ë¬¸ì„œ ìƒì„±

doc-syncerëŠ” í”„ë¡œì íŠ¸ íŠ¹ì„±ì— ë§ëŠ” ë¬¸ì„œë§Œ ìƒì„±í•©ë‹ˆë‹¤.

### ë§¤í•‘ ê·œì¹™

| í”„ë¡œì íŠ¸ ìœ í˜• | ìƒì„± ë¬¸ì„œ | ì„¤ëª… |
|-------------|---------|------|
| **Web API** | `API.md`, `endpoints.md` | REST API, GraphQL ì—”ë“œí¬ì¸íŠ¸ ë¬¸ì„œí™” |
| **CLI Tool** | `CLI_COMMANDS.md`, `usage.md` | ëª…ë ¹ì–´ ì˜µì…˜, ì‚¬ìš©ë²• ë¬¸ì„œí™” |
| **Library** | `API_REFERENCE.md`, `modules.md` | í•¨ìˆ˜/í´ë˜ìŠ¤ API ë¬¸ì„œí™” |
| **Frontend** | `components.md`, `styling.md` | ì»´í¬ë„ŒíŠ¸, UI íŒ¨í„´ ë¬¸ì„œí™” |
| **Application** | `features.md`, `user-guide.md` | ê¸°ëŠ¥ ì„¤ëª…, ì‚¬ìš©ì ê°€ì´ë“œ |

### ì¡°ê±´ë¶€ ìƒì„± ì›ì¹™

**ìƒì„± ì¡°ê±´**:
- í”„ë¡œì íŠ¸ì— í•´ë‹¹ ê¸°ëŠ¥ì´ ì¡´ì¬í•  ë•Œë§Œ ìƒì„±
- ì˜ˆ: CLI ë„êµ¬ê°€ ì•„ë‹ˆë©´ `CLI_COMMANDS.md` ìƒì„± ì•ˆ í•¨

**ìë™ ê°ì§€**:
doc-syncerê°€ ìë™ìœ¼ë¡œ í”„ë¡œì íŠ¸ ìœ í˜•ì„ ê°ì§€í•©ë‹ˆë‹¤:
```bash
# CLI ë„êµ¬ ê°ì§€
rg "#!/usr/bin/env" src/
rg "argparse|click|commander" src/

# Web API ê°ì§€
rg "@app.route|@api.route|app.get|router.get" src/

# Library ê°ì§€
package.jsonì˜ "main" í•„ë“œ í™•ì¸
```

---

## ë‹¨ì¼ ì±…ì„ ì›ì¹™

### doc-syncer ì „ë‹´ ì˜ì—­

âœ… **doc-syncerê°€ ë‹´ë‹¹í•˜ëŠ” ì‘ì—…**:
- Living Document ë™ê¸°í™” (ì½”ë“œ â†” ë¬¸ì„œ)
- @TAG ì‹œìŠ¤í…œ ê²€ì¦ ë° ì—…ë°ì´íŠ¸
- API ë¬¸ì„œ ìë™ ìƒì„±/ê°±ì‹ 
- README ë° ì•„í‚¤í…ì²˜ ë¬¸ì„œ ë™ê¸°í™”
- ë¬¸ì„œ-ì½”ë“œ ì¼ì¹˜ì„± ê²€ì¦
- Sync Report ìƒì„±

### git-managerì—ê²Œ ìœ„ì„í•˜ëŠ” ì‘ì—…

âŒ **doc-syncerê°€ í•˜ì§€ ì•ŠëŠ” ì‘ì—…** (git-manager ì „ë‹´):
- ëª¨ë“  Git ì»¤ë°‹ ì‘ì—… (add, commit, push)
- PR ìƒíƒœ ì „í™˜ (Draft â†’ Ready)
- ë¦¬ë·°ì–´ ìë™ í• ë‹¹ ë° ë¼ë²¨ë§
- GitHub CLI ì—°ë™ ë° ì›ê²© ë™ê¸°í™”
- ë¸Œëœì¹˜ ìƒì„±/ì‚­ì œ/ë¨¸ì§€

**ì¤‘ìš”**: doc-syncerëŠ” git-managerë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëª¨ë“  ì—ì´ì „íŠ¸ ê°„ ì¡°ìœ¨ì€ Alfredê°€ ë‹´ë‹¹í•©ë‹ˆë‹¤.

---

## ì›Œí¬í”Œë¡œìš°: 2ë‹¨ê³„ Phase ì‹œìŠ¤í…œ

### Phase 1: ë¶„ì„ ë° ê³„íš ìˆ˜ë¦½ (2-3ë¶„)

Alfredê°€ í˜„ì¬ ìƒíƒœë¥¼ ë¶„ì„í•˜ê³  ë™ê¸°í™” ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.

#### 1ë‹¨ê³„: Git ìƒíƒœ í™•ì¸

**ì‹¤í–‰ ëª…ë ¹ì–´**:
```bash
git status --short
git diff --stat
git branch
git rev-parse --abbrev-ref HEAD
```

**í™•ì¸ í•­ëª©**:
- **í˜„ì¬ ë¸Œëœì¹˜**: `feature/SPEC-XXX` í˜•ì‹ì¸ì§€
- **ë³€ê²½ íŒŒì¼**: staged/unstaged íŒŒì¼ ëª©ë¡
- **PR ìƒíƒœ**: Draft/Ready ì—¬ë¶€ (Team ëª¨ë“œ)
- **ë³€ê²½ í†µê³„**: ì¶”ê°€/ì‚­ì œ ì¤„ ìˆ˜

**ë³´ê³  ì˜ˆì‹œ**:
```markdown
ğŸ“‹ Git ìƒíƒœ í™•ì¸

í˜„ì¬ ë¸Œëœì¹˜: feature/SPEC-AUTH-001
PR ìƒíƒœ: Draft
ë³€ê²½ íŒŒì¼: 4ê°œ
- .moai/specs/SPEC-AUTH-001/spec.md (ì‹ ê·œ)
- tests/auth/service.test.ts (ì‹ ê·œ)
- src/auth/service.ts (ì‹ ê·œ)
- src/auth/types.ts (ìˆ˜ì •)

ë³€ê²½ í†µê³„:
- ì¶”ê°€: +256 ì¤„
- ì‚­ì œ: -12 ì¤„
```

#### 2ë‹¨ê³„: ì½”ë“œ ìŠ¤ìº” (CODE-FIRST)

**TAG ì‹œìŠ¤í…œ ê²€ì¦**:
```bash
# ì „ì²´ TAG ìŠ¤ìº”
rg '@(SPEC|TEST|CODE|DOC):' -n .moai/specs/ tests/ src/ docs/

# TAG ì´ ê°œìˆ˜ í™•ì¸
rg '@SPEC:' -c .moai/specs/ | awk '{sum+=$1} END {print "Total: " sum}'
rg '@TEST:' -c tests/ | awk '{sum+=$1} END {print "Total: " sum}'
rg '@CODE:' -c src/ | awk '{sum+=$1} END {print "Total: " sum}'
rg '@DOC:' -c docs/ | awk '{sum+=$1} END {print "Total: " sum}'
```

**Primary Chain ê²€ì¦**:
```bash
# SPECë³„ TAG ì¶”ì¶œ ë° ì²´ì¸ ê²€ì¦
for spec_id in $(rg '@SPEC:([A-Z]+-[0-9]+)' -o -r '$1' .moai/specs/ | sort -u); do
  echo "Checking $spec_id..."

  spec_count=$(rg -c "@SPEC:$spec_id" .moai/specs/ | awk '{sum+=$1} END {print sum}')
  test_count=$(rg -c "@TEST:$spec_id" tests/ | awk '{sum+=$1} END {print sum}')
  code_count=$(rg -c "@CODE:$spec_id" src/ | awk '{sum+=$1} END {print sum}')
  doc_count=$(rg -c "@DOC:$spec_id" docs/ | awk '{sum+=$1} END {print sum}')

  echo "  SPEC: $spec_count | TEST: $test_count | CODE: $code_count | DOC: $doc_count"
done
```

**ê³ ì•„ TAG íƒì§€**:
```bash
# SPEC ì—†ëŠ” CODE TAG íƒì§€
for tag in $(rg '@CODE:([A-Z]+-[0-9]+)' -o -r '$1' -h src/ | sort -u); do
  if ! rg -q "@SPEC:$tag" .moai/specs/; then
    echo "âŒ ê³ ì•„ TAG: @CODE:$tag (SPEC ì—†ìŒ)"
  fi
done

# SPEC ì—†ëŠ” TEST TAG íƒì§€
for tag in $(rg '@TEST:([A-Z]+-[0-9]+)' -o -r '$1' -h tests/ | sort -u); do
  if ! rg -q "@SPEC:$tag" .moai/specs/; then
    echo "âŒ ê³ ì•„ TAG: @TEST:$tag (SPEC ì—†ìŒ)"
  fi
done
```

**ëŠì–´ì§„ ë§í¬ ê°ì§€**:
```bash
# @DOC íê¸° TAG íƒì§€ (ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)
rg '@DOC:' -n docs/

# TODO/FIXME ë¯¸ì™„ì„± ì‘ì—… íƒì§€
rg 'TODO|FIXME' -n src/ tests/
```

**ìŠ¤ìº” ê²°ê³¼ ë³´ê³  ì˜ˆì‹œ**:
```markdown
ğŸ“‹ TAG ì²´ì¸ ìŠ¤ìº” ê²°ê³¼

ê²€ìƒ‰ëœ TAG:
- @SPEC:AUTH-001 (1ê°œ)
- @TEST:AUTH-001 (1ê°œ)
- @CODE:AUTH-001 (1ê°œ)
- @DOC:AUTH-001 (0ê°œ)

Primary Chain ê²€ì¦:
âœ… SPEC-AUTH-001: SPEC â†’ TEST â†’ CODE (ì™„ì „)
âš ï¸  SPEC-UPLOAD-003: SPEC â†’ CODE (TEST ëˆ„ë½)
âš ï¸  SPEC-PAYMENT-002: SPEC â†’ TEST (CODE ëˆ„ë½)

ê³ ì•„ TAG:
âŒ @CODE:REFACTOR-010 (SPEC ì—†ìŒ)

ë¯¸ì™„ì„± ì‘ì—… (TODO/FIXME):
âš ï¸  src/auth/service.ts:45: TODO: Rate limiting êµ¬í˜„
âš ï¸  tests/upload/service.test.ts:12: FIXME: Edge case í…ŒìŠ¤íŠ¸ ì¶”ê°€
```

#### 3ë‹¨ê³„: ë¬¸ì„œ í˜„í™© íŒŒì•…

**ê¸°ì¡´ ë¬¸ì„œ ëª©ë¡ í™•ì¸**:
```bash
# docs/ ë””ë ‰í† ë¦¬ êµ¬ì¡° í™•ì¸
find docs/ -name "*.md" -type f

# ì£¼ìš” ë¬¸ì„œ ì¡´ì¬ ì—¬ë¶€
ls -la README.md CHANGELOG.md 2>/dev/null
```

**ë¬¸ì„œ í˜„í™© ë³´ê³  ì˜ˆì‹œ**:
```markdown
ğŸ“š ë¬¸ì„œ í˜„í™©

ê¸°ì¡´ ë¬¸ì„œ:
- README.md (ì¡´ì¬)
- CHANGELOG.md (ì¡´ì¬)
- docs/features/auth/jwt-authentication.md (ì—†ìŒ, ìƒì„± í•„ìš”)
- .moai/reports/sync-report-*.md (ìµœê·¼: 2025-10-10)

ìƒì„± ì˜ˆì • ë¬¸ì„œ:
1. Sync Report: .moai/reports/sync-report-2025-10-11.md
2. Feature Doc: docs/features/auth/jwt-authentication.md (ì„ íƒ)
3. README ì—…ë°ì´íŠ¸: ìƒˆ ê¸°ëŠ¥ ì„¹ì…˜ ì¶”ê°€
```

#### 4ë‹¨ê³„: TRUST ì›ì¹™ ê²€ì¦

**ê²€ì¦ ëª…ë ¹ì–´ ì‹¤í–‰**:

**T - Test First**:
```bash
# TypeScript/JavaScript
bun test --coverage
# ë˜ëŠ”
vitest --coverage

# Python
pytest --cov=src --cov-report=term-missing

# Java
mvn test jacoco:report

# Go
go test -cover ./...

# Rust
cargo test --all-features
```

**R - Readable**:
```bash
# TypeScript/JavaScript
biome check src/
# ë˜ëŠ”
eslint src/

# Python
ruff check src/

# Go
golangci-lint run

# Rust
cargo clippy
```

**U - Unified**:
```bash
# TypeScript
tsc --noEmit

# Python
mypy src/

# Go
go vet ./...
```

**S - Secured**:
```bash
# TypeScript/JavaScript
npm audit

# Python
bandit -r src/

# Rust
cargo audit
```

**T - Trackable**:
```bash
# TAG ë¬´ê²°ì„± í™•ì¸
rg '@(SPEC|TEST|CODE):' -n
```

**ê²€ì¦ ë³´ê³  ì˜ˆì‹œ**:
```markdown
âœ… TRUST ê²€ì¦ ì™„ë£Œ

### T - Test First
- âœ… í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€: 92% (ëª©í‘œ 85% ì´ˆê³¼)
- âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼: 12/12

### R - Readable
- âœ… ë¦°í„° í†µê³¼: 0 issues
- âœ… íŒŒì¼ í¬ê¸°: í‰ê·  156 LOC (â‰¤300)
- âœ… í•¨ìˆ˜ í¬ê¸°: í‰ê·  18 LOC (â‰¤50)
- âœ… ë³µì¡ë„: ìµœëŒ€ 6 (â‰¤10)

### U - Unified
- âœ… íƒ€ì… ì²´í¬ í†µê³¼
- âœ… ì˜ì¡´ì„± ì£¼ì… íŒ¨í„´ ì‚¬ìš©

### S - Secured
- âœ… ë³´ì•ˆ ìŠ¤ìº”: 0 vulnerabilities
- âœ… ì…ë ¥ ê²€ì¦ êµ¬í˜„ (Zod ìŠ¤í‚¤ë§ˆ)

### T - Trackable
- âœ… TAG ì²´ì¸ ë¬´ê²°ì„± í™•ì¸
- âœ… ê³ ì•„ TAG ì—†ìŒ

**TRUST ì ìˆ˜**: 5/5 âœ…
```

**TRUST ê²€ì¦ ì‹¤íŒ¨ ì˜ˆì‹œ**:
```markdown
âŒ TRUST ê²€ì¦ ì‹¤íŒ¨

### T - Test First
- âŒ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€: 72% (ëª©í‘œ 85% ë¯¸ë§Œ)
  â†’ ê¶Œì¥ ì¡°ì¹˜: ëˆ„ë½ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€

### R - Readable
- âŒ ë¦°í„° ì˜¤ë¥˜: 5ê°œ
  â†’ ê¶Œì¥ ì¡°ì¹˜: biome check src/ --apply ì‹¤í–‰

### U - Unified
- âœ… íƒ€ì… ì²´í¬ í†µê³¼

### S - Secured
- âš ï¸  ë³´ì•ˆ ê²½ê³ : 1ê°œ (ë‚®ì€ ì‹¬ê°ë„)
  â†’ ê¶Œì¥ ì¡°ì¹˜: ì˜ì¡´ì„± ì—…ë°ì´íŠ¸

### T - Trackable
- âš ï¸  ë¶ˆì™„ì „í•œ TAG ì²´ì¸: SPEC-UPLOAD-003 (TEST ëˆ„ë½)
  â†’ ê¶Œì¥ ì¡°ì¹˜: í…ŒìŠ¤íŠ¸ ì‘ì„± í›„ ì¬ê²€ì¦

**TRUST ì ìˆ˜**: 2/5 âŒ

**ê¶Œì¥ì‚¬í•­**:
1. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 85% ì´ìƒ ë‹¬ì„±
2. ë¦°í„° ì˜¤ë¥˜ ìˆ˜ì • (biome check src/ --apply)
3. TAG ì²´ì¸ ì™„ì„± (TEST ì‘ì„±)
4. ìˆ˜ì • í›„ /alfred:3-sync ì¬ì‹¤í–‰
```

#### 5ë‹¨ê³„: ì‚¬ìš©ì í™•ì¸ ëŒ€ê¸°

**í™•ì¸ í”„ë¡¬í”„íŠ¸**:
```markdown
ğŸ“‹ Phase 1 ì™„ë£Œ: ë¶„ì„ ë° ê³„íš ìˆ˜ë¦½

ìš”ì•½:
- Git ìƒíƒœ: feature/SPEC-AUTH-001 ë¸Œëœì¹˜, 4ê°œ íŒŒì¼ ë³€ê²½
- TAG ì²´ì¸: 1ê°œ ì™„ì „, 2ê°œ ë¶ˆì™„ì „, 1ê°œ ê³ ì•„ TAG
- TRUST ì ìˆ˜: 5/5 âœ…
- ìƒì„± ì˜ˆì • ë¬¸ì„œ: 2ê°œ

ë‹¤ìŒ ë‹¨ê³„:
1. Sync Report ìƒì„±
2. Feature Document ìƒì„± (ì„ íƒ)
3. PR ìƒíƒœ Draft â†’ Ready ì „í™˜ (Team ëª¨ë“œ)

ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì§„í–‰/ìˆ˜ì •/ì¤‘ë‹¨)
```

**ì‚¬ìš©ì ì‘ë‹µ íŒ¨í„´**:
- **"ì§„í–‰"** ë˜ëŠ” **"ì‹œì‘"**: Phase 2ë¡œ ì§„í–‰
- **"ìˆ˜ì • [ë‚´ìš©]"**: ë¬¸ì œ í•´ê²° í›„ Phase 1 ì¬ì‹¤í–‰
- **"ì¤‘ë‹¨"**: ì‘ì—… ì·¨ì†Œ

---

### Phase 2: ë¬¸ì„œ ë™ê¸°í™” ì‹¤í–‰ (5-10ë¶„)

ì‚¬ìš©ìê°€ "ì§„í–‰"í•˜ë©´ Alfredê°€ Living Documentë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

#### 1. Sync Report ìƒì„±

**`.moai/reports/sync-report-YYYY-MM-DD.md`**:

doc-syncerê°€ ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•œ ìƒì„¸ ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

**ë©”íƒ€ë°ì´í„° ì„¹ì…˜**:
```markdown
# Sync Report - 2025-10-11T13:00:00Z

## Metadata
- **ë‚ ì§œ**: 2025-10-11 13:00:00
- **ë¸Œëœì¹˜**: feature/SPEC-AUTH-001
- **ì‘ì„±ì**: @Goos
- **ì»¤ë°‹**: a1b2c3d4
- **ëª¨ë“œ**: Team
```

**TAG ì²´ì¸ ìš”ì•½**:
```markdown
## TAG Chain Summary

### Complete Chains (1)

#### SPEC-AUTH-001: JWT ì¸ì¦ ì‹œìŠ¤í…œ
- âœ… **SPEC**: .moai/specs/SPEC-AUTH-001/spec.md (v0.0.1)
- âœ… **TEST**: tests/auth/service.test.ts (4 tests)
- âœ… **CODE**: src/auth/service.ts (156 LOC)
- âš ï¸  **DOC**: not found (optional)

**Status**: Ready for review
**TRUST Score**: 5/5 âœ…

---

### Incomplete Chains (2)

#### SPEC-UPLOAD-003: íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥
- âœ… **SPEC**: .moai/specs/SPEC-UPLOAD-003/spec.md
- âŒ **TEST**: not found
- âœ… **CODE**: src/upload/service.ts

**Issue**: TEST ëˆ„ë½
**Recommendation**: tests/upload/service.test.ts ì‘ì„± í•„ìš”

#### SPEC-PAYMENT-002: ê²°ì œ ì—°ë™
- âœ… **SPEC**: .moai/specs/SPEC-PAYMENT-002/spec.md
- âœ… **TEST**: tests/payment/gateway.test.ts
- âŒ **CODE**: not found

**Issue**: CODE ëˆ„ë½
**Recommendation**: src/payment/gateway.ts êµ¬í˜„ í•„ìš”

---

### Orphan TAGs (1)

#### @CODE:REFACTOR-010
- **Location**: src/utils/formatter.ts:1
- **Issue**: SPEC ì—†ìŒ
- **Recommendation**: SPEC ìƒì„± ë˜ëŠ” TAG ì œê±°
```

**í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**:
```markdown
## Test Coverage

| File | Coverage | Lines | Missing |
|------|----------|-------|---------|
| src/auth/service.ts | 92% | 156 | 45, 52 |
| src/auth/types.ts | 100% | 24 | - |
| src/utils/jwt.ts | 88% | 64 | 12-15 |
| **Total** | **92%** | **244** | **6** |

**Status**: âœ… Passed (â‰¥85%)

**Missing Coverage**:
- src/auth/service.ts:45 - Error handling for expired token
- src/auth/service.ts:52 - Edge case: empty password
- src/utils/jwt.ts:12-15 - Invalid signature handling
```

**TRUST ì¤€ìˆ˜**:
```markdown
## TRUST Compliance

| Principle | Status | Details |
|-----------|--------|---------|
| **T** - Test First | âœ… | 92% coverage, 12/12 tests passing |
| **R** - Readable | âœ… | 0 lint issues, avg complexity 4.2 |
| **U** - Unified | âœ… | TypeScript strict mode, 0 type errors |
| **S** - Secured | âœ… | 0 vulnerabilities, input validation |
| **T** - Trackable | âš ï¸ | 1 complete chain, 2 incomplete, 1 orphan |

**TRUST Score**: 4.5/5 âš ï¸

**Issues**:
- Incomplete TAG chains: SPEC-UPLOAD-003, SPEC-PAYMENT-002
- Orphan TAG: @CODE:REFACTOR-010
```

**í’ˆì§ˆ ë©”íŠ¸ë¦­**:
```markdown
## Quality Metrics

### Code Complexity
- **í‰ê·  ë³µì¡ë„**: 4.2 (ëª©í‘œ â‰¤10) âœ…
- **ìµœëŒ€ ë³µì¡ë„**: 6 (service.ts:authenticate)
- **í•¨ìˆ˜ ìˆ˜**: 8

### Code Size
- **íŒŒì¼ í¬ê¸°**: í‰ê·  156 LOC (ëª©í‘œ â‰¤300) âœ…
- **í•¨ìˆ˜ í¬ê¸°**: í‰ê·  18 LOC (ëª©í‘œ â‰¤50) âœ…
- **ë§¤ê°œë³€ìˆ˜**: ìµœëŒ€ 3ê°œ (ëª©í‘œ â‰¤5) âœ…

### Test Metrics
- **í…ŒìŠ¤íŠ¸ íŒŒì¼**: 1ê°œ
- **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: 12ê°œ
- **ì‹¤í–‰ ì‹œê°„**: 1.2ì´ˆ
- **í†µê³¼ìœ¨**: 100% (12/12)
```

**ê¶Œì¥ì‚¬í•­**:
```markdown
## Recommendations

### âš ï¸ Action Required

**ë¶ˆì™„ì „í•œ TAG ì²´ì¸**:
1. SPEC-UPLOAD-003: TEST ì‘ì„± í•„ìš”
   - `tests/upload/service.test.ts` ìƒì„±
   - ìµœì†Œ 85% ì»¤ë²„ë¦¬ì§€ ë‹¬ì„±

2. SPEC-PAYMENT-002: CODE êµ¬í˜„ í•„ìš”
   - `src/payment/gateway.ts` ì‘ì„±
   - TDD ì‚¬ì´í´ (RED-GREEN-REFACTOR) ì¤€ìˆ˜

**ê³ ì•„ TAG**:
3. @CODE:REFACTOR-010: SPEC ìƒì„± ë˜ëŠ” TAG ì œê±°
   - Option 1: `/alfred:1-spec "REFACTOR-010: í¬ë§·í„° ê°œì„ "`
   - Option 2: src/utils/formatter.ts:1ì˜ TAG ì£¼ì„ ì œê±°

### âœ… Ready to Merge (SPEC-AUTH-001)

**ì¡°ê±´**:
- âœ… TAG ì²´ì¸ ì™„ì „
- âœ… TRUST ì ìˆ˜ 5/5
- âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
- âœ… ì»¤ë²„ë¦¬ì§€ â‰¥85%

**Next Steps**:
1. Code review ìš”ì²­
2. CI/CD í†µê³¼ í™•ì¸ (Team ëª¨ë“œ)
3. PR ë¨¸ì§€ (squash)
4. develop ë¸Œëœì¹˜ë¡œ ì „í™˜

---

**Generated by**: MoAI-ADK v0.2.17
**Command**: /alfred:3-sync
**Duration**: 8.3 seconds
```

#### 2. Feature Document ìƒì„± (ì„ íƒ)

**í”„ë¡œì íŠ¸ ìœ í˜•ë³„ ë¬¸ì„œ ìƒì„±**:

doc-syncerëŠ” í”„ë¡œì íŠ¸ ìœ í˜•ì„ ìë™ ê°ì§€í•˜ì—¬ ì ì ˆí•œ ë¬¸ì„œë§Œ ìƒì„±í•©ë‹ˆë‹¤.

**Web API í”„ë¡œì íŠ¸ ì˜ˆì‹œ**:

**`docs/features/auth/jwt-authentication.md`**:

```markdown
<!-- @DOC:AUTH-001 | SPEC: .moai/specs/SPEC-AUTH-001/spec.md -->

# JWT ì¸ì¦ ì‹œìŠ¤í…œ

> **SPEC**: AUTH-001 | **Version**: 0.0.1 | **Status**: Active

## Overview

ì´ ë¬¸ì„œëŠ” @SPEC:AUTH-001ì— ì •ì˜ëœ JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œì„ ì„¤ëª…í•©ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

- âœ… ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜ ì¸ì¦
- âœ… JWT í† í° ë°œê¸‰ (15ë¶„ ë§Œë£Œ)
- âœ… bcrypt ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
- âœ… ì…ë ¥ ê²€ì¦ (Zod ìŠ¤í‚¤ë§ˆ)

---

## Usage

### Basic Authentication

```typescript
import { AuthService } from '@/auth/service'

const authService = new AuthService(userRepo, jwtSecret)

// ë¡œê·¸ì¸
const result = await authService.authenticate('user@example.com', 'password123')

if (result.success) {
  console.log('Token:', result.token)
  console.log('Expires in:', result.expiresIn, 'seconds')
} else {
  console.error('Error:', result.error)
}
```

### Error Handling

```typescript
const result = await authService.authenticate(email, password)

if (!result.success) {
  switch (result.error) {
    case 'Invalid email format':
      // ì´ë©”ì¼ í˜•ì‹ ì˜¤ë¥˜ ì²˜ë¦¬
      break
    case 'Invalid credentials':
      // ì¸ì¦ ì‹¤íŒ¨ ì²˜ë¦¬
      break
    default:
      // ê¸°íƒ€ ì˜¤ë¥˜ ì²˜ë¦¬
  }
}
```

---

## API Reference

### `AuthService`

#### Constructor

```typescript
constructor(
  userRepo: UserRepository,
  jwtSecret: string
)
```

**Parameters**:
- `userRepo`: ì‚¬ìš©ì ì €ì¥ì†Œ ì¸í„°í˜ì´ìŠ¤
- `jwtSecret`: JWT ì„œëª…ì— ì‚¬ìš©í•  ë¹„ë°€ í‚¤

**Throws**:
- `Error('JWT secret is required')`: ë¹„ë°€ í‚¤ê°€ ì œê³µë˜ì§€ ì•ŠìŒ

#### Methods

##### `authenticate(email, password)`

ì‚¬ìš©ì ì¸ì¦ ë° JWT í† í° ë°œê¸‰

**Signature**:
```typescript
authenticate(email: string, password: string): Promise<AuthResult>
```

**Parameters**:
- `email` (string): ì‚¬ìš©ì ì´ë©”ì¼ (RFC 5322 í˜•ì‹)
- `password` (string): ë¹„ë°€ë²ˆí˜¸ (ìµœì†Œ 8ì)

**Returns**: `Promise<AuthResult>`

**Throws**:
- `Error('Invalid email format')`: ì´ë©”ì¼ í˜•ì‹ì´ ì˜ëª»ë¨
- `Error('Invalid credentials')`: ìê²©ì¦ëª…ì´ ì˜ëª»ë¨

**Example**:
```typescript
const result = await authService.authenticate('user@example.com', 'password123')
```

**Test Cases** (from @TEST:AUTH-001):
```typescript
// tests/auth/service.test.ts
âœ… ìœ íš¨í•œ ìê²©ì¦ëª…ìœ¼ë¡œ ë¡œê·¸ì¸ ì„±ê³µ
âœ… ì˜ëª»ëœ ì´ë©”ì¼ í˜•ì‹ ê±°ë¶€
âœ… ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ ê±°ë¶€
âœ… 15ë¶„ ë§Œë£Œ í† í° ë°œê¸‰
```

---

## Data Models

### `AuthResult`

```typescript
interface AuthResult {
  success: boolean
  token?: string
  tokenType?: string  // 'Bearer'
  expiresIn?: number  // 900 (15 minutes)
  error?: string
}
```

**Fields**:
- `success`: ì¸ì¦ ì„±ê³µ ì—¬ë¶€
- `token`: JWT í† í° (ì„±ê³µ ì‹œ)
- `tokenType`: í† í° ìœ í˜• (í•­ìƒ 'Bearer')
- `expiresIn`: í† í° ë§Œë£Œ ì‹œê°„ (ì´ˆ, 900 = 15ë¶„)
- `error`: ì˜¤ë¥˜ ë©”ì‹œì§€ (ì‹¤íŒ¨ ì‹œ)

### `User`

```typescript
interface User {
  id: string
  email: string
  passwordHash: string
}
```

---

## Security

### Password Hashing

- **Algorithm**: bcrypt
- **Cost Factor**: 12 (ê¸°ë³¸ê°’)
- **Salt**: ìë™ ìƒì„± (bcrypt ë‚´ì¥)
- **í•´ì‹œ ê¸¸ì´**: 60ì

### JWT Token

- **Algorithm**: HS256 (HMAC-SHA256)
- **Expiry**: 15ë¶„ (900ì´ˆ)
- **Payload**: `{ userId: string, exp: number }`
- **Secret**: í™˜ê²½ë³€ìˆ˜ `JWT_SECRET`ì—ì„œ ë¡œë“œ

### Input Validation

```typescript
// Zod ìŠ¤í‚¤ë§ˆ ì‚¬ìš©
const AuthInputSchema = z.object({
  email: z.string().email(),
  password: z.string().min(8),
})
```

---

## Testing

### Test Coverage

- **Overall**: 92%
- **Test Cases**: 12/12 passing
- **Execution Time**: 1.2 seconds

### Test Files

- `tests/auth/service.test.ts` - ë©”ì¸ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸

### Test Cases

| Test Case | Status | Coverage |
|-----------|--------|----------|
| ìœ íš¨í•œ ìê²©ì¦ëª… ë¡œê·¸ì¸ | âœ… | L10-25 |
| ì˜ëª»ëœ ì´ë©”ì¼ í˜•ì‹ ê±°ë¶€ | âœ… | L27-35 |
| ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ ê±°ë¶€ | âœ… | L37-45 |
| 15ë¶„ ë§Œë£Œ í† í° ë°œê¸‰ | âœ… | L47-55 |

### Running Tests

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
bun test tests/auth/

# ì»¤ë²„ë¦¬ì§€ í¬í•¨
bun test --coverage tests/auth/

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
bun test tests/auth/service.test.ts
```

---

## Performance

### Benchmarks

- **í‰ê·  ì¸ì¦ ì‹œê°„**: 120ms
- **bcrypt í•´ì‹± ì‹œê°„**: 100ms (cost factor 12)
- **JWT ìƒì„± ì‹œê°„**: 5ms

### Optimization Tips

- bcrypt cost factor ì¡°ì • (12 â†’ 10, 50% ì„±ëŠ¥ í–¥ìƒ)
- Redis ì„¸ì…˜ ìºì‹± (ì„ íƒ)

---

## Related SPECs

- [SPEC-AUTH-002: ì‚¬ìš©ì ë“±ë¡](/specs/SPEC-AUTH-002) - `depends_on`
- [SPEC-AUTH-003: ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •](/specs/SPEC-AUTH-003) - `related_specs`
- [SPEC-USER-001: ì‚¬ìš©ì í”„ë¡œí•„](/specs/SPEC-USER-001) - `related_specs`

---

## Changelog

### v0.0.1 (2025-10-11)
- **INITIAL**: JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„
- **AUTHOR**: @Goos
- **COMMITS**:
  - `a1b2c3d`: ğŸ”´ RED: ì¸ì¦ í…ŒìŠ¤íŠ¸ ì‘ì„±
  - `e4f5g6h`: ğŸŸ¢ GREEN: JWT ì¸ì¦ êµ¬í˜„
  - `i7j8k9l`: â™»ï¸ REFACTOR: ì…ë ¥ ê²€ì¦ ì¶”ê°€

---

**Last Updated**: 2025-10-11
**TAG**: @DOC:AUTH-001
**Generated by**: MoAI-ADK v0.2.17
```

**CLI Tool í”„ë¡œì íŠ¸ ì˜ˆì‹œ**:

**`docs/CLI_COMMANDS.md`**:

```markdown
<!-- @DOC:CLI-001 | SPEC: .moai/specs/SPEC-CLI-001/spec.md -->

# CLI Commands

> **SPEC**: CLI-001 | **Version**: 0.0.1

## Overview

MoAI-ADK CLI ëª…ë ¹ì–´ ë ˆí¼ëŸ°ìŠ¤

---

## Commands

### `moai init`

í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

**Syntax**:
```bash
moai init [directory]
```

**Parameters**:
- `directory` (optional): ì´ˆê¸°í™”í•  ë””ë ‰í† ë¦¬ (ê¸°ë³¸ê°’: í˜„ì¬ ë””ë ‰í† ë¦¬)

**Examples**:
```bash
# í˜„ì¬ ë””ë ‰í† ë¦¬ ì´ˆê¸°í™”
moai init

# íŠ¹ì • ë””ë ‰í† ë¦¬ ì´ˆê¸°í™”
moai init ./my-project
```

**Exit Codes**:
- `0`: ì„±ê³µ
- `1`: ì˜¤ë¥˜ (ë””ë ‰í† ë¦¬ ê¶Œí•œ ì—†ìŒ ë“±)

---

### `moai doctor`

í™˜ê²½ ì§„ë‹¨

**Syntax**:
```bash
moai doctor [--fix]
```

**Options**:
- `--fix`: ë°œê²¬ëœ ë¬¸ì œ ìë™ ìˆ˜ì •

**Examples**:
```bash
# ì§„ë‹¨ë§Œ ìˆ˜í–‰
moai doctor

# ë¬¸ì œ ìë™ ìˆ˜ì •
moai doctor --fix
```

---

**Last Updated**: 2025-10-11
**TAG**: @DOC:CLI-001
```

#### 3. README ì—…ë°ì´íŠ¸ (ì„ íƒ)

doc-syncerê°€ README.mdì˜ íŠ¹ì • ì„¹ì…˜ì„ ìë™ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

**ì—…ë°ì´íŠ¸ ëŒ€ìƒ ì„¹ì…˜**:
- `## Features` - ìƒˆ ê¸°ëŠ¥ ì¶”ê°€
- `## Usage` - ì‚¬ìš©ë²• ì˜ˆì‹œ ê°±ì‹ 
- `## Installation` - ì„¤ì¹˜ ê°€ì´ë“œ ë™ê¸°í™”

**ì˜ˆì‹œ**:

**Before**:
```markdown
## Features

- User authentication
- File upload
```

**After** (SPEC-AUTH-001 ì¶”ê°€):
```markdown
## Features

- User authentication
  - âœ¨ **NEW**: JWT-based authentication (AUTH-001)
- File upload
```

#### 4. PR ìƒíƒœ ì—…ë°ì´íŠ¸ (Team ëª¨ë“œ)

**Draft â†’ Ready ì „í™˜**:

```bash
# PR ìƒíƒœ í™•ì¸
gh pr view

# Draft â†’ Ready ì „í™˜
gh pr ready

# ë¼ë²¨ ì¶”ê°€
gh pr edit --add-label "ready-for-review"
gh pr edit --add-label "tdd-complete"
gh pr edit --add-label "trust-score-5"
```

**PR ë³¸ë¬¸ ì—…ë°ì´íŠ¸**:

Alfredê°€ PR ë³¸ë¬¸ì— TRUST ì ìˆ˜ ë° ë™ê¸°í™” ê²°ê³¼ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```markdown
# PR #42: SPEC-AUTH-001: JWT ì¸ì¦ ì‹œìŠ¤í…œ

## Summary
JWT ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„

## Changes
- âœ… SPEC ì‘ì„± ì™„ë£Œ
- âœ… TDD êµ¬í˜„ ì™„ë£Œ (RED-GREEN-REFACTOR)
- âœ… Living Document ìë™ ìƒì„±
- âœ… TAG ì²´ì¸ ê²€ì¦ ì™„ë£Œ

## TRUST Score: 5/5 âœ…

| Principle | Status | Details |
|-----------|--------|---------|
| **T** - Test First | âœ… | 92% coverage, 12/12 tests passing |
| **R** - Readable | âœ… | 0 lint issues, complexity â‰¤10 |
| **U** - Unified | âœ… | TypeScript strict mode |
| **S** - Secured | âœ… | 0 vulnerabilities |
| **T** - Trackable | âœ… | TAG chain intact |

## Test Results
```bash
âœ“ 12 tests passing
âœ“ Coverage: 92%
âœ“ Execution time: 1.2s
```

## Files Changed
- `.moai/specs/SPEC-AUTH-001/spec.md` (+156)
- `tests/auth/service.test.ts` (+89)
- `src/auth/service.ts` (+156)
- `src/auth/types.ts` (+24)
- `docs/features/auth/jwt-authentication.md` (+250)

## Living Documents
- ğŸ“„ [Sync Report](.moai/reports/sync-report-2025-10-11.md)
- ğŸ“– [Feature Doc](docs/features/auth/jwt-authentication.md)

## Next Steps
- [ ] Code review
- [ ] Merge to develop

---

ğŸ¤– Generated with [MoAI-ADK](https://github.com/modu-ai/moai-adk)
```

#### 5. CI/CD í™•ì¸ ë° ìë™ ë¨¸ì§€ (Team ëª¨ë“œ + --auto-merge)

**CI/CD ìƒíƒœ í™•ì¸**:

```bash
# CI/CD ìƒíƒœ watch
gh pr checks --watch

# ì¶œë ¥ ì˜ˆì‹œ:
âœ“ Test (Node 18.x)
âœ“ Test (Node 20.x)
âœ“ Lint
âœ“ Type Check
âœ“ Security Scan
âœ“ Coverage

All checks have passed
```

**ìë™ ë¨¸ì§€ ì‹¤í–‰**:

```bash
# PR ë¨¸ì§€ (squash)
gh pr merge --squash --delete-branch

# ë¨¸ì§€ ë©”ì‹œì§€
Merge pull request #42 from feature/SPEC-AUTH-001

SPEC-AUTH-001: JWT ì¸ì¦ ì‹œìŠ¤í…œ

- TDD êµ¬í˜„ ì™„ë£Œ (RED-GREEN-REFACTOR)
- TRUST ì ìˆ˜: 5/5
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€: 92%

Changes:
- JWT ê¸°ë°˜ ì¸ì¦ ì„œë¹„ìŠ¤ êµ¬í˜„
- bcrypt ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
- Zod ì…ë ¥ ê²€ì¦

ğŸ¤– Generated with MoAI-ADK
```

**develop ë¸Œëœì¹˜ë¡œ ì „í™˜**:

```bash
# develop ë¸Œëœì¹˜ë¡œ ì „í™˜
git checkout develop

# ìµœì‹  ë³€ê²½ì‚¬í•­ pull
git pull origin develop

# ë‹¤ìŒ ì‘ì—… ì¤€ë¹„ ì™„ë£Œ
echo "âœ… Ready for next SPEC"
```

---

## TAG ì²´ì¸ ê²€ì¦ ê·œì¹™

### ì™„ì „í•œ TAG ì²´ì¸ (Complete Chain) âœ…

**êµ¬ì¡°**:
```
@SPEC:ID â†’ @TEST:ID â†’ @CODE:ID â†’ @DOC:ID (optional)
```

**ê²€ì¦ ì¡°ê±´**:
- @SPEC:IDê°€ `.moai/specs/SPEC-{ID}/spec.md`ì— ì¡´ì¬
- @TEST:IDê°€ `tests/` ë””ë ‰í† ë¦¬ì— ì¡´ì¬
- @CODE:IDê°€ `src/` ë””ë ‰í† ë¦¬ì— ì¡´ì¬
- @DOC:IDëŠ” ì„ íƒ (ì—†ì–´ë„ ì™„ì „í•œ ì²´ì¸ìœ¼ë¡œ ì¸ì •)

**ì˜ˆì‹œ**:

```bash
# TAG ê²€ìƒ‰
$ rg '@(SPEC|TEST|CODE):AUTH-001' -n

.moai/specs/SPEC-AUTH-001/spec.md:7:# @SPEC:AUTH-001
tests/auth/service.test.ts:1:// @TEST:AUTH-001
src/auth/service.ts:1:// @CODE:AUTH-001

âœ… ì™„ì „í•œ TAG ì²´ì¸
```

### ë¶ˆì™„ì „í•œ TAG ì²´ì¸ (Incomplete Chain) âš ï¸

**Case 1: TEST ëˆ„ë½**:
```
@SPEC:UPLOAD-003 â†’ @CODE:UPLOAD-003 (TEST ì—†ìŒ)
```

**ê¶Œì¥ ì¡°ì¹˜**:
```bash
# tests/upload/service.test.ts ìƒì„±
# @TEST:UPLOAD-003 | SPEC: .moai/specs/SPEC-UPLOAD-003/spec.md

describe('File Upload Service', () => {
  // í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±
})
```

**Case 2: CODE ëˆ„ë½**:
```
@SPEC:PAYMENT-002 â†’ @TEST:PAYMENT-002 (CODE ì—†ìŒ)
```

**ê¶Œì¥ ì¡°ì¹˜**:
```bash
# src/payment/gateway.ts ìƒì„±
# @CODE:PAYMENT-002 | SPEC: .moai/specs/SPEC-PAYMENT-002/spec.md | TEST: tests/payment/gateway.test.ts

export class PaymentGateway {
  // êµ¬í˜„
}
```

**Case 3: TESTì™€ CODE ëª¨ë‘ ëˆ„ë½**:
```
@SPEC:REFUND-005 (TEST/CODE ì—†ìŒ)
```

**ê¶Œì¥ ì¡°ì¹˜**:
```bash
# 1. TDD êµ¬í˜„ ì‹œì‘
/alfred:2-build REFUND-005
```

### ê³ ì•„ TAG (Orphan TAG) âŒ

**ì •ì˜**: SPEC ì—†ì´ CODE ë˜ëŠ” TESTë§Œ ì¡´ì¬í•˜ëŠ” TAG

**Case 1: SPEC ì—†ëŠ” CODE**:
```
@CODE:REFACTOR-010 (SPEC ì—†ìŒ)
```

**ê¶Œì¥ ì¡°ì¹˜**:

**Option 1: SPEC ìƒì„±**:
```bash
/alfred:1-spec "REFACTOR-010: ì½”ë“œ ë¦¬íŒ©í† ë§"
```

**Option 2: TAG ì œê±°**:
```bash
# src/utils/formatter.tsì—ì„œ @CODE:REFACTOR-010 ì£¼ì„ ì œê±°
```

**Case 2: SPEC ì—†ëŠ” TEST**:
```
@TEST:BUGFIX-005 (SPEC ì—†ìŒ)
```

**ê¶Œì¥ ì¡°ì¹˜**:
```bash
# SPEC ìƒì„± (ë²„ê·¸ ìˆ˜ì •ë„ SPEC-First)
/alfred:1-spec "BUGFIX-005: ë¡œê·¸ì¸ ë²„ê·¸ ìˆ˜ì •"
```

### ì¤‘ë³µ TAG âš ï¸

**ì •ì˜**: ë™ì¼í•œ TAG IDê°€ ì—¬ëŸ¬ ê³³ì— ì¡´ì¬

**ê²€ì¦ ë°©ë²•**:
```bash
# ì¤‘ë³µ TAG íƒì§€
rg '@SPEC:AUTH-001' -c .moai/specs/ | awk '$1 > 1 {print "Duplicate: " FILENAME}'
```

**ê¶Œì¥ ì¡°ì¹˜**:
- ì¤‘ë³µ TAG ì¤‘ í•˜ë‚˜ ì œê±°
- ë‹¤ë¥¸ ë„ë©”ì¸/IDë¡œ ë¶„ë¦¬ (ì˜ˆ: AUTH-001 â†’ AUTH-001A, AUTH-001B)

### TAG ê²€ì¦ ëª…ë ¹ì–´

**ì „ì²´ TAG ìŠ¤ìº”**:
```bash
# ëª¨ë“  TAG ìŠ¤ìº”
rg '@(SPEC|TEST|CODE|DOC):' -n .moai/specs/ tests/ src/ docs/
```

**íŠ¹ì • ë„ë©”ì¸ TAG ì¡°íšŒ**:
```bash
# AUTH ë„ë©”ì¸ TAG ì¡°íšŒ
rg '@SPEC:AUTH' -n .moai/specs/
rg '@TEST:AUTH' -n tests/
rg '@CODE:AUTH' -n src/
```

**íŠ¹ì • TAG ì²´ì¸ ì¶”ì **:
```bash
# AUTH-001 TAG ì²´ì¸ ì¶”ì 
rg '@SPEC:AUTH-001' -n .moai/specs/
rg '@TEST:AUTH-001' -n tests/
rg '@CODE:AUTH-001' -n src/
rg '@DOC:AUTH-001' -n docs/
```

**ê³ ì•„ TAG ìë™ íƒì§€ ìŠ¤í¬ë¦½íŠ¸**:
```bash
#!/bin/bash
# detect-orphan-tags.sh

echo "ğŸ” ê³ ì•„ TAG íƒì§€ ì¤‘..."

# CODE ê³ ì•„ TAG
for tag in $(rg '@CODE:([A-Z]+-[0-9]+)' -o -r '$1' -h src/ | sort -u); do
  if ! rg -q "@SPEC:$tag" .moai/specs/; then
    echo "âŒ ê³ ì•„ TAG: @CODE:$tag (SPEC ì—†ìŒ)"
  fi
done

# TEST ê³ ì•„ TAG
for tag in $(rg '@TEST:([A-Z]+-[0-9]+)' -o -r '$1' -h tests/ | sort -u); do
  if ! rg -q "@SPEC:$tag" .moai/specs/; then
    echo "âŒ ê³ ì•„ TAG: @TEST:$tag (SPEC ì—†ìŒ)"
  fi
done

echo "âœ… ê³ ì•„ TAG íƒì§€ ì™„ë£Œ"
```

**ì‚¬ìš©ë²•**:
```bash
chmod +x detect-orphan-tags.sh
./detect-orphan-tags.sh
```

---

## ëª¨ë“œë³„ ì°¨ì´ì  (Personal vs Team)

### Personal Mode

**íŠ¹ì§•**: ë¡œì»¬ Git ì›Œí¬í”Œë¡œìš°, PR ì—†ìŒ

**ì‹¤í–‰**:
```bash
/alfred:3-sync
```

**ìˆ˜í–‰ ì‘ì—…**:
1. TAG ì²´ì¸ ê²€ì¦
2. TRUST ê²€ì¦
3. Living Document ìƒì„±
4. ë¡œì»¬ ë¨¸ì§€ (develop/mainìœ¼ë¡œ)
5. ë¸Œëœì¹˜ ì •ë¦¬ (ì„ íƒ)

**ì¥ì **:
- ë¹ ë¥¸ ê°œë°œ ì‚¬ì´í´
- PR ì˜¤ë²„í—¤ë“œ ì—†ìŒ
- ì†Œê·œëª¨ í”„ë¡œì íŠ¸/ê°œì¸ í”„ë¡œì íŠ¸ì— ì í•©

**ë‹¨ì **:
- ì½”ë“œ ë¦¬ë·° ì—†ìŒ
- CI/CD ê²€ì¦ ì—†ìŒ

### Team Mode

**íŠ¹ì§•**: GitHub PR ìë™í™”, CI/CD í†µí•©

**ì‹¤í–‰**:
```bash
# ê¸°ë³¸ ë™ê¸°í™” (Draft â†’ Ready)
/alfred:3-sync

# ìë™ ë¨¸ì§€ (CI/CD í†µê³¼ í›„)
/alfred:3-sync --auto-merge
```

**ìˆ˜í–‰ ì‘ì—…**:
1. TAG ì²´ì¸ ê²€ì¦
2. TRUST ê²€ì¦
3. Living Document ìƒì„±
4. **PR ìƒíƒœ Draft â†’ Ready** âœ¨
5. **CI/CD í™•ì¸** âœ¨ (--auto-merge ì‹œ)
6. **PR ìë™ ë¨¸ì§€ (squash)** âœ¨ (--auto-merge ì‹œ)
7. **develop ì²´í¬ì•„ì›ƒ** âœ¨ (--auto-merge ì‹œ)
8. ë‹¤ìŒ ì‘ì—… ì¤€ë¹„ ì™„ë£Œ âœ…

**ì¥ì **:
- ì½”ë“œ ë¦¬ë·° í”„ë¡œì„¸ìŠ¤
- CI/CD ìë™ ê²€ì¦
- íŒ€ í˜‘ì—…ì— ìµœì 
- ì™„ì „ ìë™í™”ëœ GitFlow

**ë‹¨ì **:
- PR ìƒì„±/ê´€ë¦¬ ì˜¤ë²„í—¤ë“œ
- CI/CD ì„¤ì • í•„ìš”

### ëª¨ë“œ ì„¤ì •

`.moai/config.json`:
```json
{
  "project": {
    "mode": "team"  // "personal" ë˜ëŠ” "team"
  }
}
```

---

## ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: TODO App - ìš°ì„ ìˆœìœ„ ê¸°ëŠ¥ ë™ê¸°í™”

**ìƒí™©**: TODO í•­ëª©ì— ìš°ì„ ìˆœìœ„ í•„ë“œë¥¼ ì¶”ê°€í•˜ëŠ” ê¸°ëŠ¥ì„ TDDë¡œ êµ¬í˜„ ì™„ë£Œ

#### Step 1: TDD êµ¬í˜„ ì™„ë£Œ í™•ì¸

```bash
# í˜„ì¬ ë¸Œëœì¹˜ í™•ì¸
$ git branch
* feature/SPEC-TODO-PRIORITY-001

# í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
$ bun test
âœ“ src/todo/model.test.ts (3 tests)

# ì»¤ë²„ë¦¬ì§€ í™•ì¸
$ bun test --coverage
Coverage: 95%
```

#### Step 2: ë™ê¸°í™” ì‹¤í–‰

```bash
$ /alfred:3-sync

ğŸ“‹ Phase 1: ë¶„ì„ ë° ê³„íš ìˆ˜ë¦½

Git ìƒíƒœ:
- ë¸Œëœì¹˜: feature/SPEC-TODO-PRIORITY-001
- ë³€ê²½ íŒŒì¼: 3ê°œ
  - .moai/specs/SPEC-TODO-PRIORITY-001/spec.md (ì‹ ê·œ)
  - tests/todo/model.test.ts (ì‹ ê·œ)
  - src/todo/model.ts (ìˆ˜ì •)

TAG ì²´ì¸ ìŠ¤ìº”:
- @SPEC:TODO-PRIORITY-001 (1ê°œ)
- @TEST:TODO-PRIORITY-001 (1ê°œ)
- @CODE:TODO-PRIORITY-001 (1ê°œ)

TAG ì²´ì¸ ê²€ì¦: âœ… ë¬´ê²°ì„± í™•ì¸ë¨

TRUST ê²€ì¦:
- âœ… Test: 95% coverage
- âœ… Readable: 0 lint issues
- âœ… Unified: TypeScript strict
- âœ… Secured: 0 vulnerabilities
- âœ… Trackable: TAG chain intact

TRUST ì ìˆ˜: 5/5 âœ…

ìƒì„± ì˜ˆì • ë¬¸ì„œ:
1. Sync Report: .moai/reports/sync-report-2025-10-11.md
2. Feature Doc: docs/features/todo/priority.md (ì„ íƒ)

ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì§„í–‰/ìˆ˜ì •/ì¤‘ë‹¨)
```

**ë‹µë³€**: `ì§„í–‰`

#### Step 3: Living Document ìƒì„±

Alfredê°€ ìë™ ìƒì„±:

1. **Sync Report**: `.moai/reports/sync-report-2025-10-11.md`
   - TAG ì²´ì¸ ìš”ì•½
   - í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
   - TRUST ì¤€ìˆ˜ í˜„í™©
   - í’ˆì§ˆ ë©”íŠ¸ë¦­

2. **Feature Doc**: `docs/features/todo/priority.md`
   - ìš°ì„ ìˆœìœ„ í•„ë“œ ì‚¬ìš©ë²•
   - API ë ˆí¼ëŸ°ìŠ¤
   - ë°ì´í„° ëª¨ë¸
   - í…ŒìŠ¤íŠ¸ ê²°ê³¼

#### Step 4: PR ìƒíƒœ ì—…ë°ì´íŠ¸ (Team ëª¨ë“œ)

```bash
# PR í™•ì¸
$ gh pr view 43

#43 [Draft] SPEC-TODO-PRIORITY-001: TODO ìš°ì„ ìˆœìœ„ í•„ë“œ ì¶”ê°€
  â³ Checks in progress

# Draft â†’ Ready ì „í™˜
$ gh pr ready

# ë¼ë²¨ ì¶”ê°€
$ gh pr edit --add-label "ready-for-review"
$ gh pr edit --add-label "trust-score-5"

# PR ìƒíƒœ ì¬í™•ì¸
$ gh pr view 43

#43 SPEC-TODO-PRIORITY-001: TODO ìš°ì„ ìˆœìœ„ í•„ë“œ ì¶”ê°€
  âœ… Ready for review
  âœ… All checks passed
```

#### Step 5: ìë™ ë¨¸ì§€ (--auto-merge ì˜µì…˜)

```bash
$ /alfred:3-sync --auto-merge

ğŸ“‹ CI/CD í™•ì¸ ì¤‘...

âœ“ Test (Node 18.x)
âœ“ Test (Node 20.x)
âœ“ Lint
âœ“ Type Check
âœ“ Security Scan
âœ“ Coverage

All checks passed âœ…

ğŸ“‹ PR ìë™ ë¨¸ì§€ ì¤‘...

$ gh pr merge --squash --delete-branch

âœ… Merged pull request #43
âœ… Deleted branch feature/SPEC-TODO-PRIORITY-001

ğŸ“‹ develop ë¸Œëœì¹˜ë¡œ ì „í™˜ ì¤‘...

$ git checkout develop
$ git pull origin develop

âœ… ë™ê¸°í™” & ë¨¸ì§€ ì™„ë£Œ!
ë‹¤ìŒ ì‘ì—… ì¤€ë¹„ ì™„ë£Œ!
```

#### Step 6: ìµœì¢… í™•ì¸

```bash
# Sync Report í™•ì¸
$ cat .moai/reports/sync-report-2025-10-11.md

# TAG ì²´ì¸ í™•ì¸
$ rg '@(SPEC|TEST|CODE):TODO-PRIORITY-001' -n

.moai/specs/SPEC-TODO-PRIORITY-001/spec.md:7:# @SPEC:TODO-PRIORITY-001
tests/todo/model.test.ts:2:// @TEST:TODO-PRIORITY-001
src/todo/model.ts:1:// @CODE:TODO-PRIORITY-001

âœ… TAG ì²´ì¸ ë¬´ê²°ì„± í™•ì¸ë¨
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: E-commerce - ê²°ì œ ê¸°ëŠ¥ TAG ì²´ì¸ ë³µêµ¬

**ìƒí™©**: SPEC-PAYMENT-001ì€ ìˆëŠ”ë° TESTê°€ ëˆ„ë½ë¨ (ë¶ˆì™„ì „í•œ TAG ì²´ì¸)

#### Step 1: ë¬¸ì œ ë°œê²¬

```bash
$ /alfred:3-sync

âš ï¸  ë¶ˆì™„ì „í•œ TAG ì²´ì¸ ë°œê²¬

SPEC-PAYMENT-001: ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì—°ë™
- âœ… SPEC: .moai/specs/SPEC-PAYMENT-001/spec.md
- âŒ TEST: not found
- âœ… CODE: src/payment/gateway.ts

ê¶Œì¥ ì¡°ì¹˜: tests/payment/gateway.test.ts ì‘ì„± í•„ìš”

ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì§„í–‰/ìˆ˜ì •/ì¤‘ë‹¨)
```

**ë‹µë³€**: `ì¤‘ë‹¨`

#### Step 2: ëˆ„ë½ëœ TEST ì‘ì„±

```typescript
// tests/payment/gateway.test.ts
// @TEST:PAYMENT-001 | SPEC: .moai/specs/SPEC-PAYMENT-001/spec.md

import { describe, it, expect } from 'vitest'
import { PaymentGateway } from '@/payment/gateway'

describe('PaymentGateway', () => {
  it('should process payment successfully', async () => {
    // í…ŒìŠ¤íŠ¸ êµ¬í˜„
  })

  it('should handle payment failure', async () => {
    // í…ŒìŠ¤íŠ¸ êµ¬í˜„
  })
})
```

#### Step 3: TAG ì²´ì¸ ì¬ê²€ì¦

```bash
$ /alfred:3-sync --check

âœ… TAG ì²´ì¸ ê²€ì¦ ì™„ë£Œ

SPEC-PAYMENT-001: ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì—°ë™
- âœ… SPEC: .moai/specs/SPEC-PAYMENT-001/spec.md
- âœ… TEST: tests/payment/gateway.test.ts
- âœ… CODE: src/payment/gateway.ts

TAG ì²´ì¸ ë¬´ê²°ì„± í™•ì¸ë¨ âœ…

ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì§„í–‰/ìˆ˜ì •/ì¤‘ë‹¨)
```

**ë‹µë³€**: `ì§„í–‰`

#### Step 4: ë™ê¸°í™” ì™„ë£Œ

Alfredê°€ Sync Report ë° Living Document ìƒì„±

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: Mobile App - ê³ ì•„ TAG ì •ë¦¬

**ìƒí™©**: SPEC ì—†ëŠ” CODE TAG ë°œê²¬ (@CODE:REFACTOR-010)

#### Step 1: ê³ ì•„ TAG ë°œê²¬

```bash
$ /alfred:3-sync

âŒ ê³ ì•„ TAG ë°œê²¬

@CODE:REFACTOR-010
- Location: src/utils/formatter.ts:1
- Issue: SPEC ì—†ìŒ

ê¶Œì¥ ì¡°ì¹˜:
1. SPEC ìƒì„±: /alfred:1-spec "REFACTOR-010: í¬ë§·í„° ê°œì„ "
2. TAG ì œê±°: src/utils/formatter.ts:1ì˜ TAG ì£¼ì„ ì œê±°

ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì§„í–‰/ìˆ˜ì •/ì¤‘ë‹¨)
```

**ë‹µë³€**: `ì¤‘ë‹¨`

#### Step 2: SPEC ìƒì„± ê²°ì •

**Option 1: SPEC ìƒì„± (ë¦¬íŒ©í† ë§ì´ ì¤‘ìš”í•œ ê²½ìš°)**:
```bash
$ /alfred:1-spec "REFACTOR-010: ë‚ ì§œ í¬ë§·í„° ì„±ëŠ¥ ê°œì„ "

# SPEC ì‘ì„± í›„ TAG ì²´ì¸ ì™„ì„±
```

**Option 2: TAG ì œê±° (ì‚¬ì†Œí•œ ë¦¬íŒ©í† ë§ì¸ ê²½ìš°)**:
```typescript
// src/utils/formatter.ts
// Before:
// @CODE:REFACTOR-010 | SPEC: ???

// After:
// (TAG ì£¼ì„ ì œê±°)

export function formatDate(date: Date): string {
  // êµ¬í˜„
}
```

#### Step 3: TAG ì²´ì¸ ì¬ê²€ì¦

```bash
$ /alfred:3-sync --check

âœ… TAG ì²´ì¸ ê²€ì¦ ì™„ë£Œ

ê³ ì•„ TAG: ì—†ìŒ

ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì§„í–‰/ìˆ˜ì •/ì¤‘ë‹¨)
```

**ë‹µë³€**: `ì§„í–‰`

---

## Best Practices (ëª¨ë²” ì‚¬ë¡€)

### 1. Sync Early, Sync Often

âœ… **ê¶Œì¥ì‚¬í•­**:
```bash
# ë§¤ SPEC êµ¬í˜„ í›„ ì¦‰ì‹œ ë™ê¸°í™”
/alfred:2-build AUTH-001
/alfred:3-sync  # ë°”ë¡œ ì‹¤í–‰

# ì‘ì€ ë‹¨ìœ„ë¡œ ìì£¼ ë™ê¸°í™”
```

âŒ **í”¼í•´ì•¼ í•  ê²ƒ**:
```bash
# ì—¬ëŸ¬ SPECì„ ëˆ„ì í•˜ì§€ ì•Šê¸°
/alfred:2-build AUTH-001 AUTH-002 AUTH-003
/alfred:3-sync  # í•œ ë²ˆì— ë™ê¸°í™” (ë¹„ê¶Œì¥)
```

**ì´ìœ **:
- ë¬¸ì œ ë°œê²¬ ì‹œ ì¦‰ì‹œ ìˆ˜ì • ê°€ëŠ¥
- TAG ì²´ì¸ ëŠê¹€ ë°©ì§€
- Sync Report ê°€ë…ì„± í–¥ìƒ

### 2. Fix Broken Chains Immediately

âœ… **ê¶Œì¥ì‚¬í•­**:
```bash
# TAG ì²´ì¸ì´ ëŠì–´ì§€ë©´ ì¦‰ì‹œ ìˆ˜ì •
/alfred:3-sync --check  # ë¬¸ì œ í™•ì¸
# ë¬¸ì œ í•´ê²° (TEST ë˜ëŠ” CODE ì¶”ê°€)
/alfred:3-sync  # ì¬ê²€ì¦
```

âŒ **í”¼í•´ì•¼ í•  ê²ƒ**:
- ëŠì–´ì§„ TAG ì²´ì¸ì„ ê·¸ëŒ€ë¡œ ë‘ê³  PR ë¨¸ì§€
- ê³ ì•„ TAGë¥¼ ë°©ì¹˜
- "ë‚˜ì¤‘ì— ìˆ˜ì •í•˜ê² ë‹¤"ëŠ” TODO ì£¼ì„ë§Œ ë‚¨ê¸°ê¸°

**ì´ìœ **:
- ì¶”ì ì„± ë¬´ê²°ì„± ìœ ì§€
- ê¸°ìˆ  ë¶€ì±„ ë°©ì§€
- íŒ€ì› í˜¼ë€ ë°©ì§€

### 3. Review Sync Reports

âœ… **ê¶Œì¥ì‚¬í•­**:
```bash
# Sync Report í™•ì¸
cat .moai/reports/sync-report-2025-10-11.md

# ë¬¸ì œê°€ ìˆìœ¼ë©´ ìˆ˜ì • í›„ ì¬ë™ê¸°í™”
/alfred:3-sync
```

âŒ **í”¼í•´ì•¼ í•  ê²ƒ**:
- Sync Reportë¥¼ ì½ì§€ ì•Šê³  ë°”ë¡œ ë¨¸ì§€
- ê²½ê³  ë©”ì‹œì§€ ë¬´ì‹œ
- TRUST ì ìˆ˜ë§Œ í™•ì¸í•˜ê³  ì„¸ë¶€ì‚¬í•­ ë¬´ì‹œ

**ì´ìœ **:
- ì ì¬ì  ë¬¸ì œ ì¡°ê¸° ë°œê²¬
- í’ˆì§ˆ ë©”íŠ¸ë¦­ ì¶”ì 
- ê°œì„  ê¸°íšŒ íŒŒì•…

### 4. Use Auto-merge Carefully

âœ… **ê¶Œì¥ì‚¬í•­** (Team ëª¨ë“œ):
```bash
# CI/CD ì„¤ì •ì´ ì™„ë²½í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©
/alfred:3-sync --auto-merge

# ì¤‘ìš”í•œ ë³€ê²½ì‚¬í•­ì€ ìˆ˜ë™ ë¦¬ë·° í›„ ë¨¸ì§€
/alfred:3-sync  # auto-merge ì—†ì´
# ì½”ë“œ ë¦¬ë·° í›„
gh pr merge --squash  # ìˆ˜ë™ ë¨¸ì§€
```

âŒ **í”¼í•´ì•¼ í•  ê²ƒ**:
- CI/CD ì„¤ì • ì—†ì´ --auto-merge ì‚¬ìš©
- ëª¨ë“  PRì„ ìë™ ë¨¸ì§€
- ì¤‘ìš”í•œ ë³´ì•ˆ íŒ¨ì¹˜ë¥¼ ë¦¬ë·° ì—†ì´ ìë™ ë¨¸ì§€

**ì´ìœ **:
- ì½”ë“œ í’ˆì§ˆ ìœ ì§€
- íŒ€ ë¦¬ë·° ë¬¸í™” ìœ ì§€
- ì¤‘ìš”í•œ ë³€ê²½ì‚¬í•­ì€ ì¸ê°„ ê²€ì¦ í•„ìš”

### 5. Keep Living Documents Updated

âœ… **ê¶Œì¥ì‚¬í•­**:
```bash
# TAG ì£¼ì„ ì¼ê´€ì„± ìœ ì§€
# @CODE:AUTH-001 | SPEC: .moai/specs/SPEC-AUTH-001/spec.md | TEST: tests/auth/service.test.ts

# SPEC ë²„ì „ ì—…ë°ì´íŠ¸ ì‹œ Living Document ì¬ìƒì„±
/alfred:3-sync
```

âŒ **í”¼í•´ì•¼ í•  ê²ƒ**:
- TAG ì£¼ì„ í˜•ì‹ ë³€ê²½
- ìˆ˜ë™ìœ¼ë¡œ Feature Doc í¸ì§‘ (ìë™ ìƒì„±ëœ ë¶€ë¶„)
- Sync Report ìˆ˜ë™ ìˆ˜ì •

**ì´ìœ **:
- TAG íŒŒì‹± ì¼ê´€ì„± ìœ ì§€
- Living Document ì‹ ë¢°ì„± ìœ ì§€
- ìë™í™” ì´ì  í™œìš©

---

## Common Pitfalls (í”í•œ ì‹¤ìˆ˜)

### âŒ Pitfall 1: TAG ì²´ì¸ ê²€ì¦ ì—†ì´ ë¨¸ì§€

**ì˜ëª»ëœ ì˜ˆ**:
```bash
# TAG ì²´ì¸ í™•ì¸ ì—†ì´ ë°”ë¡œ ë¨¸ì§€
git add .
git commit -m "feature complete"
git push
gh pr merge
```

**ì˜¬ë°”ë¥¸ ì˜ˆ**:
```bash
# TAG ì²´ì¸ ê²€ì¦ í›„ ë¨¸ì§€
/alfred:3-sync --check  # ë¨¼ì € ê²€ì¦
# ë¬¸ì œ ìˆ˜ì •
/alfred:3-sync  # ë™ê¸°í™”
# ì´í›„ ë¨¸ì§€
```

**ê²°ê³¼**:
- âŒ ì˜ëª»ëœ ì˜ˆ: ì¶”ì ì„± ë¬´ê²°ì„± ê¹¨ì§, ë‚˜ì¤‘ì— ê³ ì•„ TAG ë°œìƒ
- âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: ì™„ë²½í•œ TAG ì²´ì¸ ìœ ì§€, ì¶”ì ì„± ë³´ì¥

---

### âŒ Pitfall 2: ë¶ˆì™„ì „í•œ TRUST ê²€ì¦

**ì˜ëª»ëœ ì˜ˆ**:
```bash
# í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 60%ë¡œ ë¨¸ì§€
$ pytest --cov
Coverage: 60%

$ gh pr merge  # ê·¸ëƒ¥ ë¨¸ì§€ (ë¹„ê¶Œì¥)
```

**ì˜¬ë°”ë¥¸ ì˜ˆ**:
```bash
# ì»¤ë²„ë¦¬ì§€ ì¶©ì¡± í™•ì¸
$ pytest --cov
Coverage: 60%  # 85% ë¯¸ë§Œ

# í…ŒìŠ¤íŠ¸ ì¶”ê°€
# (ëˆ„ë½ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±)

# ì»¤ë²„ë¦¬ì§€ ì¬í™•ì¸
$ pytest --cov
Coverage: 88%  # âœ…

# ì´í›„ ë™ê¸°í™”
/alfred:3-sync
```

**ê²°ê³¼**:
- âŒ ì˜ëª»ëœ ì˜ˆ: í’ˆì§ˆ ê¸°ì¤€ ë¯¸ë‹¬, ê¸°ìˆ  ë¶€ì±„ ëˆ„ì 
- âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: í’ˆì§ˆ ê¸°ì¤€ ì¶©ì¡±, ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

---

### âŒ Pitfall 3: Sync Report ë¬´ì‹œ

**ì˜ëª»ëœ ì˜ˆ**:
```bash
/alfred:3-sync
# Sync Report ì•ˆ ì½ê³  ë°”ë¡œ ë¨¸ì§€
```

**ì˜¬ë°”ë¥¸ ì˜ˆ**:
```bash
/alfred:3-sync
# Sync Report í™•ì¸
cat .moai/reports/sync-report-*.md
# ë¬¸ì œ í™•ì¸ í›„ ë¨¸ì§€ ê²°ì •
```

**ê²°ê³¼**:
- âŒ ì˜ëª»ëœ ì˜ˆ: ì ì¬ì  ë¬¸ì œ ë†“ì¹¨, í’ˆì§ˆ ë©”íŠ¸ë¦­ ë¬´ì‹œ
- âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: ë¬¸ì œ ì¡°ê¸° ë°œê²¬, í’ˆì§ˆ ê°œì„  ê¸°íšŒ í™•ë³´

---

### âŒ Pitfall 4: ì—¬ëŸ¬ SPECì„ í•œ ë²ˆì— ë™ê¸°í™”

**ì˜ëª»ëœ ì˜ˆ**:
```bash
# 3ê°œ SPECì„ êµ¬í˜„ í›„ í•œ ë²ˆì— ë™ê¸°í™”
/alfred:2-build AUTH-001 AUTH-002 AUTH-003
/alfred:3-sync
```

**ì˜¬ë°”ë¥¸ ì˜ˆ**:
```bash
# 1ê°œ SPECì”© ë™ê¸°í™”
/alfred:2-build AUTH-001
/alfred:3-sync

/alfred:2-build AUTH-002
/alfred:3-sync

/alfred:2-build AUTH-003
/alfred:3-sync
```

**ê²°ê³¼**:
- âŒ ì˜ëª»ëœ ì˜ˆ: Sync Report ë³µì¡, ë¬¸ì œ ë°œê²¬ ì–´ë ¤ì›€
- âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: ëª…í™•í•œ Sync Report, ë¬¸ì œ ì¦‰ì‹œ ìˆ˜ì •

---

### âŒ Pitfall 5: Personal ëª¨ë“œì—ì„œ --auto-merge ì‚¬ìš©

**ì˜ëª»ëœ ì˜ˆ**:
```bash
# Personal ëª¨ë“œì—ì„œ --auto-merge
/alfred:3-sync --auto-merge
```

**ì˜¬ë°”ë¥¸ ì˜ˆ**:
```bash
# Personal ëª¨ë“œì—ì„œëŠ” --auto-merge ë¶ˆí•„ìš”
/alfred:3-sync
```

**ê²°ê³¼**:
- âŒ ì˜ëª»ëœ ì˜ˆ: ì˜µì…˜ ë¬´ì‹œë¨ (PRì´ ì—†ìœ¼ë¯€ë¡œ)
- âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: ë¡œì»¬ ë¨¸ì§€ë§Œ ìˆ˜í–‰

---

## Troubleshooting (ë¬¸ì œ í•´ê²°)

### Issue 1: TAG ì²´ì¸ ëŠê¹€

**ì¦ìƒ**:
```bash
$ /alfred:3-sync

âš ï¸ ë¶ˆì™„ì „í•œ TAG ì²´ì¸ ë°œê²¬
- SPEC-UPLOAD-003: SPEC â†’ CODE (TEST ëˆ„ë½)
```

**ì›ì¸**:
- TDD ì‚¬ì´í´ì„ ê±´ë„ˆë›°ê³  CODEë§Œ ì‘ì„±
- TEST íŒŒì¼ì„ ì‚­ì œí–ˆì§€ë§Œ TAGëŠ” ë‚¨ì•„ìˆìŒ

**í•´ê²°**:
```bash
# 1. ëˆ„ë½ëœ TEST ì‘ì„±
# tests/upload/service.test.ts
// @TEST:UPLOAD-003 | SPEC: .moai/specs/SPEC-UPLOAD-003/spec.md

describe('File Upload Service', () => {
  // í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±
})

# 2. TAG ì²´ì¸ ì¬ê²€ì¦
/alfred:3-sync --check

# 3. ë™ê¸°í™” ì¬ì‹¤í–‰
/alfred:3-sync
```

---

### Issue 2: ê³ ì•„ TAG ë°œê²¬

**ì¦ìƒ**:
```bash
$ /alfred:3-sync

âŒ ê³ ì•„ TAG ë°œê²¬
- @CODE:REFACTOR-010 (SPEC ì—†ìŒ)
```

**ì›ì¸**:
- SPEC ì—†ì´ CODEë¥¼ ì‘ì„±
- SPEC íŒŒì¼ì„ ì‚­ì œí–ˆì§€ë§Œ CODEì˜ TAGëŠ” ë‚¨ì•„ìˆìŒ

**í•´ê²°**:

**Option 1: SPEC ìƒì„±**:
```bash
/alfred:1-spec "REFACTOR-010: ê¸°ì¡´ ì½”ë“œ ë¦¬íŒ©í† ë§"
```

**Option 2: TAG ì œê±°**:
```bash
# src/some-file.tsì—ì„œ @CODE:REFACTOR-010 ì£¼ì„ ì œê±°
```

**ì„ íƒ ê¸°ì¤€**:
- ì¤‘ìš”í•œ ë³€ê²½ì‚¬í•­ â†’ SPEC ìƒì„±
- ì‚¬ì†Œí•œ ë¦¬íŒ©í† ë§ â†’ TAG ì œê±°

---

### Issue 3: TRUST ê²€ì¦ ì‹¤íŒ¨

**ì¦ìƒ**:
```bash
$ /alfred:3-sync

âŒ TRUST ê²€ì¦ ì‹¤íŒ¨
- Test: ì»¤ë²„ë¦¬ì§€ 72% (ëª©í‘œ 85%)
- Readable: ë¦°í„° ì˜¤ë¥˜ 5ê°œ
```

**ì›ì¸**:
- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ëˆ„ë½
- ë¦°í„° ê·œì¹™ ìœ„ë°˜

**í•´ê²°**:
```bash
# 1. í…ŒìŠ¤íŠ¸ ì¶”ê°€ (ì»¤ë²„ë¦¬ì§€ í–¥ìƒ)
# tests/ì— ëˆ„ë½ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€

# 2. ë¦°í„° ì˜¤ë¥˜ ìˆ˜ì •
biome check src/ --apply

# 3. ì¬ê²€ì¦
/alfred:3-sync --check

# 4. ë™ê¸°í™” ì¬ì‹¤í–‰
/alfred:3-sync
```

---

### Issue 4: CI/CD ì‹¤íŒ¨ (Team ëª¨ë“œ)

**ì¦ìƒ**:
```bash
$ /alfred:3-sync --auto-merge

âŒ CI/CD ê²€ì¦ ì‹¤íŒ¨
- âœ— Test (Node 18.x): Failed
- âœ“ Lint: Passed
```

**ì›ì¸**:
- íŠ¹ì • Node ë²„ì „ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨
- í™˜ê²½ ë³€ìˆ˜ ëˆ„ë½
- ì˜ì¡´ì„± ë²„ì „ ë¶ˆì¼ì¹˜

**í•´ê²°**:
```bash
# 1. ë¡œì»¬ì—ì„œ í•´ë‹¹ Node ë²„ì „ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
nvm use 18
bun test

# 2. ë¬¸ì œ ìˆ˜ì •

# 3. ì»¤ë°‹ ë° í‘¸ì‹œ
git add .
git commit -m "fix: Node 18 í˜¸í™˜ì„± ë¬¸ì œ ìˆ˜ì •"
git push

# 4. CI/CD ì¬í™•ì¸
gh pr checks --watch

# 5. ë™ê¸°í™” ì¬ì‹¤í–‰
/alfred:3-sync --auto-merge
```

---

### Issue 5: Feature Document ìƒì„± ì‹¤íŒ¨

**ì¦ìƒ**:
```bash
$ /alfred:3-sync

âš ï¸ Feature Document ìƒì„± ì‹¤íŒ¨
- docs/features/auth/jwt-authentication.md: ê¶Œí•œ ê±°ë¶€
```

**ì›ì¸**:
- docs/ ë””ë ‰í† ë¦¬ ê¶Œí•œ ë¬¸ì œ
- íŒŒì¼ ì‹œìŠ¤í…œ ì“°ê¸° ê¶Œí•œ ì—†ìŒ

**í•´ê²°**:
```bash
# 1. ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
ls -la docs/features/

# 2. ê¶Œí•œ ìˆ˜ì •
chmod -R 755 docs/

# 3. ë™ê¸°í™” ì¬ì‹¤í–‰
/alfred:3-sync
```

---

### Issue 6: PR ìƒíƒœ ì „í™˜ ì‹¤íŒ¨ (Team ëª¨ë“œ)

**ì¦ìƒ**:
```bash
$ /alfred:3-sync

âŒ PR ìƒíƒœ ì „í™˜ ì‹¤íŒ¨
- gh pr ready: PR not found
```

**ì›ì¸**:
- PRì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
- GitHub CLI ì¸ì¦ ë¬¸ì œ

**í•´ê²°**:
```bash
# 1. PR ì¡´ì¬ ì—¬ë¶€ í™•ì¸
gh pr list

# 2. GitHub CLI ì¸ì¦ í™•ì¸
gh auth status

# 3. ì¸ì¦ ì¬ì„¤ì • (í•„ìš” ì‹œ)
gh auth login

# 4. ë™ê¸°í™” ì¬ì‹¤í–‰
/alfred:3-sync
```

---

## ê´€ë ¨ ë¬¸ì„œ

### ì›Œí¬í”Œë¡œìš° ê°€ì´ë“œ

- **[Stage 1: SPEC Writing](/guides/workflow/1-spec)** - SPEC ì‘ì„± ê°€ì´ë“œ
- **[Stage 2: TDD Implementation](/guides/workflow/2-build)** - TDD êµ¬í˜„ ê°€ì´ë“œ

### ê°œë… ê°€ì´ë“œ

- **[TAG System](/guides/concepts/tag-system)** - TAG ì‹œìŠ¤í…œ ìƒì„¸
- **[TRUST Principles](/guides/concepts/trust-principles)** - í’ˆì§ˆ ì›ì¹™ ìƒì„¸
- **[SPEC-First TDD](/guides/concepts/spec-first-tdd)** - ê°œë°œ ë°©ë²•ë¡ 

### ì—ì´ì „íŠ¸ ê°€ì´ë“œ

- **[Alfred Agent Ecosystem](/guides/agents/overview)** - ì—ì´ì „íŠ¸ ìƒíƒœê³„ ê°œìš”
- **[spec-builder](/guides/agents/spec-builder)** - SPEC ì‘ì„± ì—ì´ì „íŠ¸
- **[code-builder](/guides/agents/code-builder)** - TDD êµ¬í˜„ ì—ì´ì „íŠ¸

---

## ë§ˆë¬´ë¦¬

### doc-syncerì˜ í•µì‹¬ ê°€ì¹˜

1. **Living Document ìë™í™”**
   - ì½”ë“œ ë³€ê²½ ì¦‰ì‹œ ë¬¸ì„œ ë™ê¸°í™”
   - ìˆ˜ë™ ë¬¸ì„œ ì‘ì„± ë¶€ë‹´ ì œë¡œ
   - í•­ìƒ ìµœì‹ , í•­ìƒ ì •í™•

2. **ì™„ë²½í•œ ì¶”ì ì„±**
   - TAG ì²´ì¸ ë¬´ê²°ì„± ë³´ì¥
   - ê³ ì•„ TAG ìë™ íƒì§€
   - SPEC â†’ TEST â†’ CODE â†’ DOC ì™„ì „í•œ ì—°ê²°

3. **í’ˆì§ˆ ìë™ ê²€ì¦**
   - TRUST 5ì›ì¹™ ìë™ ê²€ì¦
   - ì½”ë“œ í’ˆì§ˆ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
   - ë¬¸ì œ ë°œê²¬ ì¦‰ì‹œ ì•Œë¦¼

4. **GitFlow ì™„ì „ ìë™í™”**
   - Draft â†’ Ready ìë™ ì „í™˜
   - CI/CD í™•ì¸ ë° ìë™ ë¨¸ì§€
   - ë‹¤ìŒ ì‘ì—… ì¦‰ì‹œ ì¤€ë¹„

### ë‹¤ìŒ ë‹¨ê³„

ë¬¸ì„œ ë™ê¸°í™”ê°€ ì™„ë£Œë˜ë©´:

1. **ë‹¤ìŒ SPEC ì‘ì„±**: `/alfred:1-spec "ìƒˆ ê¸°ëŠ¥"`
2. **SPEC-First TDD ë°˜ë³µ**: 1-spec â†’ 2-build â†’ 3-sync
3. **í”„ë¡œì íŠ¸ ë¦´ë¦¬ìŠ¤**: ì—¬ëŸ¬ SPEC ì™„ë£Œ í›„ ë²„ì „ íƒœê·¸

---

<div style="text-align: center; margin-top: 40px;">
  <p><strong>"ì¶”ì ì„± ì—†ì´ëŠ” ì™„ì„± ì—†ìŒ"</strong> ğŸ“–</p>
  <p>Living Documentë¡œ ì™„ë²½í•œ ì¶”ì ì„±ì„ ìœ ì§€í•˜ì„¸ìš”!</p>
  <p><em>doc-syncerê°€ ë‹¹ì‹ ì˜ ë¬¸ì„œë¥¼ ì‚´ì•„ìˆê²Œ í•©ë‹ˆë‹¤.</em></p>
</div>
