---
title: "Alfred 리소스 탐색
date: 2025-10-30
description: "명령어, 서브 에이전트, Skills, Hooks, Output Style을 한 번에 정리한 Alfred SuperAgent 안내서
type: post
tag:
  - Alfred
  - Reference
---
"
Alfred SuperAgent는 `.claude/` 디렉터리에 있는 명령어, 서브 에이전트, Skills, Hooks, Output Style을 조합해 Plan → Run → Sync 워크플로우를 수행합니다. 각 리소스는 YAML/Markdown 템플릿으로 정의되어 있으며 `moai-adk update` 실행 시 최신 버전으로 동기화됩니다.
"
## 핵심 구성요소
"
| 분류 | 위치 | 역할 |
| ---- | ---- | ---- |
| 명령어 | `.claude/commands/alfred/*.md` | `/alfred:*` 명령의 런북과 허용 도구 정의 |
| 서브 에이전트 | `.claude/agents/alfred/*.md` | 전문 역할(예: SPEC 작성, Git 관리)을 자동 수행 |
| Skills | `.claude/skills/*` | Alfred와 에이전트가 참조하는 지식 베이스 |
| Hooks | `.claude/hooks/alfred/*.py` | Claude Code 이벤트 기반 가드레일 및 자동화 |
| Output Styles | `.claude/output-styles/alfred/*.md` | 보고서, 회고, 학습 등 응답 톤과 구성 |
"
## 업데이트 흐름
"
1. `moai-adk update` 실행 → 패키지 버전 확인
2. 템플릿 버전이 변하면 `.claude/` 리소스를 백업 후 최신 템플릿으로 병합
3. `.moai/config.json`의 `template_version`이 갱신되어 추후 비교에 활용
"
| 단계 | 트리거 | 수행 작업 | 결과 |
| ---- | ------ | -------- | ---- |
| 1 | `moai-adk update` 실행 | PyPI 버전 조회, 필요 시 패키지 업그레이드 | 최신 패키지 확보 |
| 2 | 템플릿 버전 불일치 | `.moai-backups/` 백업 생성 후 `.claude/`, `.moai/` 템플릿 병합 | 리소스 최신화 + 백업 |
| 3 | 업데이트 완료 | `template_version` 값 갱신, 상태 메시지 출력 | 이후 명령에서 버전 비교 용이 |
"
## Alfred 명령어
"
`.claude/commands/alfred/*.md` 파일은 각 `/alfred:*` 명령이 어떤 목적을 갖고 어떤 도구를 사용할 수 있는지 정의합니다. 명령을 실행하면 Alfred가 해당 런북을 따라 서브 에이전트와 Skills를 호출하고, Hooks가 안전장치를 제공합니다.
"
| 명령어 | 핵심 목적 | 주요 산출물 | 대표 서브 에이전트 |
| ------ | -------- | ----------- | ------------------- |
| `/alfred:0-project` | 프로젝트 초기화 | `.moai/` & `.claude/` 템플릿, CLAUDE.md | `project-manager`, `git-manager`, `cc-manager` |
| `/alfred:1-plan` | 요구사항 정제 & SPEC 작성 | EARS SPEC, Draft PR, 작업 브랜치 | `spec-builder`, `implementation-planner`, `git-manager` |
| `/alfred:2-run` | TDD 실행 및 구현 | 테스트/코드, 커밋, 품질 보고 | `implementation-planner`, `tdd-implementer`, `quality-gate` |
| `/alfred:3-sync` | 문서 & TAG 동기화 | README/보고서 업데이트, TAG 검증 | `doc-syncer`, `tag-agent`, `quality-gate` |
| `/alfred:9-feedback` | 회고 및 학습 | 회고 노트, TODO, Output Style 적용 | `doc-syncer`, `skill-factory` |
| `/alfred:release-new` | 릴리스 브랜치/노트 준비 | 버전 검증, 릴리스 노트 초안 | `git-manager`, `quality-gate`, `doc-syncer` |
"
### 명령어 활용 팁
"
- **명령 미기억 방지**: `/alfred:?` 입력 시 명령어 요약을 즉시 확인할 수 있습니다.
- **조건부 실행**: `--fast`, `--skip-sync` 등 옵션이 활성화된 경우 명령어 파일 상단 `argument-hint`와 설명에서 확인할 수 있습니다.
- **커스터마이징**: 프로젝트별로 명령어를 수정하고 싶다면 `.claude/commands/alfred/*.md`를 편집한 뒤 PR에 변경 이력을 남기세요.
"
## 서브 에이전트
"
`.claude/agents/alfred/*.md`는 Alfred가 상황에 따라 호출하는 전문 에이전트의 역할과 행동 지침을 정의합니다. 모든 에이전트는 명령어 지침을 우선시하는 계층 구조를 따릅니다.
"
### 핵심 에이전트
"
| 에이전트 | 역할/호출 조건 | 주요 책임 |
| -------- | --------------- | --------- |
| `project-manager` | `/alfred:0-project` | 프로젝트 구조 생성, `.moai/config.json` 초기화, 템플릿 버전 기록 |
| `spec-builder` | `/alfred:1-plan` | EARS SPEC 작성, 요구사항 정제, 사용자 수준에 따른 설명 조정 |
| `implementation-planner` | `/alfred:2-run` Phase 1 | SPEC 분석, 구현 전략/리스크/테스트 플랜 작성 |
| `tdd-implementer` | `/alfred:2-run` Phase 2 | RED → GREEN → REFACTOR 사이클 실행, 커밋 준비 |
| `quality-gate` | `/alfred:2-run` Phase 2.5, `/alfred:3-sync` | 테스트/린트/커버리지/보안 검사, TRUST 5 원칙 검증 |
| `doc-syncer` | `/alfred:3-sync` | README·CHANGELOG·보고서 업데이트, 문서 구조 검증 |
| `tag-agent` | `/alfred:3-sync`, TAG 점검 필요 시 | @SPEC/@TEST/@CODE/@DOC 체인 검증, 고아 TAG 탐지 |
| `git-manager` | 전 단계 공통 | 브랜치/PR/커밋 관리, 체크포인트 생성, 릴리스 준비 |
| `debug-helper` | 오류 발생 시 자동 호출 | 로그 분석, 원인 파악, 재현 시나리오 및 Fix 전략 제시 |
| `trust-checker` | TRUST 검증 필요 시 | 코드 품질, 보안 규칙, 테스트 커버리지 평가 |
| `cc-manager` | Claude 설정 변경 시 | 명령어/에이전트/Skill 템플릿 관리, 설정 최적화 |
| `skill-factory` | 신규 Skill 작성/업데이트 시 | Skill 생성 워크플로우 안내, 베스트 프랙티스 수집 |
"
### 전문 분야 에이전트
"
| 에이전트 | 주요 분야 | 트리거 키워드 |
| -------- | --------- | ------------- |
| `backend-expert` | API, 서버, 데이터베이스, 인증 | backend, api, server, database, authentication |
| `frontend-expert` | UI 컴포넌트, 상태 관리, 클라이언트 아키텍처 | frontend, ui, component, client-side, web |
| `ui-ux-expert` | 디자인 시스템, 접근성, UX 전략 | design, ux, accessibility, prototype, figma |
| `devops-expert` | CI/CD, 인프라, 컨테이너, 배포 | deployment, docker, kubernetes, pipeline, infrastructure |
"
> 전문 에이전트는 SPEC 키워드를 스캔하거나 사용자가 명시적으로 요청하면 자동으로 호출되며, 관련 Domain/Language Skills를 함께 로딩합니다.
"
## Skills 계층
"
Alfred와 서브 에이전트는 `.claude/skills/`에 정의된 Skills를 온디맨드로 로딩해 프로젝트 맥락, 언어 지식, 도메인 베스트 프랙티스를 확보합니다.
"
| Tier | 대표 파일/디렉터리 | 목적 |
| ---- | ------------------ | ---- |
| Foundation | `moai-foundation-*` | SPEC, TAG, TRUST, Git 등 모든 프로젝트에서 공통으로 필요한 원칙 |
| Essentials | `moai-essentials-*` | 리팩토링, 디버깅, 리뷰 등 TDD 실행에 필요한 필수 역량 |
| Domain | `moai-domain-*` | Backend, Frontend, DevOps, ML 등 문제 영역별 지식 |
| Language | `moai-lang-*` | Python, TypeScript, Go, Rust 등 언어별 스타일 가이드와 테스트 패턴 |
| Ops / CC | `moai-cc-*` | Claude Code 설정, MCP 플러그인, 명령어/Skill 메타 관리 |
| Alfred 전용 | `moai-alfred-*` | Alfred 워크플로우, SPEC 메타데이터, 인터랙티브 질문 등 운영 가이드 |
"
### 자주 사용하는 Skills
"
- **SPEC 품질**: `moai-alfred-spec-metadata-validation`, `moai-foundation-ears`, `moai-alfred-ears-authoring`
- **TDD**: `moai-essentials-refactor`, `moai-essentials-debug`, 언어별 `moai-lang-*`
- **TAG 추적**: `moai-alfred-tag-scanning`, `moai-foundation-tags`
- **Git & 릴리스**: `moai-foundation-git`, `moai-alfred-git-workflow`, `moai-cc-commands`
- **협업/교육**: `moai-alfred-reporting`, `moai-adk-learning`, `moai-alfred-persona-roles`
"
### Skill 편집 가이드
"
- Skills는 Markdown 기반이라 문서 수정으로 동작을 조정할 수 있습니다.
- 새로운 Skill을 만들려면 `skill-factory` 에이전트 또는 `/alfred:9-feedback` 후 TODO를 통해 등록하세요.
- 업데이트 후에는 `/alfred:3-sync`로 문서를 동기화하여 변경 내역이 보고서에 반영되도록 합니다.
"
> Skill 파일은 버전 관리 대상이므로, 팀별 커스터마이징 시 브랜치 전략과 백업(.moai-backups/)을 활용해 템플릿 갱신에 대비하세요.
"
## Claude Code Hooks
"
`.claude/hooks/alfred/` 디렉터리는 Claude Code의 이벤트 라이프사이클에 맞춰 실행되는 Python 스크립트입니다. 각 파일은 단일 이벤트에 대응하며, `handlers/`와 `shared/` 모듈을 통해 공통 로직을 재사용합니다.
"
| 파일 | 이벤트 | 목적 |
| ---- | ------ | ---- |
| `session_start__show_project_info.py` | `SessionStart` | 세션 시작 시 프로젝트 요약, 현재 브랜치, SPEC 진행률 안내 |
| `user_prompt__jit_load_docs.py` | `UserPromptSubmit` | 사용자 프롬프트를 분석해 관련 문서/Skill을 추가 컨텍스트로 추천 |
| `pre_tool__auto_checkpoint.py` | `PreToolUse` | 위험 명령 감지 시 Git checkpoint 생성 및 경고 메시지 출력 |
| `post_tool__log_changes.py` | `PostToolUse` | (향후) 변경 로그 기록과 메트릭 수집 준비 |
| `session_end__cleanup.py` | `SessionEnd` | 세션 종료 시 캐시 정리, 메트릭 저장 등 후처리 |
"
### Hook 공통 구조
"
- **타임아웃**: `utils.timeout.CrossPlatformTimeout`으로 5초 제한을 두어 실패 시에도 세션이 중단되지 않습니다.
- **JSON I/O**: Claude Code로부터 JSON payload를 받아 처리 후 `continue` 여부와 메시지를 반환합니다.
- **오류 허용**: 예외 발생 시에도 `continue: True` 를 반환해 개발 흐름이 중단되지 않도록 설계되어 있습니다.
"
## Output Styles
"
Alfred는 응답 형식을 `.claude/output-styles/alfred/*.md`에 정의된 Output Style에 맞춰 조정합니다. 회고, 학습, 보고 등 상황에 따라 Output Style을 선택하면 톤과 섹션 구성이 자동으로 최적화됩니다.
"
| 이름 | 목적 | 주요 특징 |
| ---- | ---- | -------- |
| `Agentic Coding` | 실무 개발 보고 | 9개 전문 에이전트 협업 요약, Fast/Collab 모드 전환 설명, TRUST 5 체크 |
| `MoAI ADK Learning` | MoAI-ADK 개념 학습 | SPEC-First, @TAG, TRUST 개념을 초보자 관점에서 설명, EARS 예제 제공 |
| `Study with Alfred` | 새로운 기술 학습 | What/Why/How/Practice 4단계 학습 흐름, 비유와 실습 과제를 포함 |
"
### 사용법
"
```text
/alfred:9-feedback output=moai-adk-learning
/alfred:1-plan output=agentic-coding
```
"
- 명령어 인자 또는 AskUserQuestion 선택지로 Output Style을 지정할 수 있습니다.
- Output Style은 Markdown 템플릿이므로 섹션 제목, 말투, 이모지 등을 프로젝트 스타일에 맞게 수정 가능합니다.
"
### 커스터마이징 팁
"
- 템플릿 상단 Front matter의 `name`, `description`을 수정하면 Claude Code 선택 목록에 자동 반영됩니다.
- 학습/보고 관점에서 강조하고 싶은 항목이 있다면 Markdown 섹션을 추가하거나 Callout 컴포넌트를 활용하세요.
- 새로운 스타일 추가 시 파일명을 `kebab-case`로 작성하고, 관련 명령어 문서에서 참고 안내를 추가하면 사용자 경험을 높일 수 있습니다.
