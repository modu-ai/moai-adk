# SPEC Intelligent Workflow Skill

## 이 Skill이란?

MoAI-ADK의 **SPEC-First TDD 워크플로우**를 실현하는 핵심 Skill입니다.

**Alfred가 사용자 요청을 분석**하여 자동으로 SPEC 필요성을 판단하고,
**3단계 템플릿** 중 적절한 것을 선택하며, **통계로 효과**를 추적합니다.

### 핵심 가치

```
❌ 이전: 사용자가 항상 SPEC 필요 여부를 판단해야 함 → 부담
✅ 이후: Alfred가 자동으로 판단 및 제안 → 자연스러운 워크플로우
```

---

## 🎯 핵심 기능 3가지

### 1️⃣ Alfred의 지능형 판단

5가지 질문으로 **자연어 분석**:

```
① 여러 파일을 수정하거나 새로 생성하는가?
② 아키텍처나 데이터 모델 변경이 있는가?
③ 여러 컴포넌트 간 통합이 필요한가?
④ 구현 시간이 30분 이상 예상되는가?
⑤ 향후 유지보수나 확장이 필요한가?
```

**자동 판단**:
- `0-1개 "예"` → SPEC 불필요 (즉시 구현)
- `2-3개 "예"` → SPEC 권장 (사용자 선택)
- `4-5개 "예"` → SPEC 강력 권장 (강조)

### 2️⃣ 3단계 SPEC 템플릿

Alfred가 자동으로 선택:

| 레벨 | 대상 | 섹션 | 작성 시간 | 특징 |
|------|------|------|---------|------|
| **Level 1** | 간단한 수정 | 5개 | 5-10분 | 빠르고 간결 |
| **Level 2** | 일반 기능 | 7개 | 10-15분 | EARS 형식 |
| **Level 3** | 복잡한 작업 | 10+ | 20-30분 | 아키텍처 설계 포함 |

### 3️⃣ 통계 및 분석

**자동으로 추적하는 메트릭**:

```
세션 시작 시:
  📊 최근 30일 SPEC 통계
     • 생성 개수
     • 평균 완료 시간
     • 코드 연결율
     • 테스트 커버리지

세션 종료 시:
  📈 데이터 자동 수집
     • Git 커밋 연결
     • 수정 파일 추적
     • 테스트 결과 기록

매월:
  📋 리포트 자동 생성
     • 트렌드 분석
     • 개선 권장사항
```

---

## 📖 빠른 시작

### 시나리오 A: 간단한 작업

```
사용자: "로그인 버튼 색상을 변경해주세요"

Alfred 판단:
  ① 파일 수정: 1개 파일만 → 아니오
  ② 아키텍처: 변경 없음 → 아니오
  ③ 통합: 필요 없음 → 아니오
  ④ 시간: 5분 → 아니오
  ⑤ 유지보수: 필요 없음 → 아니오

결론: 0개 조건 충족 → SPEC 불필요

→ 즉시 구현 진행
```

### 시나리오 B: 중간 복잡도

```
사용자: "사용자 프로필 이미지 업로드 기능을 추가해주세요"

Alfred 판단:
  ① 파일 수정: 4개 파일 (Backend, Frontend, DB) → 예
  ② 아키텍처: 파일 업로드 흐름 추가 → 예
  ③ 통합: 3개 컴포넌트 → 예
  ④ 시간: 2시간 → 예
  ⑤ 유지보수: 필요 있음 → 예

결론: 5개 조건 충족 → SPEC 강력 권장

사용자 선택: "예, SPEC 생성"

→ 자동 /moai:1-plan 실행
→ Level 2 (Standard) 템플릿 자동 선택
→ SPEC-XXX 생성
→ /moai:2-run SPEC-XXX 구현
```

### 시나리오 C: 프로토타입

```
사용자: "빠르게 프로토타입을 만들어보고 싶습니다"

Alfred 판단: 프로토타입 키워드 감지

→ SPEC 스킵, 즉시 구현
→ 완료 후 프로덕션 전환 시 SPEC 권장
```

---

## 🔄 Alfred의 SPEC 판단 흐름

```
┌─────────────────┐
│  사용자 요청    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  @agent-Plan    │    (선택)
│  실행 또는      │
│  대화 분석      │
└────────┬────────┘
         │
         ▼
┌──────────────────────┐
│ Alfred가 5가지 조건  │
│ 자연어 분석          │
└────────┬─────────────┘
         │
         ├─ 0-1개 ──→ SPEC 불필요 ──→ 즉시 구현
         │
         ├─ 2-3개 ──→ SPEC 권장 ──→ AskUserQuestion
         │                         │
         │                         ├─ 사용자 "예" ──→ /moai:1-plan
         │                         │
         │                         └─ 사용자 "아니오" ──→ 즉시 구현
         │
         └─ 4-5개 ──→ SPEC 강력 권장 ──→ 강조된 제안
                                         │
                                         ├─ "예" ──→ /moai:1-plan
                                         │
                                         └─ "아니오" ──→ 즉시 구현
                                                      │
                                                      ▼
                                              구현 중 복잡도
                                              증가 감지 시
                                              SPEC 제안 가능
```

---

## 📚 문서 가이드

### 🔍 다양한 이해 수준별 읽기

#### 5분 만에 이해 (매우 빠름)
→ 이 README.md 읽기

#### 15분 만에 완전히 이해 (빠름)
→ **alfred-decision-logic.md** 읽기
   - Alfred의 5가지 판단 기준 상세
   - 3가지 실전 예제

#### 30분에 모든 것을 알기 (충분함)
→ 위 + **templates.md** 읽기
   - 3단계 템플릿 완전 이해
   - 템플릿 선택 기준
   - 실제 예제 3개

#### 1시간에 깊이 있게 (매우 상세)
→ 위 + **analytics.md** 읽기
   - 통계 시스템 설계
   - SessionStart/End Hook
   - 월간 리포트

#### 2시간에 전문가 수준 (완벽함)
→ 모든 문서 + **examples.md** 읽기
   - 10+ 실전 사용 사례
   - 다양한 시나리오

---

## ❓ 자주 있는 질문

### Q: SPEC이 정말 필요한가요?
A: Alfred가 판단합니다! 사용자는 선택만 하면 됩니다.

### Q: 모든 작업에 SPEC을 써야 하나요?
A: 아니요. 간단한 작업은 SPEC 없이 바로 구현합니다.

### Q: SPEC을 만드는데 시간이 오래 걸리지 않나요?
A: AI가 80% 자동 생성하므로 5-30분만 소요됩니다.

### Q: SPEC 제안을 거부할 수 있나요?
A: 네, 모든 제안은 거부 가능합니다. 강제하지 않습니다.

더 많은 질문은 **FAQ.md** 참고

---

## 🎯 이 Skill의 목표

### 문제 해결
```
❌ 이전: "SPEC을 작성할지 말지 판단해야 한다" (사용자 부담)
✅ 이후: "Alfred가 판단하고 제안한다" (자연스러운 워크플로우)
```

### 효과 측정
```
❌ 이전: "SPEC이 정말 도움이 되는지 알 수 없다"
✅ 이후: "통계로 30% 시간 절감을 확인한다"
```

### 지속적 개선
```
❌ 이전: "일회성 문서"
✅ 이후: "월간 리포트로 개선점 파악 후 최적화"
```

---

## 🚀 다음 단계

### 이 Skill을 읽은 후

1. **alfred-decision-logic.md** 읽기
   - 5가지 판단 기준 이해

2. **templates.md** 읽기
   - 3단계 템플릿 선택 기준 학습

3. **실제 작업 시작**
   - Alfred의 제안에 따라 SPEC 생성
   - 또는 바로 구현

4. **통계 확인** (1주일 후)
   - SessionStart에서 효과 확인
   - 월간 리포트 분석

---

## 📊 기대 효과

**SPEC-First 워크플로우를 통한 기대 효과**:

| 지표 | 기존 | 개선 후 | 개선율 |
|------|------|--------|-------|
| 구현 시간 | 60분 | 45분 | 25% ↓ |
| 버그 발생 | 8개 | 6개 | 25% ↓ |
| 테스트 커버리지 | 80% | 90% | 10% ↑ |
| 코드 리뷰 시간 | 20분 | 12분 | 40% ↓ |
| SPEC 작성 시간 | 30분 | 9분 | 70% ↓ |

---

## 🔗 관련 리소스

| 문서 | 목적 |
|------|------|
| **CLAUDE.md** | Alfred와 MoAI-ADK의 전체 구조 (이 Skill의 개요만 포함) |
| **alfred-decision-logic.md** | Alfred의 판단 알고리즘 상세 |
| **templates.md** | 3단계 SPEC 템플릿 완전 정의 |
| **analytics.md** | 통계 및 분석 시스템 설계 |
| **examples.md** | 10+ 실전 사용 사례 |
| **FAQ.md** | 자주 묻는 질문과 답변 |

---

**Skill 버전**: 1.0.0
**마지막 업데이트**: 2025-11-21
**상태**: Active - 사용 중
