{
  "moai": {
    "version": "0.30.2",
    "update_check_frequency": "daily",
    "version_check": {
      "enabled": true,
      "cache_ttl_hours": 24
    }
  },
  "constitution": {
    "enforce_tdd": true,
    "test_coverage_target": 90
  },
  "git_strategy": {
    "mode": "manual",
    "environment": "local",
    "github_integration": false,
    "preset_file": ".moai/config/presets/manual-local.json",
    "description": "GitHub Flow 3-Mode System (Manual = Local, Personal = GitHub Individual, Team = GitHub Team)",
    "_notes": "Set 'mode' to 'manual', 'personal', or 'team'. Preset file is auto-loaded. See .moai/config/presets/ for full configuration.",

    "branch_creation": {
      "prompt_always": true,
      "auto_enabled": false,
      "_notes": "prompt_always: Ask user for branch creation on every SPEC. auto_enabled: (Personal/Team only) Enable automatic branch creation after first confirmation. Set prompt_always=false + auto_enabled=true for full automation."
    },

    "automation": {
      "auto_branch": false,
      "auto_commit": true,
      "auto_pr": false,
      "auto_push": false
    },

    "hooks": {
      "pre_commit": "enforce",
      "pre_push": "warn",
      "commit_msg": "warn"
    },

    "commit_style": {
      "format": "conventional",
      "scope_required": false
    },

    "manual": {
      "workflow": "github-flow",
      "environment": "local",
      "github_integration": false,
      "auto_checkpoint": "disabled",
      "push_to_remote": false,
      "_notes": "Local Git only. Branch creation is manual. TDD and docs commits are automatic."
    },

    "personal": {
      "workflow": "github-flow",
      "environment": "github",
      "github_integration": true,
      "auto_branch": true,
      "auto_commit": true,
      "auto_pr": false,
      "auto_push": true,
      "branch_prefix": "feature/SPEC-",
      "main_branch": "main",
      "_notes": "GitHub individual project. Full automation except PR (suggested)."
    },

    "team": {
      "workflow": "github-flow",
      "environment": "github",
      "github_integration": true,
      "auto_branch": true,
      "auto_commit": true,
      "auto_pr": true,
      "auto_push": true,
      "draft_pr": true,
      "required_reviews": 1,
      "branch_protection": true,
      "feature_prefix": "feature/SPEC-",
      "main_branch": "main",
      "_notes": "GitHub team project. Full automation with governance."
    }
  },
  "pipeline": {
    "available_commands": [
      "/moai:0-project",
      "/moai:1-plan",
      "/moai:2-run",
      "/moai:3-sync"
    ]
  },
  "language": {
    "conversation_language": "ko",
    "conversation_language_name": "Korean",
    "agent_prompt_language": "en",
    "git_commit_messages": "en",
    "code_comments": "en",
    "documentation": "ko",
    "error_messages": "en",
    "notes": "Language settings: conversation_language (user interaction), agent_prompt_language (internal prompts), git_commit_messages (git commits), code_comments (source code), documentation (docs), error_messages (user error messages)"
  },
  "project": {
    "name": "{{PROJECT_NAME}}",
    "description": "{{PROJECT_DESCRIPTION}}",
    "owner": "{{PROJECT_OWNER}}",
    "mode": "development",
    "created_at": "{{CREATED_AT}}",
    "initialized": true
  },
  "user": {
    "name": "",
    "notes": "Personal name for Alfred's personalized greetings (e.g., '철수', 'John'). Leave empty for default greetings like '사용자님'"
  },
  "session": {
    "suppress_setup_messages": false,
    "end": {
      "enabled": true,
      "metrics": {
        "enabled": true,
        "save_location": ".moai/logs/sessions/"
      },
      "work_state": {
        "enabled": true,
        "save_location": ".moai/memory/last-session-state.json"
      },
      "warnings": {
        "uncommitted_changes": true
      }
    },
    "notes": "Session management configuration. Controls startup messages, end-of-session behavior, metrics saving, and work state preservation."
  },
  "hooks": {
    "timeout_ms": 15000,
    "graceful_degradation": true,
    "notes": "Hook execution timeout (milliseconds). Set graceful_degradation to true to continue even if a hook fails. Optimized to 15 seconds to prevent Aborted() errors from timeout conflicts."
  },
  "cleanup": {
    "enabled": true,
    "schedule": "session_end",
    "cleanup_days": 7,
    "max_reports": 10,
    "temp_files": true,
    "cache_files": true,
    "patterns": [
      ".moai/docs/reports/*.json",
      ".moai/docs/reports/*.md",
      ".moai/cache/*",
      ".moai/temp/*",
      ".moai/cache/*.tmp"
    ],
    "notify_before_delete": true,
    "preserve_recent_days": 3,
    "max_items_per_cleanup": 100,
    "dry_run": false,
    "notes": "Cleanup configuration for managing temporary files, cache, and reports. Runs automatically at session end by default."
  },
  "analytics": {
    "enabled": true,
    "daily": {
      "analysis_time": "00:00",
      "analyze_sessions": true,
      "analyze_tools": true,
      "analyze_errors": true,
      "analyze_permissions": true,
      "auto_optimize": false,
      "report_location": ".moai/docs/reports/daily-"
    },
    "reports": {
      "enabled": true,
      "auto_create": false,
      "warn_user": true,
      "user_choice": "Minimal",
      "configured_at": "2025-11-24T14:15:00Z",
      "allowed_locations": [
        ".moai/docs/",
        ".moai/docs/reports/",
        ".moai/analysis/",
        ".moai/specs/SPEC-*/"
      ]
    },
    "notes": "Analytics configuration for daily analysis and report generation. Helps monitor system usage and performance."
  },
  "github": {
    "templates": {
      "enable_trust_5": true,
      "enable_moai_commands": true,
      "spec_directory": ".moai/specs",
      "docs_directory": ".moai/docs",
      "test_directory": "tests",
      "notes": "Configure GitHub templates for project customization. When enable_* flags are false, corresponding MoAI-specific sections are omitted from templates."
    },
    "spec_git_workflow": "develop_direct",
    "notes": "GitHub integration settings. 'develop_direct' is recommended for rapid development in personal projects. Options: 'develop_direct' (direct commits), 'feature_branch' (always create branches), 'per_spec' (ask user per SPEC)."
  },
  "document_management": {
    "enabled": true,
    "enforce_structure": true,
    "block_root_pollution": true,
    "separation_policy": {
      "strict_separation": true,
      "description": "Clear separation between logs (runtime data) and docs (documentation content)",
      "logs_scope": "runtime sessions, errors, execution traces, agent transcripts",
      "docs_scope": "reports, analysis, validation, sync, inspection, documentation files"
    },
    "directories": {
      "docs": {
        "base": ".moai/docs/",
        "categories": {
          "reports": {
            "subcategories": ["inspection", "phases", "sync", "analysis", "validation", "daily"],
            "auto_categorize": true,
            "retention_days": 90
          },
          "specs": {
            "retention_days": null
          },
          "api": {
            "retention_days": null
          },
          "guides": {
            "retention_days": null
          }
        },
        "retention_days": null
      },
      "logs": {
        "base": ".moai/logs/",
        "categories": ["sessions", "agent-transcripts", "errors", "execution"],
        "retention_days": 30,
        "description": "Pure log files only - runtime sessions, errors, execution traces"
      },
      "scripts": {
        "base": ".moai/scripts/",
        "categories": [
          "dev",
          "conversion",
          "validation",
          "analysis",
          "maintenance"
        ],
        "retention_days": null
      },
      "temp": {
        "base": ".moai/temp/",
        "categories": ["tests", "coverage", "work", "research"],
        "retention_days": 7,
        "auto_cleanup": true
      },
      "backups": {
        "base": ".moai/backups/",
        "categories": ["specs", "docs", "hooks", "skills", "config", "legacy"],
        "retention_days": 90,
        "max_backups_per_type": 10
      },
      "cache": {
        "base": ".moai/cache/",
        "categories": ["mcp", "analysis"],
        "retention_days": 30,
        "auto_cleanup": true
      }
    },
    "root_whitelist": [
      "README.md",
      "README.*.md",
      "CHANGELOG.md",
      "CONTRIBUTING.md",
      "CLAUDE.md",
      "LICENSE",
      "LICENSE.*",
      "pyproject.toml",
      "setup.py",
      "setup.cfg",
      "package.json",
      "package-lock.json",
      "yarn.lock",
      "pnpm-lock.yaml",
      ".gitignore",
      ".gitattributes",
      ".editorconfig",
      ".prettierrc",
      ".eslintrc*",
      "Makefile",
      "Dockerfile",
      "docker-compose.yml",
      ".dockerignore",
      "tsconfig.json",
      "jsconfig.json",
      "next.config.js",
      "vite.config.js"
    ],
    "file_patterns": {
      "docs": {
        "reports": {
          "inspection": ["FINAL-INSPECTION-*.md", "*-inspection-*.md"],
          "phases": ["PHASE*-COMPLETION-*.md", "*-phase-*.md"],
          "sync": ["sync-report-*.md", "*-sync-*.md"],
          "analysis": ["*-ANALYSIS-*.md", "*-analysis-*.md"],
          "validation": ["*-validation-*.md", "*-quality-*.md"],
          "daily": ["daily-*.md", "*-daily-report-*.md"]
        },
        "specs": ["SPEC-*.md", "spec-*.md"],
        "api": ["api-*.md", "*-api-*.md"],
        "guides": ["guide-*.md", "*-guide-*.md", "README-*.md"]
      },
      "scripts": {
        "dev": ["init-*.sh", "setup-*.sh", "*-dev-*.py"],
        "conversion": ["fix-*.js", "convert-*.py", "migrate-*.js"],
        "validation": ["validate_*.py", "lint_*.py", "check_*.sh"],
        "analysis": ["*_analyzer.py", "analyze_*.py", "*_monitor.py"],
        "maintenance": ["cleanup_*.sh", "maintain_*.py"]
      },
      "temp": {
        "tests": ["test-*.spec.js", "*_test.tmp", "*.test.temp"],
        "coverage": ["coverage.json", ".coverage", "*.lcov"],
        "work": ["*.tmp", "*.temp", "*.bak", "*.draft"]
      },
      "backups": {
        "docs": ["docs_backup_*", "docs-backup-*"],
        "hooks": ["hooks_backup_*", "hooks-backup-*"],
        "specs": ["specs_backup_*", "specs-backup-*"],
        "config": ["config_backup_*", "config-backup-*"]
      }
    },
    "validation": {
      "enabled": true,
      "on_file_create": true,
      "on_session_end": true,
      "warn_violations": true,
      "block_violations": false
    },
    "auto_migration": {
      "enabled": true,
      "scan_on_startup": false,
      "suggest_moves": true,
      "auto_move": false,
      "require_user_approval": true
    },
    "notes": "Document management system to prevent project root pollution. Enforces .moai/ hierarchy for all internal files. Auto-categorizes by file patterns. Cleanup policy preserves recent files."
  }
}
